(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function gg(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var _m={exports:{}},Fo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function ew(){if(wv)return Fo;wv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,l,c){var h=null;if(c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:h,ref:l!==void 0?l:null,props:c}}return Fo.Fragment=e,Fo.jsx=n,Fo.jsxs=n,Fo}var Sv;function tw(){return Sv||(Sv=1,_m.exports=ew()),_m.exports}var u=tw(),vm={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function nw(){if(Nv)return je;Nv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function w(M){return M===null||typeof M!="object"?null:(M=A&&M[A]||M["@@iterator"],typeof M=="function"?M:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,z={};function V(M,te,fe){this.props=M,this.context=te,this.refs=z,this.updater=fe||I}V.prototype.isReactComponent={},V.prototype.setState=function(M,te){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,te,"setState")},V.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function B(){}B.prototype=V.prototype;function F(M,te,fe){this.props=M,this.context=te,this.refs=z,this.updater=fe||I}var G=F.prototype=new B;G.constructor=F,L(G,V.prototype),G.isPureReactComponent=!0;var Y=Array.isArray,W={H:null,A:null,T:null,S:null},le=Object.prototype.hasOwnProperty;function P(M,te,fe,ue,de,Ie){return fe=Ie.ref,{$$typeof:s,type:M,key:te,ref:fe!==void 0?fe:null,props:Ie}}function k(M,te){return P(M.type,te,void 0,void 0,void 0,M.props)}function T(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function N(M){var te={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(fe){return te[fe]})}var j=/\/+/g;function C(M,te){return typeof M=="object"&&M!==null&&M.key!=null?N(""+M.key):te.toString(36)}function R(){}function ye(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(R,R):(M.status="pending",M.then(function(te){M.status==="pending"&&(M.status="fulfilled",M.value=te)},function(te){M.status==="pending"&&(M.status="rejected",M.reason=te)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Ae(M,te,fe,ue,de){var Ie=typeof M;(Ie==="undefined"||Ie==="boolean")&&(M=null);var Re=!1;if(M===null)Re=!0;else switch(Ie){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(M.$$typeof){case s:case e:Re=!0;break;case E:return Re=M._init,Ae(Re(M._payload),te,fe,ue,de)}}if(Re)return de=de(M),Re=ue===""?"."+C(M,0):ue,Y(de)?(fe="",Re!=null&&(fe=Re.replace(j,"$&/")+"/"),Ae(de,te,fe,"",function(ct){return ct})):de!=null&&(T(de)&&(de=k(de,fe+(de.key==null||M&&M.key===de.key?"":(""+de.key).replace(j,"$&/")+"/")+Re)),te.push(de)),1;Re=0;var xt=ue===""?".":ue+":";if(Y(M))for(var Ke=0;Ke<M.length;Ke++)ue=M[Ke],Ie=xt+C(ue,Ke),Re+=Ae(ue,te,fe,Ie,de);else if(Ke=w(M),typeof Ke=="function")for(M=Ke.call(M),Ke=0;!(ue=M.next()).done;)ue=ue.value,Ie=xt+C(ue,Ke++),Re+=Ae(ue,te,fe,Ie,de);else if(Ie==="object"){if(typeof M.then=="function")return Ae(ye(M),te,fe,ue,de);throw te=String(M),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Re}function ae(M,te,fe){if(M==null)return M;var ue=[],de=0;return Ae(M,ue,"","",function(Ie){return te.call(fe,Ie,de++)}),ue}function ve(M){if(M._status===-1){var te=M._result;te=te(),te.then(function(fe){(M._status===0||M._status===-1)&&(M._status=1,M._result=fe)},function(fe){(M._status===0||M._status===-1)&&(M._status=2,M._result=fe)}),M._status===-1&&(M._status=0,M._result=te)}if(M._status===1)return M._result.default;throw M._result}var oe=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function he(){}return je.Children={map:ae,forEach:function(M,te,fe){ae(M,function(){te.apply(this,arguments)},fe)},count:function(M){var te=0;return ae(M,function(){te++}),te},toArray:function(M){return ae(M,function(te){return te})||[]},only:function(M){if(!T(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},je.Component=V,je.Fragment=n,je.Profiler=l,je.PureComponent=F,je.StrictMode=a,je.Suspense=p,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,je.act=function(){throw Error("act(...) is not supported in production builds of React.")},je.cache=function(M){return function(){return M.apply(null,arguments)}},je.cloneElement=function(M,te,fe){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ue=L({},M.props),de=M.key,Ie=void 0;if(te!=null)for(Re in te.ref!==void 0&&(Ie=void 0),te.key!==void 0&&(de=""+te.key),te)!le.call(te,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&te.ref===void 0||(ue[Re]=te[Re]);var Re=arguments.length-2;if(Re===1)ue.children=fe;else if(1<Re){for(var xt=Array(Re),Ke=0;Ke<Re;Ke++)xt[Ke]=arguments[Ke+2];ue.children=xt}return P(M.type,de,void 0,void 0,Ie,ue)},je.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},je.createElement=function(M,te,fe){var ue,de={},Ie=null;if(te!=null)for(ue in te.key!==void 0&&(Ie=""+te.key),te)le.call(te,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(de[ue]=te[ue]);var Re=arguments.length-2;if(Re===1)de.children=fe;else if(1<Re){for(var xt=Array(Re),Ke=0;Ke<Re;Ke++)xt[Ke]=arguments[Ke+2];de.children=xt}if(M&&M.defaultProps)for(ue in Re=M.defaultProps,Re)de[ue]===void 0&&(de[ue]=Re[ue]);return P(M,Ie,void 0,void 0,null,de)},je.createRef=function(){return{current:null}},je.forwardRef=function(M){return{$$typeof:g,render:M}},je.isValidElement=T,je.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:ve}},je.memo=function(M,te){return{$$typeof:y,type:M,compare:te===void 0?null:te}},je.startTransition=function(M){var te=W.T,fe={};W.T=fe;try{var ue=M(),de=W.S;de!==null&&de(fe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(he,oe)}catch(Ie){oe(Ie)}finally{W.T=te}},je.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},je.use=function(M){return W.H.use(M)},je.useActionState=function(M,te,fe){return W.H.useActionState(M,te,fe)},je.useCallback=function(M,te){return W.H.useCallback(M,te)},je.useContext=function(M){return W.H.useContext(M)},je.useDebugValue=function(){},je.useDeferredValue=function(M,te){return W.H.useDeferredValue(M,te)},je.useEffect=function(M,te){return W.H.useEffect(M,te)},je.useId=function(){return W.H.useId()},je.useImperativeHandle=function(M,te,fe){return W.H.useImperativeHandle(M,te,fe)},je.useInsertionEffect=function(M,te){return W.H.useInsertionEffect(M,te)},je.useLayoutEffect=function(M,te){return W.H.useLayoutEffect(M,te)},je.useMemo=function(M,te){return W.H.useMemo(M,te)},je.useOptimistic=function(M,te){return W.H.useOptimistic(M,te)},je.useReducer=function(M,te,fe){return W.H.useReducer(M,te,fe)},je.useRef=function(M){return W.H.useRef(M)},je.useState=function(M){return W.H.useState(M)},je.useSyncExternalStore=function(M,te,fe){return W.H.useSyncExternalStore(M,te,fe)},je.useTransition=function(){return W.H.useTransition()},je.version="19.0.0",je}var Rv;function pg(){return Rv||(Rv=1,vm.exports=nw()),vm.exports}var O=pg();const sw=gg(O);var xm={exports:{}},Go={},Em={exports:{}},Tm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function iw(){return kv||(kv=1,function(s){function e(ae,ve){var oe=ae.length;ae.push(ve);e:for(;0<oe;){var he=oe-1>>>1,M=ae[he];if(0<l(M,ve))ae[he]=ve,ae[oe]=M,oe=he;else break e}}function n(ae){return ae.length===0?null:ae[0]}function a(ae){if(ae.length===0)return null;var ve=ae[0],oe=ae.pop();if(oe!==ve){ae[0]=oe;e:for(var he=0,M=ae.length,te=M>>>1;he<te;){var fe=2*(he+1)-1,ue=ae[fe],de=fe+1,Ie=ae[de];if(0>l(ue,oe))de<M&&0>l(Ie,ue)?(ae[he]=Ie,ae[de]=oe,he=de):(ae[he]=ue,ae[fe]=oe,he=fe);else if(de<M&&0>l(Ie,oe))ae[he]=Ie,ae[de]=oe,he=de;else break e}}return ve}function l(ae,ve){var oe=ae.sortIndex-ve.sortIndex;return oe!==0?oe:ae.id-ve.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var h=Date,g=h.now();s.unstable_now=function(){return h.now()-g}}var p=[],y=[],E=1,A=null,w=3,I=!1,L=!1,z=!1,V=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function G(ae){for(var ve=n(y);ve!==null;){if(ve.callback===null)a(y);else if(ve.startTime<=ae)a(y),ve.sortIndex=ve.expirationTime,e(p,ve);else break;ve=n(y)}}function Y(ae){if(z=!1,G(ae),!L)if(n(p)!==null)L=!0,ye();else{var ve=n(y);ve!==null&&Ae(Y,ve.startTime-ae)}}var W=!1,le=-1,P=5,k=-1;function T(){return!(s.unstable_now()-k<P)}function N(){if(W){var ae=s.unstable_now();k=ae;var ve=!0;try{e:{L=!1,z&&(z=!1,B(le),le=-1),I=!0;var oe=w;try{t:{for(G(ae),A=n(p);A!==null&&!(A.expirationTime>ae&&T());){var he=A.callback;if(typeof he=="function"){A.callback=null,w=A.priorityLevel;var M=he(A.expirationTime<=ae);if(ae=s.unstable_now(),typeof M=="function"){A.callback=M,G(ae),ve=!0;break t}A===n(p)&&a(p),G(ae)}else a(p);A=n(p)}if(A!==null)ve=!0;else{var te=n(y);te!==null&&Ae(Y,te.startTime-ae),ve=!1}}break e}finally{A=null,w=oe,I=!1}ve=void 0}}finally{ve?j():W=!1}}}var j;if(typeof F=="function")j=function(){F(N)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,R=C.port2;C.port1.onmessage=N,j=function(){R.postMessage(null)}}else j=function(){V(N,0)};function ye(){W||(W=!0,j())}function Ae(ae,ve){le=V(function(){ae(s.unstable_now())},ve)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(ae){ae.callback=null},s.unstable_continueExecution=function(){L||I||(L=!0,ye())},s.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ae?Math.floor(1e3/ae):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_getFirstCallbackNode=function(){return n(p)},s.unstable_next=function(ae){switch(w){case 1:case 2:case 3:var ve=3;break;default:ve=w}var oe=w;w=ve;try{return ae()}finally{w=oe}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(ae,ve){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var oe=w;w=ae;try{return ve()}finally{w=oe}},s.unstable_scheduleCallback=function(ae,ve,oe){var he=s.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?he+oe:he):oe=he,ae){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=oe+M,ae={id:E++,callback:ve,priorityLevel:ae,startTime:oe,expirationTime:M,sortIndex:-1},oe>he?(ae.sortIndex=oe,e(y,ae),n(p)===null&&ae===n(y)&&(z?(B(le),le=-1):z=!0,Ae(Y,oe-he))):(ae.sortIndex=M,e(p,ae),L||I||(L=!0,ye())),ae},s.unstable_shouldYield=T,s.unstable_wrapCallback=function(ae){var ve=w;return function(){var oe=w;w=ve;try{return ae.apply(this,arguments)}finally{w=oe}}}}(Tm)),Tm}var Cv;function aw(){return Cv||(Cv=1,Em.exports=iw()),Em.exports}var bm={exports:{}},Jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function rw(){if(Iv)return Jt;Iv=1;var s=pg();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,y,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:p,containerInfo:y,implementation:E}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Jt.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,E)},Jt.flushSync=function(p){var y=h.T,E=a.p;try{if(h.T=null,a.p=2,p)return p()}finally{h.T=y,a.p=E,a.d.f()}},Jt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(p,y))},Jt.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Jt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,A=g(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,I=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:I}):E==="script"&&a.d.X(p,{crossOrigin:A,integrity:w,fetchPriority:I,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Jt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=g(y.as,y.crossOrigin);a.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(p)},Jt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,A=g(E,y.crossOrigin);a.d.L(p,E,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Jt.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=g(y.as,y.crossOrigin);a.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(p)},Jt.requestFormReset=function(p){a.d.r(p)},Jt.unstable_batchedUpdates=function(p,y){return p(y)},Jt.useFormState=function(p,y,E){return h.H.useFormState(p,y,E)},Jt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Jt.version="19.0.0",Jt}var jv;function Tx(){if(jv)return bm.exports;jv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),bm.exports=rw(),bm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function lw(){if(Dv)return Go;Dv=1;var s=aw(),e=pg(),n=Tx();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var c=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),I=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),Y=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function le(t){return t===null||typeof t!="object"?null:(t=W&&t[W]||t["@@iterator"],typeof t=="function"?t:null)}var P=Symbol.for("react.client.reference");function k(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===P?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case g:return"Portal";case E:return"Profiler";case y:return"StrictMode";case z:return"Suspense";case V:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case I:return(t.displayName||"Context")+".Provider";case w:return(t._context.displayName||"Context")+".Consumer";case L:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case B:return i=t.displayName||null,i!==null?i:k(t.type)||"Memo";case F:i=t._payload,t=t._init;try{return k(t(i))}catch{}}return null}var T=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=Object.assign,j,C;function R(t){if(j===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);j=i&&i[1]||"",C=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+j+t+C}var ye=!1;function Ae(t,i){if(!t||ye)return"";ye=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(J){var X=J}Reflect.construct(t,[],re)}else{try{re.call()}catch(J){X=J}t.call(re.prototype)}}else{try{throw Error()}catch(J){X=J}(re=t())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(J){if(J&&X&&typeof J.stack=="string")return[J.stack,X.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),x=m[0],b=m[1];if(x&&b){var D=x.split(`
`),H=b.split(`
`);for(f=o=0;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(o===D.length||f===H.length)for(o=D.length-1,f=H.length-1;1<=o&&0<=f&&D[o]!==H[f];)f--;for(;1<=o&&0<=f;o--,f--)if(D[o]!==H[f]){if(o!==1||f!==1)do if(o--,f--,0>f||D[o]!==H[f]){var ee=`
`+D[o].replace(" at new "," at ");return t.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",t.displayName)),ee}while(1<=o&&0<=f);break}}}finally{ye=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?R(r):""}function ae(t){switch(t.tag){case 26:case 27:case 5:return R(t.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 15:return t=Ae(t.type,!1),t;case 11:return t=Ae(t.type.render,!1),t;case 1:return t=Ae(t.type,!0),t;default:return""}}function ve(t){try{var i="";do i+=ae(t),t=t.return;while(t);return i}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function oe(t){var i=t,r=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(r=i.return),t=i.return;while(t)}return i.tag===3?r:null}function he(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function M(t){if(oe(t)!==t)throw Error(a(188))}function te(t){var i=t.alternate;if(!i){if(i=oe(t),i===null)throw Error(a(188));return i!==t?null:t}for(var r=t,o=i;;){var f=r.return;if(f===null)break;var m=f.alternate;if(m===null){if(o=f.return,o!==null){r=o;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===r)return M(f),t;if(m===o)return M(f),i;m=m.sibling}throw Error(a(188))}if(r.return!==o.return)r=f,o=m;else{for(var x=!1,b=f.child;b;){if(b===r){x=!0,r=f,o=m;break}if(b===o){x=!0,o=f,r=m;break}b=b.sibling}if(!x){for(b=m.child;b;){if(b===r){x=!0,r=m,o=f;break}if(b===o){x=!0,o=m,r=f;break}b=b.sibling}if(!x)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:i}function fe(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=fe(t),i!==null)return i;t=t.sibling}return null}var ue=Array.isArray,de=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie={pending:!1,data:null,method:null,action:null},Re=[],xt=-1;function Ke(t){return{current:t}}function ct(t){0>xt||(t.current=Re[xt],Re[xt]=null,xt--)}function Xe(t,i){xt++,Re[xt]=t.current,t.current=i}var an=Ke(null),Is=Ke(null),Rn=Ke(null),_i=Ke(null);function vi(t,i){switch(Xe(Rn,i),Xe(Is,t),Xe(an,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?ev(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=ev(t),i=tv(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ct(an),Xe(an,i)}function js(){ct(an),ct(Is),ct(Rn)}function Ul(t){t.memoizedState!==null&&Xe(_i,t);var i=an.current,r=tv(i,t.type);i!==r&&(Xe(Is,t),Xe(an,r))}function Er(t){Is.current===t&&(ct(an),ct(Is)),_i.current===t&&(ct(_i),Bo._currentValue=Ie)}var Tr=Object.prototype.hasOwnProperty,Aa=s.unstable_scheduleCallback,br=s.unstable_cancelCallback,vh=s.unstable_shouldYield,Bl=s.unstable_requestPaint,fn=s.unstable_now,Dc=s.unstable_getCurrentPriorityLevel,St=s.unstable_ImmediatePriority,Mt=s.unstable_UserBlockingPriority,Ds=s.unstable_NormalPriority,Oc=s.unstable_LowPriority,Hl=s.unstable_IdlePriority,xh=s.log,wa=s.unstable_setDisableYieldValue,xi=null,Wt=null;function zl(t){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(xi,t,void 0,(t.current.flags&128)===128)}catch{}}function as(t){if(typeof xh=="function"&&wa(t),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(xi,t)}catch{}}var rn=Math.clz32?Math.clz32:Lc,ql=Math.log,Mc=Math.LN2;function Lc(t){return t>>>=0,t===0?32:31-(ql(t)/Mc|0)|0}var rs=128,Ei=4194304;function Gn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function kn(t,i){var r=t.pendingLanes;if(r===0)return 0;var o=0,f=t.suspendedLanes,m=t.pingedLanes,x=t.warmLanes;t=t.finishedLanes!==0;var b=r&134217727;return b!==0?(r=b&~f,r!==0?o=Gn(r):(m&=b,m!==0?o=Gn(m):t||(x=b&~x,x!==0&&(o=Gn(x))))):(b=r&~f,b!==0?o=Gn(b):m!==0?o=Gn(m):t||(x=r&~x,x!==0&&(o=Gn(x)))),o===0?0:i!==0&&i!==o&&(i&f)===0&&(f=o&-o,x=i&-i,f>=x||f===32&&(x&4194176)!==0)?i:o}function Ti(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Ar(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kl(){var t=rs;return rs<<=1,(rs&4194176)===0&&(rs=128),t}function bi(){var t=Ei;return Ei<<=1,(Ei&62914560)===0&&(Ei=4194304),t}function wr(t){for(var i=[],r=0;31>r;r++)i.push(t);return i}function yt(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Vc(t,i,r,o,f,m){var x=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var b=t.entanglements,D=t.expirationTimes,H=t.hiddenUpdates;for(r=x&~r;0<r;){var ee=31-rn(r),re=1<<ee;b[ee]=0,D[ee]=-1;var X=H[ee];if(X!==null)for(H[ee]=null,ee=0;ee<X.length;ee++){var J=X[ee];J!==null&&(J.lane&=-536870913)}r&=~re}o!==0&&Ai(t,o,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(x&~i))}function Ai(t,i,r){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-rn(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|r&4194218}function wi(t,i){var r=t.entangledLanes|=i;for(t=t.entanglements;r;){var o=31-rn(r),f=1<<o;f&i|t[o]&i&&(t[o]|=i),r&=~f}}function Pc(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Uc(){var t=de.p;return t!==0?t:(t=window.event,t===void 0?32:vv(t.type))}function Si(t,i){var r=de.p;try{return de.p=t,i()}finally{de.p=r}}var ls=Math.random().toString(36).slice(2),Lt="__reactFiber$"+ls,Nt="__reactProps$"+ls,Os="__reactContainer$"+ls,Sa="__reactEvents$"+ls,Sr="__reactListeners$"+ls,os="__reactHandles$"+ls,Fl="__reactResources$"+ls,Ni="__reactMarker$"+ls;function Na(t){delete t[Lt],delete t[Nt],delete t[Sa],delete t[Sr],delete t[os]}function $n(t){var i=t[Lt];if(i)return i;for(var r=t.parentNode;r;){if(i=r[Os]||r[Lt]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(t=iv(t);t!==null;){if(r=t[Lt])return r;t=iv(t)}return i}t=r,r=t.parentNode}return null}function Ms(t){if(t=t[Lt]||t[Os]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Ri(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function ki(t){var i=t[Fl];return i||(i=t[Fl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function at(t){t[Ni]=!0}var Gl=new Set,Nr={};function _n(t,i){mn(t,i),mn(t+"Capture",i)}function mn(t,i){for(Nr[t]=i,t=0;t<i.length;t++)Gl.add(i[t])}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$l={},Ql={};function Bc(t){return Tr.call(Ql,t)?!0:Tr.call($l,t)?!1:Eh.test(t)?Ql[t]=!0:($l[t]=!0,!1)}function Ci(t,i,r){if(Bc(i))if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+r)}}function Ii(t,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+r)}}function Cn(t,i,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(i,r,""+o)}}function ln(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Hc(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Th(t){var i=Hc(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),o=""+t[i];if(!t.hasOwnProperty(i)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var f=r.get,m=r.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(x){o=""+x,m.call(this,x)}}),Object.defineProperty(t,i,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(x){o=""+x},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ra(t){t._valueTracker||(t._valueTracker=Th(t))}function Yl(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var r=i.getValue(),o="";return t&&(o=Hc(t)?t.checked?"true":"false":t.value),t=o,t!==r?(i.setValue(t),!0):!1}function Rr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ls=/[\n"\\]/g;function ut(t){return t.replace(Ls,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ji(t,i,r,o,f,m,x,b){t.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.type=x:t.removeAttribute("type"),i!=null?x==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+ln(i)):t.value!==""+ln(i)&&(t.value=""+ln(i)):x!=="submit"&&x!=="reset"||t.removeAttribute("value"),i!=null?kr(t,x,ln(i)):r!=null?kr(t,x,ln(r)):o!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+ln(b):t.removeAttribute("name")}function ka(t,i,r,o,f,m,x,b){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||r!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;r=r!=null?""+ln(r):"",i=i!=null?""+ln(i):r,b||i===t.value||(t.value=i),t.defaultValue=i}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=b?t.checked:!!o,t.defaultChecked=!!o,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(t.name=x)}function kr(t,i,r){i==="number"&&Rr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Fe(t,i,r,o){if(t=t.options,i){i={};for(var f=0;f<r.length;f++)i["$"+r[f]]=!0;for(r=0;r<t.length;r++)f=i.hasOwnProperty("$"+t[r].value),t[r].selected!==f&&(t[r].selected=f),f&&o&&(t[r].defaultSelected=!0)}else{for(r=""+ln(r),i=null,f=0;f<t.length;f++){if(t[f].value===r){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Ca(t,i,r){if(i!=null&&(i=""+ln(i),i!==t.value&&(t.value=i),r==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=r!=null?""+ln(r):""}function Di(t,i,r,o){if(i==null){if(o!=null){if(r!=null)throw Error(a(92));if(ue(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),i=r}r=ln(i),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o)}function In(t,i){if(i){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=i;return}}t.textContent=i}var bh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xl(t,i,r){var o=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,r):typeof r!="number"||r===0||bh.has(i)?i==="float"?t.cssFloat=r:t[i]=(""+r).trim():t[i]=r+"px"}function zc(t,i,r){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in i)o=i[f],i.hasOwnProperty(f)&&r[f]!==o&&Xl(t,f,o)}else for(var m in i)i.hasOwnProperty(m)&&Xl(t,m,i[m])}function Wl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ah=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cs(t){return wh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var jn=null;function Cr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vs=null,Ps=null;function Us(t){var i=Ms(t);if(i&&(t=i.stateNode)){var r=t[Nt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ji(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ut(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var o=r[i];if(o!==t&&o.form===t.form){var f=o[Nt]||null;if(!f)throw Error(a(90));ji(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<r.length;i++)o=r[i],o.form===t.form&&Yl(o)}break e;case"textarea":Ca(t,r.value,r.defaultValue);break e;case"select":i=r.value,i!=null&&Fe(t,!!r.multiple,i,!1)}}}var Zl=!1;function qc(t,i,r){if(Zl)return t(i,r);Zl=!0;try{var o=t(i);return o}finally{if(Zl=!1,(Vs!==null||Ps!==null)&&(Ou(),Vs&&(i=Vs,t=Ps,Ps=Vs=null,Us(i),t)))for(i=0;i<t.length;i++)Us(t[i])}}function Ia(t,i){var r=t.stateNode;if(r===null)return null;var o=r[Nt]||null;if(o===null)return null;r=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,i,typeof r));return r}var Dn=!1;if(vn)try{var ja={};Object.defineProperty(ja,"passive",{get:function(){Dn=!0}}),window.addEventListener("test",ja,ja),window.removeEventListener("test",ja,ja)}catch{Dn=!1}var us=null,Oi=null,Bs=null;function Jl(){if(Bs)return Bs;var t,i=Oi,r=i.length,o,f="value"in us?us.value:us.textContent,m=f.length;for(t=0;t<r&&i[t]===f[t];t++);var x=r-t;for(o=1;o<=x&&i[r-o]===f[m-o];o++);return Bs=f.slice(t,1<o?1-o:void 0)}function ds(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function hs(){return!0}function eo(){return!1}function Vt(t){function i(r,o,f,m,x){this._reactName=r,this._targetInst=f,this.type=o,this.nativeEvent=m,this.target=x,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(r=t[b],this[b]=r?r(m):m[b]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?hs:eo,this.isPropagationStopped=eo,this}return N(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=hs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=hs)},persist:function(){},isPersistent:hs}),i}var Qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ir=Vt(Qe),Da=N({},Qe,{view:0,detail:0}),Kc=Vt(Da),jr,Dr,fs,Oa=N({},Da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Va,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fs&&(fs&&t.type==="mousemove"?(jr=t.screenX-fs.screenX,Dr=t.screenY-fs.screenY):Dr=jr=0,fs=t),jr)},movementY:function(t){return"movementY"in t?t.movementY:Dr}}),On=Vt(Oa),Fc=N({},Oa,{dataTransfer:0}),Sh=Vt(Fc),Ma=N({},Da,{relatedTarget:0}),Or=Vt(Ma),to=N({},Qe,{animationName:0,elapsedTime:0,pseudoElement:0}),Mr=Vt(to),Gc=N({},Qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Lr=Vt(Gc),Nh=N({},Qe,{data:0}),no=Vt(Nh),La={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$c={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function so(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Qc[t])?!!i[t]:!1}function Va(){return so}var Yc=N({},Da,{key:function(t){if(t.key){var i=La[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ds(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$c[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Va,charCode:function(t){return t.type==="keypress"?ds(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ds(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Vr=Vt(Yc),Xc=N({},Oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),io=Vt(Xc),Hs=N({},Da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Va}),Wc=Vt(Hs),Zc=N({},Qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jc=Vt(Zc),eu=N({},Oa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Pr=Vt(eu),on=N({},Qe,{newState:0,oldState:0}),tu=Vt(on),nu=[9,13,27,32],ms=vn&&"CompositionEvent"in window,d=null;vn&&"documentMode"in document&&(d=document.documentMode);var _=vn&&"TextEvent"in window&&!d,v=vn&&(!ms||d&&8<d&&11>=d),S=" ",$=!1;function Z(t,i){switch(t){case"keyup":return nu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Be=!1;function Rt(t,i){switch(t){case"compositionend":return ce(i);case"keypress":return i.which!==32?null:($=!0,S);case"textInput":return t=i.data,t===S&&$?null:t;default:return null}}function He(t,i){if(Be)return t==="compositionend"||!ms&&Z(t,i)?(t=Jl(),Bs=Oi=us=null,Be=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Pt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Pt[t.type]:i==="textarea"}function zs(t,i,r,o){Vs?Ps?Ps.push(o):Ps=[o]:Vs=o,i=Uu(i,"onChange"),0<i.length&&(r=new Ir("onChange","change",null,r,o),t.push({event:r,listeners:i}))}var qt=null,gs=null;function ao(t){Y_(t,0)}function su(t){var i=Ri(t);if(Yl(i))return t}function Ap(t,i){if(t==="change")return i}var wp=!1;if(vn){var Rh;if(vn){var kh="oninput"in document;if(!kh){var Sp=document.createElement("div");Sp.setAttribute("oninput","return;"),kh=typeof Sp.oninput=="function"}Rh=kh}else Rh=!1;wp=Rh&&(!document.documentMode||9<document.documentMode)}function Np(){qt&&(qt.detachEvent("onpropertychange",Rp),gs=qt=null)}function Rp(t){if(t.propertyName==="value"&&su(gs)){var i=[];zs(i,gs,t,Cr(t)),qc(ao,i)}}function Cb(t,i,r){t==="focusin"?(Np(),qt=i,gs=r,qt.attachEvent("onpropertychange",Rp)):t==="focusout"&&Np()}function Ib(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return su(gs)}function jb(t,i){if(t==="click")return su(i)}function Db(t,i){if(t==="input"||t==="change")return su(i)}function Ob(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var xn=typeof Object.is=="function"?Object.is:Ob;function ro(t,i){if(xn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var r=Object.keys(t),o=Object.keys(i);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var f=r[o];if(!Tr.call(i,f)||!xn(t[f],i[f]))return!1}return!0}function kp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Cp(t,i){var r=kp(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=i&&o>=i)return{node:r,offset:i-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=kp(r)}}function Ip(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Ip(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function jp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Rr(t.document);i instanceof t.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)t=i.contentWindow;else break;i=Rr(t.document)}return i}function Ch(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function Mb(t,i){var r=jp(i);i=t.focusedElem;var o=t.selectionRange;if(r!==i&&i&&i.ownerDocument&&Ip(i.ownerDocument.documentElement,i)){if(o!==null&&Ch(i)){if(t=o.start,r=o.end,r===void 0&&(r=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(r,i.value.length);else if(r=(t=i.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var f=i.textContent.length,m=Math.min(o.start,f);o=o.end===void 0?m:Math.min(o.end,f),!r.extend&&m>o&&(f=o,o=m,m=f),f=Cp(i,m);var x=Cp(i,o);f&&x&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==x.node||r.focusOffset!==x.offset)&&(t=t.createRange(),t.setStart(f.node,f.offset),r.removeAllRanges(),m>o?(r.addRange(t),r.extend(x.node,x.offset)):(t.setEnd(x.node,x.offset),r.addRange(t)))}}for(t=[],r=i;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)r=t[i],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Lb=vn&&"documentMode"in document&&11>=document.documentMode,Ur=null,Ih=null,lo=null,jh=!1;function Dp(t,i,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;jh||Ur==null||Ur!==Rr(o)||(o=Ur,"selectionStart"in o&&Ch(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),lo&&ro(lo,o)||(lo=o,o=Uu(Ih,"onSelect"),0<o.length&&(i=new Ir("onSelect","select",null,i,r),t.push({event:i,listeners:o}),i.target=Ur)))}function Pa(t,i){var r={};return r[t.toLowerCase()]=i.toLowerCase(),r["Webkit"+t]="webkit"+i,r["Moz"+t]="moz"+i,r}var Br={animationend:Pa("Animation","AnimationEnd"),animationiteration:Pa("Animation","AnimationIteration"),animationstart:Pa("Animation","AnimationStart"),transitionrun:Pa("Transition","TransitionRun"),transitionstart:Pa("Transition","TransitionStart"),transitioncancel:Pa("Transition","TransitionCancel"),transitionend:Pa("Transition","TransitionEnd")},Dh={},Op={};vn&&(Op=document.createElement("div").style,"AnimationEvent"in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),"TransitionEvent"in window||delete Br.transitionend.transition);function Ua(t){if(Dh[t])return Dh[t];if(!Br[t])return t;var i=Br[t],r;for(r in i)if(i.hasOwnProperty(r)&&r in Op)return Dh[t]=i[r];return t}var Mp=Ua("animationend"),Lp=Ua("animationiteration"),Vp=Ua("animationstart"),Vb=Ua("transitionrun"),Pb=Ua("transitionstart"),Ub=Ua("transitioncancel"),Pp=Ua("transitionend"),Up=new Map,Bp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Qn(t,i){Up.set(t,i),_n(i,[t])}var Mn=[],Hr=0,Oh=0;function iu(){for(var t=Hr,i=Oh=Hr=0;i<t;){var r=Mn[i];Mn[i++]=null;var o=Mn[i];Mn[i++]=null;var f=Mn[i];Mn[i++]=null;var m=Mn[i];if(Mn[i++]=null,o!==null&&f!==null){var x=o.pending;x===null?f.next=f:(f.next=x.next,x.next=f),o.pending=f}m!==0&&Hp(r,f,m)}}function au(t,i,r,o){Mn[Hr++]=t,Mn[Hr++]=i,Mn[Hr++]=r,Mn[Hr++]=o,Oh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Mh(t,i,r,o){return au(t,i,r,o),ru(t)}function Mi(t,i){return au(t,null,null,i),ru(t)}function Hp(t,i,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var f=!1,m=t.return;m!==null;)m.childLanes|=r,o=m.alternate,o!==null&&(o.childLanes|=r),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;f&&i!==null&&t.tag===3&&(m=t.stateNode,f=31-rn(r),m=m.hiddenUpdates,t=m[f],t===null?m[f]=[i]:t.push(i),i.lane=r|536870912)}function ru(t){if(50<Do)throw Do=0,zf=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var zr={},zp=new WeakMap;function Ln(t,i){if(typeof t=="object"&&t!==null){var r=zp.get(t);return r!==void 0?r:(i={value:t,source:i,stack:ve(i)},zp.set(t,i),i)}return{value:t,source:i,stack:ve(i)}}var qr=[],Kr=0,lu=null,ou=0,Vn=[],Pn=0,Ba=null,qs=1,Ks="";function Ha(t,i){qr[Kr++]=ou,qr[Kr++]=lu,lu=t,ou=i}function qp(t,i,r){Vn[Pn++]=qs,Vn[Pn++]=Ks,Vn[Pn++]=Ba,Ba=t;var o=qs;t=Ks;var f=32-rn(o)-1;o&=~(1<<f),r+=1;var m=32-rn(i)+f;if(30<m){var x=f-f%5;m=(o&(1<<x)-1).toString(32),o>>=x,f-=x,qs=1<<32-rn(i)+f|r<<f|o,Ks=m+t}else qs=1<<m|r<<f|o,Ks=t}function Lh(t){t.return!==null&&(Ha(t,1),qp(t,1,0))}function Vh(t){for(;t===lu;)lu=qr[--Kr],qr[Kr]=null,ou=qr[--Kr],qr[Kr]=null;for(;t===Ba;)Ba=Vn[--Pn],Vn[Pn]=null,Ks=Vn[--Pn],Vn[Pn]=null,qs=Vn[--Pn],Vn[Pn]=null}var cn=null,Kt=null,Ge=!1,Yn=null,ps=!1,Ph=Error(a(519));function za(t){var i=Error(a(418,""));throw uo(Ln(i,t)),Ph}function Kp(t){var i=t.stateNode,r=t.type,o=t.memoizedProps;switch(i[Lt]=t,i[Nt]=o,r){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(r=0;r<Mo.length;r++)Pe(Mo[r],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":Pe("invalid",i),ka(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Ra(i);break;case"select":Pe("invalid",i);break;case"textarea":Pe("invalid",i),Di(i,o.value,o.defaultValue,o.children),Ra(i)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||o.suppressHydrationWarning===!0||J_(i.textContent,r)?(o.popover!=null&&(Pe("beforetoggle",i),Pe("toggle",i)),o.onScroll!=null&&Pe("scroll",i),o.onScrollEnd!=null&&Pe("scrollend",i),o.onClick!=null&&(i.onclick=Bu),i=!0):i=!1,i||za(t)}function Fp(t){for(cn=t.return;cn;)switch(cn.tag){case 3:case 27:ps=!0;return;case 5:case 13:ps=!1;return;default:cn=cn.return}}function oo(t){if(t!==cn)return!1;if(!Ge)return Fp(t),Ge=!0,!1;var i=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||am(t.type,t.memoizedProps)),r=!r),r&&(i=!0),i&&Kt&&za(t),Fp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(i===0){Kt=Wn(t.nextSibling);break e}i--}else r!=="$"&&r!=="$!"&&r!=="$?"||i++;t=t.nextSibling}Kt=null}}else Kt=cn?Wn(t.stateNode.nextSibling):null;return!0}function co(){Kt=cn=null,Ge=!1}function uo(t){Yn===null?Yn=[t]:Yn.push(t)}var ho=Error(a(460)),Gp=Error(a(474)),Uh={then:function(){}};function $p(t){return t=t.status,t==="fulfilled"||t==="rejected"}function cu(){}function Qp(t,i,r){switch(r=t[r],r===void 0?t.push(i):r!==i&&(i.then(cu,cu),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===ho?Error(a(483)):t;default:if(typeof i.status=="string")i.then(cu,cu);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=o}},function(o){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===ho?Error(a(483)):t}throw fo=i,ho}}var fo=null;function Yp(){if(fo===null)throw Error(a(459));var t=fo;return fo=null,t}var Fr=null,mo=0;function uu(t){var i=mo;return mo+=1,Fr===null&&(Fr=[]),Qp(Fr,t,i)}function go(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function du(t,i){throw i.$$typeof===c?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Xp(t){var i=t._init;return i(t._payload)}function Wp(t){function i(K,U){if(t){var Q=K.deletions;Q===null?(K.deletions=[U],K.flags|=16):Q.push(U)}}function r(K,U){if(!t)return null;for(;U!==null;)i(K,U),U=U.sibling;return null}function o(K){for(var U=new Map;K!==null;)K.key!==null?U.set(K.key,K):U.set(K.index,K),K=K.sibling;return U}function f(K,U){return K=$i(K,U),K.index=0,K.sibling=null,K}function m(K,U,Q){return K.index=Q,t?(Q=K.alternate,Q!==null?(Q=Q.index,Q<U?(K.flags|=33554434,U):Q):(K.flags|=33554434,U)):(K.flags|=1048576,U)}function x(K){return t&&K.alternate===null&&(K.flags|=33554434),K}function b(K,U,Q,ne){return U===null||U.tag!==6?(U=Of(Q,K.mode,ne),U.return=K,U):(U=f(U,Q),U.return=K,U)}function D(K,U,Q,ne){var pe=Q.type;return pe===p?ee(K,U,Q.props.children,ne,Q.key):U!==null&&(U.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===F&&Xp(pe)===U.type)?(U=f(U,Q.props),go(U,Q),U.return=K,U):(U=ku(Q.type,Q.key,Q.props,null,K.mode,ne),go(U,Q),U.return=K,U)}function H(K,U,Q,ne){return U===null||U.tag!==4||U.stateNode.containerInfo!==Q.containerInfo||U.stateNode.implementation!==Q.implementation?(U=Mf(Q,K.mode,ne),U.return=K,U):(U=f(U,Q.children||[]),U.return=K,U)}function ee(K,U,Q,ne,pe){return U===null||U.tag!==7?(U=Za(Q,K.mode,ne,pe),U.return=K,U):(U=f(U,Q),U.return=K,U)}function re(K,U,Q){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Of(""+U,K.mode,Q),U.return=K,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case h:return Q=ku(U.type,U.key,U.props,null,K.mode,Q),go(Q,U),Q.return=K,Q;case g:return U=Mf(U,K.mode,Q),U.return=K,U;case F:var ne=U._init;return U=ne(U._payload),re(K,U,Q)}if(ue(U)||le(U))return U=Za(U,K.mode,Q,null),U.return=K,U;if(typeof U.then=="function")return re(K,uu(U),Q);if(U.$$typeof===I)return re(K,Su(K,U),Q);du(K,U)}return null}function X(K,U,Q,ne){var pe=U!==null?U.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return pe!==null?null:b(K,U,""+Q,ne);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case h:return Q.key===pe?D(K,U,Q,ne):null;case g:return Q.key===pe?H(K,U,Q,ne):null;case F:return pe=Q._init,Q=pe(Q._payload),X(K,U,Q,ne)}if(ue(Q)||le(Q))return pe!==null?null:ee(K,U,Q,ne,null);if(typeof Q.then=="function")return X(K,U,uu(Q),ne);if(Q.$$typeof===I)return X(K,U,Su(K,Q),ne);du(K,Q)}return null}function J(K,U,Q,ne,pe){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return K=K.get(Q)||null,b(U,K,""+ne,pe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case h:return K=K.get(ne.key===null?Q:ne.key)||null,D(U,K,ne,pe);case g:return K=K.get(ne.key===null?Q:ne.key)||null,H(U,K,ne,pe);case F:var Oe=ne._init;return ne=Oe(ne._payload),J(K,U,Q,ne,pe)}if(ue(ne)||le(ne))return K=K.get(Q)||null,ee(U,K,ne,pe,null);if(typeof ne.then=="function")return J(K,U,Q,uu(ne),pe);if(ne.$$typeof===I)return J(K,U,Q,Su(U,ne),pe);du(U,ne)}return null}function _e(K,U,Q,ne){for(var pe=null,Oe=null,xe=U,be=U=0,Ht=null;xe!==null&&be<Q.length;be++){xe.index>be?(Ht=xe,xe=null):Ht=xe.sibling;var $e=X(K,xe,Q[be],ne);if($e===null){xe===null&&(xe=Ht);break}t&&xe&&$e.alternate===null&&i(K,xe),U=m($e,U,be),Oe===null?pe=$e:Oe.sibling=$e,Oe=$e,xe=Ht}if(be===Q.length)return r(K,xe),Ge&&Ha(K,be),pe;if(xe===null){for(;be<Q.length;be++)xe=re(K,Q[be],ne),xe!==null&&(U=m(xe,U,be),Oe===null?pe=xe:Oe.sibling=xe,Oe=xe);return Ge&&Ha(K,be),pe}for(xe=o(xe);be<Q.length;be++)Ht=J(xe,K,be,Q[be],ne),Ht!==null&&(t&&Ht.alternate!==null&&xe.delete(Ht.key===null?be:Ht.key),U=m(Ht,U,be),Oe===null?pe=Ht:Oe.sibling=Ht,Oe=Ht);return t&&xe.forEach(function(ea){return i(K,ea)}),Ge&&Ha(K,be),pe}function ke(K,U,Q,ne){if(Q==null)throw Error(a(151));for(var pe=null,Oe=null,xe=U,be=U=0,Ht=null,$e=Q.next();xe!==null&&!$e.done;be++,$e=Q.next()){xe.index>be?(Ht=xe,xe=null):Ht=xe.sibling;var ea=X(K,xe,$e.value,ne);if(ea===null){xe===null&&(xe=Ht);break}t&&xe&&ea.alternate===null&&i(K,xe),U=m(ea,U,be),Oe===null?pe=ea:Oe.sibling=ea,Oe=ea,xe=Ht}if($e.done)return r(K,xe),Ge&&Ha(K,be),pe;if(xe===null){for(;!$e.done;be++,$e=Q.next())$e=re(K,$e.value,ne),$e!==null&&(U=m($e,U,be),Oe===null?pe=$e:Oe.sibling=$e,Oe=$e);return Ge&&Ha(K,be),pe}for(xe=o(xe);!$e.done;be++,$e=Q.next())$e=J(xe,K,be,$e.value,ne),$e!==null&&(t&&$e.alternate!==null&&xe.delete($e.key===null?be:$e.key),U=m($e,U,be),Oe===null?pe=$e:Oe.sibling=$e,Oe=$e);return t&&xe.forEach(function(JA){return i(K,JA)}),Ge&&Ha(K,be),pe}function ft(K,U,Q,ne){if(typeof Q=="object"&&Q!==null&&Q.type===p&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case h:e:{for(var pe=Q.key;U!==null;){if(U.key===pe){if(pe=Q.type,pe===p){if(U.tag===7){r(K,U.sibling),ne=f(U,Q.props.children),ne.return=K,K=ne;break e}}else if(U.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===F&&Xp(pe)===U.type){r(K,U.sibling),ne=f(U,Q.props),go(ne,Q),ne.return=K,K=ne;break e}r(K,U);break}else i(K,U);U=U.sibling}Q.type===p?(ne=Za(Q.props.children,K.mode,ne,Q.key),ne.return=K,K=ne):(ne=ku(Q.type,Q.key,Q.props,null,K.mode,ne),go(ne,Q),ne.return=K,K=ne)}return x(K);case g:e:{for(pe=Q.key;U!==null;){if(U.key===pe)if(U.tag===4&&U.stateNode.containerInfo===Q.containerInfo&&U.stateNode.implementation===Q.implementation){r(K,U.sibling),ne=f(U,Q.children||[]),ne.return=K,K=ne;break e}else{r(K,U);break}else i(K,U);U=U.sibling}ne=Mf(Q,K.mode,ne),ne.return=K,K=ne}return x(K);case F:return pe=Q._init,Q=pe(Q._payload),ft(K,U,Q,ne)}if(ue(Q))return _e(K,U,Q,ne);if(le(Q)){if(pe=le(Q),typeof pe!="function")throw Error(a(150));return Q=pe.call(Q),ke(K,U,Q,ne)}if(typeof Q.then=="function")return ft(K,U,uu(Q),ne);if(Q.$$typeof===I)return ft(K,U,Su(K,Q),ne);du(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,U!==null&&U.tag===6?(r(K,U.sibling),ne=f(U,Q),ne.return=K,K=ne):(r(K,U),ne=Of(Q,K.mode,ne),ne.return=K,K=ne),x(K)):r(K,U)}return function(K,U,Q,ne){try{mo=0;var pe=ft(K,U,Q,ne);return Fr=null,pe}catch(xe){if(xe===ho)throw xe;var Oe=zn(29,xe,null,K.mode);return Oe.lanes=ne,Oe.return=K,Oe}finally{}}}var qa=Wp(!0),Zp=Wp(!1),Gr=Ke(null),hu=Ke(0);function Jp(t,i){t=ti,Xe(hu,t),Xe(Gr,i),ti=t|i.baseLanes}function Bh(){Xe(hu,ti),Xe(Gr,Gr.current)}function Hh(){ti=hu.current,ct(Gr),ct(hu)}var Un=Ke(null),ys=null;function Li(t){var i=t.alternate;Xe(Ct,Ct.current&1),Xe(Un,t),ys===null&&(i===null||Gr.current!==null||i.memoizedState!==null)&&(ys=t)}function ey(t){if(t.tag===22){if(Xe(Ct,Ct.current),Xe(Un,t),ys===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ys=t)}}else Vi()}function Vi(){Xe(Ct,Ct.current),Xe(Un,Un.current)}function Fs(t){ct(Un),ys===t&&(ys=null),ct(Ct)}var Ct=Ke(0);function fu(t){for(var i=t;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Bb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(r){return r()})}},Hb=s.unstable_scheduleCallback,zb=s.unstable_NormalPriority,It={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zh(){return{controller:new Bb,data:new Map,refCount:0}}function po(t){t.refCount--,t.refCount===0&&Hb(zb,function(){t.controller.abort()})}var yo=null,qh=0,$r=0,Qr=null;function qb(t,i){if(yo===null){var r=yo=[];qh=0,$r=Xf(),Qr={status:"pending",value:void 0,then:function(o){r.push(o)}}}return qh++,i.then(ty,ty),i}function ty(){if(--qh===0&&yo!==null){Qr!==null&&(Qr.status="fulfilled");var t=yo;yo=null,$r=0,Qr=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Kb(t,i){var r=[],o={status:"pending",value:null,reason:null,then:function(f){r.push(f)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var f=0;f<r.length;f++)(0,r[f])(i)},function(f){for(o.status="rejected",o.reason=f,f=0;f<r.length;f++)(0,r[f])(void 0)}),o}var ny=T.S;T.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&qb(t,i),ny!==null&&ny(t,i)};var Ka=Ke(null);function Kh(){var t=Ka.current;return t!==null?t:et.pooledCache}function mu(t,i){i===null?Xe(Ka,Ka.current):Xe(Ka,i.pool)}function sy(){var t=Kh();return t===null?null:{parent:It._currentValue,pool:t}}var Pi=0,De=null,We=null,Et=null,gu=!1,Yr=!1,Fa=!1,pu=0,_o=0,Xr=null,Fb=0;function _t(){throw Error(a(321))}function Fh(t,i){if(i===null)return!1;for(var r=0;r<i.length&&r<t.length;r++)if(!xn(t[r],i[r]))return!1;return!0}function Gh(t,i,r,o,f,m){return Pi=m,De=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,T.H=t===null||t.memoizedState===null?Ga:Ui,Fa=!1,m=r(o,f),Fa=!1,Yr&&(m=ay(i,r,o,f)),iy(t),m}function iy(t){T.H=_s;var i=We!==null&&We.next!==null;if(Pi=0,Et=We=De=null,gu=!1,_o=0,Xr=null,i)throw Error(a(300));t===null||Ut||(t=t.dependencies,t!==null&&wu(t)&&(Ut=!0))}function ay(t,i,r,o){De=t;var f=0;do{if(Yr&&(Xr=null),_o=0,Yr=!1,25<=f)throw Error(a(301));if(f+=1,Et=We=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}T.H=$a,m=i(r,o)}while(Yr);return m}function Gb(){var t=T.H,i=t.useState()[0];return i=typeof i.then=="function"?vo(i):i,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(De.flags|=1024),i}function $h(){var t=pu!==0;return pu=0,t}function Qh(t,i,r){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~r}function Yh(t){if(gu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}gu=!1}Pi=0,Et=We=De=null,Yr=!1,_o=pu=0,Xr=null}function gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?De.memoizedState=Et=t:Et=Et.next=t,Et}function Tt(){if(We===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var i=Et===null?De.memoizedState:Et.next;if(i!==null)Et=i,We=t;else{if(t===null)throw De.alternate===null?Error(a(467)):Error(a(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Et===null?De.memoizedState=Et=t:Et=Et.next=t}return Et}var yu;yu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function vo(t){var i=_o;return _o+=1,Xr===null&&(Xr=[]),t=Qp(Xr,t,i),i=De,(Et===null?i.memoizedState:Et.next)===null&&(i=i.alternate,T.H=i===null||i.memoizedState===null?Ga:Ui),t}function _u(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return vo(t);if(t.$$typeof===I)return Zt(t)}throw Error(a(438,String(t)))}function Xh(t){var i=null,r=De.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var o=De.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=yu(),De.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(t),o=0;o<t;o++)r[o]=Y;return i.index++,r}function Gs(t,i){return typeof i=="function"?i(t):i}function vu(t){var i=Tt();return Wh(i,We,t)}function Wh(t,i,r){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var f=t.baseQueue,m=o.pending;if(m!==null){if(f!==null){var x=f.next;f.next=m.next,m.next=x}i.baseQueue=f=m,o.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{i=f.next;var b=x=null,D=null,H=i,ee=!1;do{var re=H.lane&-536870913;if(re!==H.lane?(ze&re)===re:(Pi&re)===re){var X=H.revertLane;if(X===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),re===$r&&(ee=!0);else if((Pi&X)===X){H=H.next,X===$r&&(ee=!0);continue}else re={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(b=D=re,x=m):D=D.next=re,De.lanes|=X,Qi|=X;re=H.action,Fa&&r(m,re),m=H.hasEagerState?H.eagerState:r(m,re)}else X={lane:re,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(b=D=X,x=m):D=D.next=X,De.lanes|=re,Qi|=re;H=H.next}while(H!==null&&H!==i);if(D===null?x=m:D.next=b,!xn(m,t.memoizedState)&&(Ut=!0,ee&&(r=Qr,r!==null)))throw r;t.memoizedState=m,t.baseState=x,t.baseQueue=D,o.lastRenderedState=m}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Zh(t){var i=Tt(),r=i.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var o=r.dispatch,f=r.pending,m=i.memoizedState;if(f!==null){r.pending=null;var x=f=f.next;do m=t(m,x.action),x=x.next;while(x!==f);xn(m,i.memoizedState)||(Ut=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),r.lastRenderedState=m}return[m,o]}function ry(t,i,r){var o=De,f=Tt(),m=Ge;if(m){if(r===void 0)throw Error(a(407));r=r()}else r=i();var x=!xn((We||f).memoizedState,r);if(x&&(f.memoizedState=r,Ut=!0),f=f.queue,tf(cy.bind(null,o,f,t),[t]),f.getSnapshot!==i||x||Et!==null&&Et.memoizedState.tag&1){if(o.flags|=2048,Wr(9,oy.bind(null,o,f,r,i),{destroy:void 0},null),et===null)throw Error(a(349));m||(Pi&60)!==0||ly(o,i,r)}return r}function ly(t,i,r){t.flags|=16384,t={getSnapshot:i,value:r},i=De.updateQueue,i===null?(i=yu(),De.updateQueue=i,i.stores=[t]):(r=i.stores,r===null?i.stores=[t]:r.push(t))}function oy(t,i,r,o){i.value=r,i.getSnapshot=o,uy(i)&&dy(t)}function cy(t,i,r){return r(function(){uy(i)&&dy(t)})}function uy(t){var i=t.getSnapshot;t=t.value;try{var r=i();return!xn(t,r)}catch{return!0}}function dy(t){var i=Mi(t,2);i!==null&&un(i,t,2)}function Jh(t){var i=gn();if(typeof t=="function"){var r=t;if(t=r(),Fa){as(!0);try{r()}finally{as(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gs,lastRenderedState:t},i}function hy(t,i,r,o){return t.baseState=r,Wh(t,We,typeof o=="function"?o:Gs)}function $b(t,i,r,o,f){if(Tu(t))throw Error(a(485));if(t=i.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){m.listeners.push(x)}};T.T!==null?r(!0):m.isTransition=!1,o(m),r=i.pending,r===null?(m.next=i.pending=m,fy(i,m)):(m.next=r.next,i.pending=r.next=m)}}function fy(t,i){var r=i.action,o=i.payload,f=t.state;if(i.isTransition){var m=T.T,x={};T.T=x;try{var b=r(f,o),D=T.S;D!==null&&D(x,b),my(t,i,b)}catch(H){ef(t,i,H)}finally{T.T=m}}else try{m=r(f,o),my(t,i,m)}catch(H){ef(t,i,H)}}function my(t,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){gy(t,i,o)},function(o){return ef(t,i,o)}):gy(t,i,r)}function gy(t,i,r){i.status="fulfilled",i.value=r,py(i),t.state=r,i=t.pending,i!==null&&(r=i.next,r===i?t.pending=null:(r=r.next,i.next=r,fy(t,r)))}function ef(t,i,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=r,py(i),i=i.next;while(i!==o)}t.action=null}function py(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function yy(t,i){return i}function _y(t,i){if(Ge){var r=et.formState;if(r!==null){e:{var o=De;if(Ge){if(Kt){t:{for(var f=Kt,m=ps;f.nodeType!==8;){if(!m){f=null;break t}if(f=Wn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Kt=Wn(f.nextSibling),o=f.data==="F!";break e}}za(o)}o=!1}o&&(i=r[0])}}return r=gn(),r.memoizedState=r.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yy,lastRenderedState:i},r.queue=o,r=Ly.bind(null,De,o),o.dispatch=r,o=Jh(!1),m=lf.bind(null,De,!1,o.queue),o=gn(),f={state:i,dispatch:null,action:t,pending:null},o.queue=f,r=$b.bind(null,De,f,m,r),f.dispatch=r,o.memoizedState=t,[i,r,!1]}function vy(t){var i=Tt();return xy(i,We,t)}function xy(t,i,r){i=Wh(t,i,yy)[0],t=vu(Gs)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?vo(i):i;var o=Tt(),f=o.queue,m=f.dispatch;return r!==o.memoizedState&&(De.flags|=2048,Wr(9,Qb.bind(null,f,r),{destroy:void 0},null)),[i,m,t]}function Qb(t,i){t.action=i}function Ey(t){var i=Tt(),r=We;if(r!==null)return xy(i,r,t);Tt(),i=i.memoizedState,r=Tt();var o=r.queue.dispatch;return r.memoizedState=t,[i,o,!1]}function Wr(t,i,r,o){return t={tag:t,create:i,inst:r,deps:o,next:null},i=De.updateQueue,i===null&&(i=yu(),De.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,i.lastEffect=t),t}function Ty(){return Tt().memoizedState}function xu(t,i,r,o){var f=gn();De.flags|=t,f.memoizedState=Wr(1|i,r,{destroy:void 0},o===void 0?null:o)}function Eu(t,i,r,o){var f=Tt();o=o===void 0?null:o;var m=f.memoizedState.inst;We!==null&&o!==null&&Fh(o,We.memoizedState.deps)?f.memoizedState=Wr(i,r,m,o):(De.flags|=t,f.memoizedState=Wr(1|i,r,m,o))}function by(t,i){xu(8390656,8,t,i)}function tf(t,i){Eu(2048,8,t,i)}function Ay(t,i){return Eu(4,2,t,i)}function wy(t,i){return Eu(4,4,t,i)}function Sy(t,i){if(typeof i=="function"){t=t();var r=i(t);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Ny(t,i,r){r=r!=null?r.concat([t]):null,Eu(4,4,Sy.bind(null,i,t),r)}function nf(){}function Ry(t,i){var r=Tt();i=i===void 0?null:i;var o=r.memoizedState;return i!==null&&Fh(i,o[1])?o[0]:(r.memoizedState=[t,i],t)}function ky(t,i){var r=Tt();i=i===void 0?null:i;var o=r.memoizedState;if(i!==null&&Fh(i,o[1]))return o[0];if(o=t(),Fa){as(!0);try{t()}finally{as(!1)}}return r.memoizedState=[o,i],o}function sf(t,i,r){return r===void 0||(Pi&1073741824)!==0?t.memoizedState=i:(t.memoizedState=r,t=I_(),De.lanes|=t,Qi|=t,r)}function Cy(t,i,r,o){return xn(r,i)?r:Gr.current!==null?(t=sf(t,r,o),xn(t,i)||(Ut=!0),t):(Pi&42)===0?(Ut=!0,t.memoizedState=r):(t=I_(),De.lanes|=t,Qi|=t,i)}function Iy(t,i,r,o,f){var m=de.p;de.p=m!==0&&8>m?m:8;var x=T.T,b={};T.T=b,lf(t,!1,i,r);try{var D=f(),H=T.S;if(H!==null&&H(b,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var ee=Kb(D,o);xo(t,i,ee,An(t))}else xo(t,i,o,An(t))}catch(re){xo(t,i,{then:function(){},status:"rejected",reason:re},An())}finally{de.p=m,T.T=x}}function Yb(){}function af(t,i,r,o){if(t.tag!==5)throw Error(a(476));var f=jy(t).queue;Iy(t,f,i,Ie,r===null?Yb:function(){return Dy(t),r(o)})}function jy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Ie,baseState:Ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gs,lastRenderedState:Ie},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gs,lastRenderedState:r},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Dy(t){var i=jy(t).next.queue;xo(t,i,{},An())}function rf(){return Zt(Bo)}function Oy(){return Tt().memoizedState}function My(){return Tt().memoizedState}function Xb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var r=An();t=zi(r);var o=qi(i,t,r);o!==null&&(un(o,i,r),bo(o,i,r)),i={cache:zh()},t.payload=i;return}i=i.return}}function Wb(t,i,r){var o=An();r={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Tu(t)?Vy(i,r):(r=Mh(t,i,r,o),r!==null&&(un(r,t,o),Py(r,i,o)))}function Ly(t,i,r){var o=An();xo(t,i,r,o)}function xo(t,i,r,o){var f={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Tu(t))Vy(i,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var x=i.lastRenderedState,b=m(x,r);if(f.hasEagerState=!0,f.eagerState=b,xn(b,x))return au(t,i,f,0),et===null&&iu(),!1}catch{}finally{}if(r=Mh(t,i,f,o),r!==null)return un(r,t,o),Py(r,i,o),!0}return!1}function lf(t,i,r,o){if(o={lane:2,revertLane:Xf(),action:o,hasEagerState:!1,eagerState:null,next:null},Tu(t)){if(i)throw Error(a(479))}else i=Mh(t,r,o,2),i!==null&&un(i,t,2)}function Tu(t){var i=t.alternate;return t===De||i!==null&&i===De}function Vy(t,i){Yr=gu=!0;var r=t.pending;r===null?i.next=i:(i.next=r.next,r.next=i),t.pending=i}function Py(t,i,r){if((r&4194176)!==0){var o=i.lanes;o&=t.pendingLanes,r|=o,i.lanes=r,wi(t,r)}}var _s={readContext:Zt,use:_u,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t};_s.useCacheRefresh=_t,_s.useMemoCache=_t,_s.useHostTransitionStatus=_t,_s.useFormState=_t,_s.useActionState=_t,_s.useOptimistic=_t;var Ga={readContext:Zt,use:_u,useCallback:function(t,i){return gn().memoizedState=[t,i===void 0?null:i],t},useContext:Zt,useEffect:by,useImperativeHandle:function(t,i,r){r=r!=null?r.concat([t]):null,xu(4194308,4,Sy.bind(null,i,t),r)},useLayoutEffect:function(t,i){return xu(4194308,4,t,i)},useInsertionEffect:function(t,i){xu(4,2,t,i)},useMemo:function(t,i){var r=gn();i=i===void 0?null:i;var o=t();if(Fa){as(!0);try{t()}finally{as(!1)}}return r.memoizedState=[o,i],o},useReducer:function(t,i,r){var o=gn();if(r!==void 0){var f=r(i);if(Fa){as(!0);try{r(i)}finally{as(!1)}}}else f=i;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=Wb.bind(null,De,t),[o.memoizedState,t]},useRef:function(t){var i=gn();return t={current:t},i.memoizedState=t},useState:function(t){t=Jh(t);var i=t.queue,r=Ly.bind(null,De,i);return i.dispatch=r,[t.memoizedState,r]},useDebugValue:nf,useDeferredValue:function(t,i){var r=gn();return sf(r,t,i)},useTransition:function(){var t=Jh(!1);return t=Iy.bind(null,De,t.queue,!0,!1),gn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,r){var o=De,f=gn();if(Ge){if(r===void 0)throw Error(a(407));r=r()}else{if(r=i(),et===null)throw Error(a(349));(ze&60)!==0||ly(o,i,r)}f.memoizedState=r;var m={value:r,getSnapshot:i};return f.queue=m,by(cy.bind(null,o,m,t),[t]),o.flags|=2048,Wr(9,oy.bind(null,o,m,r,i),{destroy:void 0},null),r},useId:function(){var t=gn(),i=et.identifierPrefix;if(Ge){var r=Ks,o=qs;r=(o&~(1<<32-rn(o)-1)).toString(32)+r,i=":"+i+"R"+r,r=pu++,0<r&&(i+="H"+r.toString(32)),i+=":"}else r=Fb++,i=":"+i+"r"+r.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return gn().memoizedState=Xb.bind(null,De)}};Ga.useMemoCache=Xh,Ga.useHostTransitionStatus=rf,Ga.useFormState=_y,Ga.useActionState=_y,Ga.useOptimistic=function(t){var i=gn();i.memoizedState=i.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=lf.bind(null,De,!0,r),r.dispatch=i,[t,i]};var Ui={readContext:Zt,use:_u,useCallback:Ry,useContext:Zt,useEffect:tf,useImperativeHandle:Ny,useInsertionEffect:Ay,useLayoutEffect:wy,useMemo:ky,useReducer:vu,useRef:Ty,useState:function(){return vu(Gs)},useDebugValue:nf,useDeferredValue:function(t,i){var r=Tt();return Cy(r,We.memoizedState,t,i)},useTransition:function(){var t=vu(Gs)[0],i=Tt().memoizedState;return[typeof t=="boolean"?t:vo(t),i]},useSyncExternalStore:ry,useId:Oy};Ui.useCacheRefresh=My,Ui.useMemoCache=Xh,Ui.useHostTransitionStatus=rf,Ui.useFormState=vy,Ui.useActionState=vy,Ui.useOptimistic=function(t,i){var r=Tt();return hy(r,We,t,i)};var $a={readContext:Zt,use:_u,useCallback:Ry,useContext:Zt,useEffect:tf,useImperativeHandle:Ny,useInsertionEffect:Ay,useLayoutEffect:wy,useMemo:ky,useReducer:Zh,useRef:Ty,useState:function(){return Zh(Gs)},useDebugValue:nf,useDeferredValue:function(t,i){var r=Tt();return We===null?sf(r,t,i):Cy(r,We.memoizedState,t,i)},useTransition:function(){var t=Zh(Gs)[0],i=Tt().memoizedState;return[typeof t=="boolean"?t:vo(t),i]},useSyncExternalStore:ry,useId:Oy};$a.useCacheRefresh=My,$a.useMemoCache=Xh,$a.useHostTransitionStatus=rf,$a.useFormState=Ey,$a.useActionState=Ey,$a.useOptimistic=function(t,i){var r=Tt();return We!==null?hy(r,We,t,i):(r.baseState=t,[t,r.queue.dispatch])};function of(t,i,r,o){i=t.memoizedState,r=r(o,i),r=r==null?i:N({},i,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var cf={isMounted:function(t){return(t=t._reactInternals)?oe(t)===t:!1},enqueueSetState:function(t,i,r){t=t._reactInternals;var o=An(),f=zi(o);f.payload=i,r!=null&&(f.callback=r),i=qi(t,f,o),i!==null&&(un(i,t,o),bo(i,t,o))},enqueueReplaceState:function(t,i,r){t=t._reactInternals;var o=An(),f=zi(o);f.tag=1,f.payload=i,r!=null&&(f.callback=r),i=qi(t,f,o),i!==null&&(un(i,t,o),bo(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var r=An(),o=zi(r);o.tag=2,i!=null&&(o.callback=i),i=qi(t,o,r),i!==null&&(un(i,t,r),bo(i,t,r))}};function Uy(t,i,r,o,f,m,x){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,x):i.prototype&&i.prototype.isPureReactComponent?!ro(r,o)||!ro(f,m):!0}function By(t,i,r,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,o),i.state!==t&&cf.enqueueReplaceState(i,i.state,null)}function Qa(t,i){var r=i;if("ref"in i){r={};for(var o in i)o!=="ref"&&(r[o]=i[o])}if(t=t.defaultProps){r===i&&(r=N({},r));for(var f in t)r[f]===void 0&&(r[f]=t[f])}return r}var bu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Hy(t){bu(t)}function zy(t){console.error(t)}function qy(t){bu(t)}function Au(t,i){try{var r=t.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Ky(t,i,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function uf(t,i,r){return r=zi(r),r.tag=3,r.payload={element:null},r.callback=function(){Au(t,i)},r}function Fy(t){return t=zi(t),t.tag=3,t}function Gy(t,i,r,o){var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;t.payload=function(){return f(m)},t.callback=function(){Ky(i,r,o)}}var x=r.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(t.callback=function(){Ky(i,r,o),typeof f!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})})}function Zb(t,i,r,o,f){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=r.alternate,i!==null&&To(i,r,f,!0),r=Un.current,r!==null){switch(r.tag){case 13:return ys===null?Ff():r.alternate===null&&ht===0&&(ht=3),r.flags&=-257,r.flags|=65536,r.lanes=f,o===Uh?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([o]):i.add(o),$f(t,o,f)),!1;case 22:return r.flags|=65536,o===Uh?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([o]):r.add(o)),$f(t,o,f)),!1}throw Error(a(435,r.tag))}return $f(t,o,f),Ff(),!1}if(Ge)return i=Un.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,o!==Ph&&(t=Error(a(422),{cause:o}),uo(Ln(t,r)))):(o!==Ph&&(i=Error(a(423),{cause:o}),uo(Ln(i,r))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=Ln(o,r),f=uf(t.stateNode,o,f),wf(t,f),ht!==4&&(ht=2)),!1;var m=Error(a(520),{cause:o});if(m=Ln(m,r),Io===null?Io=[m]:Io.push(m),ht!==4&&(ht=2),i===null)return!0;o=Ln(o,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,t=f&-f,r.lanes|=t,t=uf(r.stateNode,o,t),wf(r,t),!1;case 1:if(i=r.type,m=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Yi===null||!Yi.has(m))))return r.flags|=65536,f&=-f,r.lanes|=f,f=Fy(f),Gy(f,t,r,o),wf(r,f),!1}r=r.return}while(r!==null);return!1}var $y=Error(a(461)),Ut=!1;function Ft(t,i,r,o){i.child=t===null?Zp(i,null,r,o):qa(i,t.child,r,o)}function Qy(t,i,r,o,f){r=r.render;var m=i.ref;if("ref"in o){var x={};for(var b in o)b!=="ref"&&(x[b]=o[b])}else x=o;return Xa(i),o=Gh(t,i,r,x,m,f),b=$h(),t!==null&&!Ut?(Qh(t,i,f),$s(t,i,f)):(Ge&&b&&Lh(i),i.flags|=1,Ft(t,i,o,f),i.child)}function Yy(t,i,r,o,f){if(t===null){var m=r.type;return typeof m=="function"&&!Df(m)&&m.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=m,Xy(t,i,m,o,f)):(t=ku(r.type,null,o,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!vf(t,f)){var x=m.memoizedProps;if(r=r.compare,r=r!==null?r:ro,r(x,o)&&t.ref===i.ref)return $s(t,i,f)}return i.flags|=1,t=$i(m,o),t.ref=i.ref,t.return=i,i.child=t}function Xy(t,i,r,o,f){if(t!==null){var m=t.memoizedProps;if(ro(m,o)&&t.ref===i.ref)if(Ut=!1,i.pendingProps=o=m,vf(t,f))(t.flags&131072)!==0&&(Ut=!0);else return i.lanes=t.lanes,$s(t,i,f)}return df(t,i,r,o,f)}function Wy(t,i,r){var o=i.pendingProps,f=o.children,m=(i.stateNode._pendingVisibility&2)!==0,x=t!==null?t.memoizedState:null;if(Eo(t,i),o.mode==="hidden"||m){if((i.flags&128)!==0){if(o=x!==null?x.baseLanes|r:r,t!==null){for(f=i.child=t.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;i.childLanes=m&~o}else i.childLanes=0,i.child=null;return Zy(t,i,o,r)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&mu(i,x!==null?x.cachePool:null),x!==null?Jp(i,x):Bh(),ey(i);else return i.lanes=i.childLanes=536870912,Zy(t,i,x!==null?x.baseLanes|r:r,r)}else x!==null?(mu(i,x.cachePool),Jp(i,x),Vi(),i.memoizedState=null):(t!==null&&mu(i,null),Bh(),Vi());return Ft(t,i,f,r),i.child}function Zy(t,i,r,o){var f=Kh();return f=f===null?null:{parent:It._currentValue,pool:f},i.memoizedState={baseLanes:r,cachePool:f},t!==null&&mu(i,null),Bh(),ey(i),t!==null&&To(t,i,o,!0),null}function Eo(t,i){var r=i.ref;if(r===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(i.flags|=2097664)}}function df(t,i,r,o,f){return Xa(i),r=Gh(t,i,r,o,void 0,f),o=$h(),t!==null&&!Ut?(Qh(t,i,f),$s(t,i,f)):(Ge&&o&&Lh(i),i.flags|=1,Ft(t,i,r,f),i.child)}function Jy(t,i,r,o,f,m){return Xa(i),i.updateQueue=null,r=ay(i,o,r,f),iy(t),o=$h(),t!==null&&!Ut?(Qh(t,i,m),$s(t,i,m)):(Ge&&o&&Lh(i),i.flags|=1,Ft(t,i,r,m),i.child)}function e_(t,i,r,o,f){if(Xa(i),i.stateNode===null){var m=zr,x=r.contextType;typeof x=="object"&&x!==null&&(m=Zt(x)),m=new r(o,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=cf,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=o,m.state=i.memoizedState,m.refs={},bf(i),x=r.contextType,m.context=typeof x=="object"&&x!==null?Zt(x):zr,m.state=i.memoizedState,x=r.getDerivedStateFromProps,typeof x=="function"&&(of(i,r,x,o),m.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(x=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),x!==m.state&&cf.enqueueReplaceState(m,m.state,null),wo(i,o,m,f),Ao(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){m=i.stateNode;var b=i.memoizedProps,D=Qa(r,b);m.props=D;var H=m.context,ee=r.contextType;x=zr,typeof ee=="object"&&ee!==null&&(x=Zt(ee));var re=r.getDerivedStateFromProps;ee=typeof re=="function"||typeof m.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,ee||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b||H!==x)&&By(i,m,o,x),Hi=!1;var X=i.memoizedState;m.state=X,wo(i,o,m,f),Ao(),H=i.memoizedState,b||X!==H||Hi?(typeof re=="function"&&(of(i,r,re,o),H=i.memoizedState),(D=Hi||Uy(i,r,D,o,X,H,x))?(ee||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=H),m.props=o,m.state=H,m.context=x,o=D):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{m=i.stateNode,Af(t,i),x=i.memoizedProps,ee=Qa(r,x),m.props=ee,re=i.pendingProps,X=m.context,H=r.contextType,D=zr,typeof H=="object"&&H!==null&&(D=Zt(H)),b=r.getDerivedStateFromProps,(H=typeof b=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x!==re||X!==D)&&By(i,m,o,D),Hi=!1,X=i.memoizedState,m.state=X,wo(i,o,m,f),Ao();var J=i.memoizedState;x!==re||X!==J||Hi||t!==null&&t.dependencies!==null&&wu(t.dependencies)?(typeof b=="function"&&(of(i,r,b,o),J=i.memoizedState),(ee=Hi||Uy(i,r,ee,o,X,J,D)||t!==null&&t.dependencies!==null&&wu(t.dependencies))?(H||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,J,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,J,D)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||x===t.memoizedProps&&X===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&X===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=J),m.props=o,m.state=J,m.context=D,o=ee):(typeof m.componentDidUpdate!="function"||x===t.memoizedProps&&X===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&X===t.memoizedState||(i.flags|=1024),o=!1)}return m=o,Eo(t,i),o=(i.flags&128)!==0,m||o?(m=i.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&o?(i.child=qa(i,t.child,null,f),i.child=qa(i,null,r,f)):Ft(t,i,r,f),i.memoizedState=m.state,t=i.child):t=$s(t,i,f),t}function t_(t,i,r,o){return co(),i.flags|=256,Ft(t,i,r,o),i.child}var hf={dehydrated:null,treeContext:null,retryLane:0};function ff(t){return{baseLanes:t,cachePool:sy()}}function mf(t,i,r){return t=t!==null?t.childLanes&~r:0,i&&(t|=qn),t}function n_(t,i,r){var o=i.pendingProps,f=!1,m=(i.flags&128)!==0,x;if((x=m)||(x=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),x&&(f=!0,i.flags&=-129),x=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ge){if(f?Li(i):Vi(),Ge){var b=Kt,D;if(D=b){e:{for(D=b,b=ps;D.nodeType!==8;){if(!b){b=null;break e}if(D=Wn(D.nextSibling),D===null){b=null;break e}}b=D}b!==null?(i.memoizedState={dehydrated:b,treeContext:Ba!==null?{id:qs,overflow:Ks}:null,retryLane:536870912},D=zn(18,null,null,0),D.stateNode=b,D.return=i,i.child=D,cn=i,Kt=null,D=!0):D=!1}D||za(i)}if(b=i.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return b.data==="$!"?i.lanes=16:i.lanes=536870912,null;Fs(i)}return b=o.children,o=o.fallback,f?(Vi(),f=i.mode,b=pf({mode:"hidden",children:b},f),o=Za(o,f,r,null),b.return=i,o.return=i,b.sibling=o,i.child=b,f=i.child,f.memoizedState=ff(r),f.childLanes=mf(t,x,r),i.memoizedState=hf,o):(Li(i),gf(i,b))}if(D=t.memoizedState,D!==null&&(b=D.dehydrated,b!==null)){if(m)i.flags&256?(Li(i),i.flags&=-257,i=yf(t,i,r)):i.memoizedState!==null?(Vi(),i.child=t.child,i.flags|=128,i=null):(Vi(),f=o.fallback,b=i.mode,o=pf({mode:"visible",children:o.children},b),f=Za(f,b,r,null),f.flags|=2,o.return=i,f.return=i,o.sibling=f,i.child=o,qa(i,t.child,null,r),o=i.child,o.memoizedState=ff(r),o.childLanes=mf(t,x,r),i.memoizedState=hf,i=f);else if(Li(i),b.data==="$!"){if(x=b.nextSibling&&b.nextSibling.dataset,x)var H=x.dgst;x=H,o=Error(a(419)),o.stack="",o.digest=x,uo({value:o,source:null,stack:null}),i=yf(t,i,r)}else if(Ut||To(t,i,r,!1),x=(r&t.childLanes)!==0,Ut||x){if(x=et,x!==null){if(o=r&-r,(o&42)!==0)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=(o&(x.suspendedLanes|r))!==0?0:o,o!==0&&o!==D.retryLane)throw D.retryLane=o,Mi(t,o),un(x,t,o),$y}b.data==="$?"||Ff(),i=yf(t,i,r)}else b.data==="$?"?(i.flags|=128,i.child=t.child,i=fA.bind(null,t),b._reactRetry=i,i=null):(t=D.treeContext,Kt=Wn(b.nextSibling),cn=i,Ge=!0,Yn=null,ps=!1,t!==null&&(Vn[Pn++]=qs,Vn[Pn++]=Ks,Vn[Pn++]=Ba,qs=t.id,Ks=t.overflow,Ba=i),i=gf(i,o.children),i.flags|=4096);return i}return f?(Vi(),f=o.fallback,b=i.mode,D=t.child,H=D.sibling,o=$i(D,{mode:"hidden",children:o.children}),o.subtreeFlags=D.subtreeFlags&31457280,H!==null?f=$i(H,f):(f=Za(f,b,r,null),f.flags|=2),f.return=i,o.return=i,o.sibling=f,i.child=o,o=f,f=i.child,b=t.child.memoizedState,b===null?b=ff(r):(D=b.cachePool,D!==null?(H=It._currentValue,D=D.parent!==H?{parent:H,pool:H}:D):D=sy(),b={baseLanes:b.baseLanes|r,cachePool:D}),f.memoizedState=b,f.childLanes=mf(t,x,r),i.memoizedState=hf,o):(Li(i),r=t.child,t=r.sibling,r=$i(r,{mode:"visible",children:o.children}),r.return=i,r.sibling=null,t!==null&&(x=i.deletions,x===null?(i.deletions=[t],i.flags|=16):x.push(t)),i.child=r,i.memoizedState=null,r)}function gf(t,i){return i=pf({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function pf(t,i){return R_(t,i,0,null)}function yf(t,i,r){return qa(i,t.child,null,r),t=gf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function s_(t,i,r){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),Ef(t.return,i,r)}function _f(t,i,r,o,f){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=o,m.tail=r,m.tailMode=f)}function i_(t,i,r){var o=i.pendingProps,f=o.revealOrder,m=o.tail;if(Ft(t,i,o.children,r),o=Ct.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&s_(t,r,i);else if(t.tag===19)s_(t,r,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(Xe(Ct,o),f){case"forwards":for(r=i.child,f=null;r!==null;)t=r.alternate,t!==null&&fu(t)===null&&(f=r),r=r.sibling;r=f,r===null?(f=i.child,i.child=null):(f=r.sibling,r.sibling=null),_f(i,!1,f,r,m);break;case"backwards":for(r=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&fu(t)===null){i.child=f;break}t=f.sibling,f.sibling=r,r=f,f=t}_f(i,!0,r,null,m);break;case"together":_f(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function $s(t,i,r){if(t!==null&&(i.dependencies=t.dependencies),Qi|=i.lanes,(r&i.childLanes)===0)if(t!==null){if(To(t,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,r=$i(t,t.pendingProps),i.child=r,r.return=i;t.sibling!==null;)t=t.sibling,r=r.sibling=$i(t,t.pendingProps),r.return=i;r.sibling=null}return i.child}function vf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&wu(t)))}function Jb(t,i,r){switch(i.tag){case 3:vi(i,i.stateNode.containerInfo),Bi(i,It,t.memoizedState.cache),co();break;case 27:case 5:Ul(i);break;case 4:vi(i,i.stateNode.containerInfo);break;case 10:Bi(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Li(i),i.flags|=128,null):(r&i.child.childLanes)!==0?n_(t,i,r):(Li(i),t=$s(t,i,r),t!==null?t.sibling:null);Li(i);break;case 19:var f=(t.flags&128)!==0;if(o=(r&i.childLanes)!==0,o||(To(t,i,r,!1),o=(r&i.childLanes)!==0),f){if(o)return i_(t,i,r);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Xe(Ct,Ct.current),o)break;return null;case 22:case 23:return i.lanes=0,Wy(t,i,r);case 24:Bi(i,It,t.memoizedState.cache)}return $s(t,i,r)}function a_(t,i,r){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ut=!0;else{if(!vf(t,r)&&(i.flags&128)===0)return Ut=!1,Jb(t,i,r);Ut=(t.flags&131072)!==0}else Ut=!1,Ge&&(i.flags&1048576)!==0&&qp(i,ou,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var o=i.elementType,f=o._init;if(o=f(o._payload),i.type=o,typeof o=="function")Df(o)?(t=Qa(o,t),i.tag=1,i=e_(null,i,o,t,r)):(i.tag=0,i=df(null,i,o,t,r));else{if(o!=null){if(f=o.$$typeof,f===L){i.tag=11,i=Qy(null,i,o,t,r);break e}else if(f===B){i.tag=14,i=Yy(null,i,o,t,r);break e}}throw i=k(o)||o,Error(a(306,i,""))}}return i;case 0:return df(t,i,i.type,i.pendingProps,r);case 1:return o=i.type,f=Qa(o,i.pendingProps),e_(t,i,o,f,r);case 3:e:{if(vi(i,i.stateNode.containerInfo),t===null)throw Error(a(387));var m=i.pendingProps;f=i.memoizedState,o=f.element,Af(t,i),wo(i,m,null,r);var x=i.memoizedState;if(m=x.cache,Bi(i,It,m),m!==f.cache&&Tf(i,[It],r,!0),Ao(),m=x.element,f.isDehydrated)if(f={element:m,isDehydrated:!1,cache:x.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=t_(t,i,m,r);break e}else if(m!==o){o=Ln(Error(a(424)),i),uo(o),i=t_(t,i,m,r);break e}else for(Kt=Wn(i.stateNode.containerInfo.firstChild),cn=i,Ge=!0,Yn=null,ps=!0,r=Zp(i,null,m,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(co(),m===o){i=$s(t,i,r);break e}Ft(t,i,m,r)}i=i.child}return i;case 26:return Eo(t,i),t===null?(r=ov(i.type,null,i.pendingProps,null))?i.memoizedState=r:Ge||(r=i.type,t=i.pendingProps,o=Hu(Rn.current).createElement(r),o[Lt]=i,o[Nt]=t,Gt(o,r,t),at(o),i.stateNode=o):i.memoizedState=ov(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ul(i),t===null&&Ge&&(o=i.stateNode=av(i.type,i.pendingProps,Rn.current),cn=i,ps=!0,Kt=Wn(o.firstChild)),o=i.pendingProps.children,t!==null||Ge?Ft(t,i,o,r):i.child=qa(i,null,o,r),Eo(t,i),i.child;case 5:return t===null&&Ge&&((f=o=Kt)&&(o=kA(o,i.type,i.pendingProps,ps),o!==null?(i.stateNode=o,cn=i,Kt=Wn(o.firstChild),ps=!1,f=!0):f=!1),f||za(i)),Ul(i),f=i.type,m=i.pendingProps,x=t!==null?t.memoizedProps:null,o=m.children,am(f,m)?o=null:x!==null&&am(f,x)&&(i.flags|=32),i.memoizedState!==null&&(f=Gh(t,i,Gb,null,null,r),Bo._currentValue=f),Eo(t,i),Ft(t,i,o,r),i.child;case 6:return t===null&&Ge&&((t=r=Kt)&&(r=CA(r,i.pendingProps,ps),r!==null?(i.stateNode=r,cn=i,Kt=null,t=!0):t=!1),t||za(i)),null;case 13:return n_(t,i,r);case 4:return vi(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=qa(i,null,o,r):Ft(t,i,o,r),i.child;case 11:return Qy(t,i,i.type,i.pendingProps,r);case 7:return Ft(t,i,i.pendingProps,r),i.child;case 8:return Ft(t,i,i.pendingProps.children,r),i.child;case 12:return Ft(t,i,i.pendingProps.children,r),i.child;case 10:return o=i.pendingProps,Bi(i,i.type,o.value),Ft(t,i,o.children,r),i.child;case 9:return f=i.type._context,o=i.pendingProps.children,Xa(i),f=Zt(f),o=o(f),i.flags|=1,Ft(t,i,o,r),i.child;case 14:return Yy(t,i,i.type,i.pendingProps,r);case 15:return Xy(t,i,i.type,i.pendingProps,r);case 19:return i_(t,i,r);case 22:return Wy(t,i,r);case 24:return Xa(i),o=Zt(It),t===null?(f=Kh(),f===null&&(f=et,m=zh(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=r),f=m),i.memoizedState={parent:o,cache:f},bf(i),Bi(i,It,f)):((t.lanes&r)!==0&&(Af(t,i),wo(i,null,null,r),Ao()),f=t.memoizedState,m=i.memoizedState,f.parent!==o?(f={parent:o,cache:o},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Bi(i,It,o)):(o=m.cache,Bi(i,It,o),o!==f.cache&&Tf(i,[It],r,!0))),Ft(t,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}var xf=Ke(null),Ya=null,Qs=null;function Bi(t,i,r){Xe(xf,i._currentValue),i._currentValue=r}function Ys(t){t._currentValue=xf.current,ct(xf)}function Ef(t,i,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===r)break;t=t.return}}function Tf(t,i,r,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var x=f.child;m=m.firstContext;e:for(;m!==null;){var b=m;m=f;for(var D=0;D<i.length;D++)if(b.context===i[D]){m.lanes|=r,b=m.alternate,b!==null&&(b.lanes|=r),Ef(m.return,r,t),o||(x=null);break e}m=b.next}}else if(f.tag===18){if(x=f.return,x===null)throw Error(a(341));x.lanes|=r,m=x.alternate,m!==null&&(m.lanes|=r),Ef(x,r,t),x=null}else x=f.child;if(x!==null)x.return=f;else for(x=f;x!==null;){if(x===t){x=null;break}if(f=x.sibling,f!==null){f.return=x.return,x=f;break}x=x.return}f=x}}function To(t,i,r,o){t=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var x=f.alternate;if(x===null)throw Error(a(387));if(x=x.memoizedProps,x!==null){var b=f.type;xn(f.pendingProps.value,x.value)||(t!==null?t.push(b):t=[b])}}else if(f===_i.current){if(x=f.alternate,x===null)throw Error(a(387));x.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Bo):t=[Bo])}f=f.return}t!==null&&Tf(i,t,r,o),i.flags|=262144}function wu(t){for(t=t.firstContext;t!==null;){if(!xn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Xa(t){Ya=t,Qs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Zt(t){return r_(Ya,t)}function Su(t,i){return Ya===null&&Xa(t),r_(t,i)}function r_(t,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},Qs===null){if(t===null)throw Error(a(308));Qs=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Qs=Qs.next=i;return r}var Hi=!1;function bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Af(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function zi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function qi(t,i,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(lt&2)!==0){var f=o.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),o.pending=i,i=ru(t),Hp(t,null,r),i}return au(t,o,i,r),ru(t)}function bo(t,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194176)!==0)){var o=i.lanes;o&=t.pendingLanes,r|=o,i.lanes=r,wi(t,r)}}function wf(t,i){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var f=null,m=null;if(r=r.firstBaseUpdate,r!==null){do{var x={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};m===null?f=m=x:m=m.next=x,r=r.next}while(r!==null);m===null?f=m=i:m=m.next=i}else f=m=i;r={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=i:t.next=i,r.lastBaseUpdate=i}var Sf=!1;function Ao(){if(Sf){var t=Qr;if(t!==null)throw t}}function wo(t,i,r,o){Sf=!1;var f=t.updateQueue;Hi=!1;var m=f.firstBaseUpdate,x=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var D=b,H=D.next;D.next=null,x===null?m=H:x.next=H,x=D;var ee=t.alternate;ee!==null&&(ee=ee.updateQueue,b=ee.lastBaseUpdate,b!==x&&(b===null?ee.firstBaseUpdate=H:b.next=H,ee.lastBaseUpdate=D))}if(m!==null){var re=f.baseState;x=0,ee=H=D=null,b=m;do{var X=b.lane&-536870913,J=X!==b.lane;if(J?(ze&X)===X:(o&X)===X){X!==0&&X===$r&&(Sf=!0),ee!==null&&(ee=ee.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var _e=t,ke=b;X=i;var ft=r;switch(ke.tag){case 1:if(_e=ke.payload,typeof _e=="function"){re=_e.call(ft,re,X);break e}re=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=ke.payload,X=typeof _e=="function"?_e.call(ft,re,X):_e,X==null)break e;re=N({},re,X);break e;case 2:Hi=!0}}X=b.callback,X!==null&&(t.flags|=64,J&&(t.flags|=8192),J=f.callbacks,J===null?f.callbacks=[X]:J.push(X))}else J={lane:X,tag:b.tag,payload:b.payload,callback:b.callback,next:null},ee===null?(H=ee=J,D=re):ee=ee.next=J,x|=X;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;J=b,b=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);ee===null&&(D=re),f.baseState=D,f.firstBaseUpdate=H,f.lastBaseUpdate=ee,m===null&&(f.shared.lanes=0),Qi|=x,t.lanes=x,t.memoizedState=re}}function l_(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function o_(t,i){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)l_(r[t],i)}function So(t,i){try{var r=i.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var f=o.next;r=f;do{if((r.tag&t)===t){o=void 0;var m=r.create,x=r.inst;o=m(),x.destroy=o}r=r.next}while(r!==f)}}catch(b){Je(i,i.return,b)}}function Ki(t,i,r){try{var o=i.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var m=f.next;o=m;do{if((o.tag&t)===t){var x=o.inst,b=x.destroy;if(b!==void 0){x.destroy=void 0,f=i;var D=r;try{b()}catch(H){Je(f,D,H)}}}o=o.next}while(o!==m)}}catch(H){Je(i,i.return,H)}}function c_(t){var i=t.updateQueue;if(i!==null){var r=t.stateNode;try{o_(i,r)}catch(o){Je(t,t.return,o)}}}function u_(t,i,r){r.props=Qa(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){Je(t,i,o)}}function Wa(t,i){try{var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 26:case 27:case 5:var f=o;break;default:f=o}typeof r=="function"?t.refCleanup=r(f):r.current=f}}catch(m){Je(t,i,m)}}function En(t,i){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(f){Je(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(f){Je(t,i,f)}else r.current=null}function d_(t){var i=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(f){Je(t,t.return,f)}}function h_(t,i,r){try{var o=t.stateNode;AA(o,t.type,r,i),o[Nt]=i}catch(f){Je(t,t.return,f)}}function f_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Nf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||f_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rf(t,i,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?r.nodeType===8?r.parentNode.insertBefore(t,i):r.insertBefore(t,i):(r.nodeType===8?(i=r.parentNode,i.insertBefore(t,r)):(i=r,i.appendChild(t)),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=Bu));else if(o!==4&&o!==27&&(t=t.child,t!==null))for(Rf(t,i,r),t=t.sibling;t!==null;)Rf(t,i,r),t=t.sibling}function Nu(t,i,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?r.insertBefore(t,i):r.appendChild(t);else if(o!==4&&o!==27&&(t=t.child,t!==null))for(Nu(t,i,r),t=t.sibling;t!==null;)Nu(t,i,r),t=t.sibling}var Xs=!1,dt=!1,kf=!1,m_=typeof WeakSet=="function"?WeakSet:Set,Bt=null,g_=!1;function eA(t,i){if(t=t.containerInfo,sm=$u,t=jp(t),Ch(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var f=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{r.nodeType,m.nodeType}catch{r=null;break e}var x=0,b=-1,D=-1,H=0,ee=0,re=t,X=null;t:for(;;){for(var J;re!==r||f!==0&&re.nodeType!==3||(b=x+f),re!==m||o!==0&&re.nodeType!==3||(D=x+o),re.nodeType===3&&(x+=re.nodeValue.length),(J=re.firstChild)!==null;)X=re,re=J;for(;;){if(re===t)break t;if(X===r&&++H===f&&(b=x),X===m&&++ee===o&&(D=x),(J=re.nextSibling)!==null)break;re=X,X=re.parentNode}re=J}r=b===-1||D===-1?null:{start:b,end:D}}else r=null}r=r||{start:0,end:0}}else r=null;for(im={focusedElem:t,selectionRange:r},$u=!1,Bt=i;Bt!==null;)if(i=Bt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Bt=t;else for(;Bt!==null;){switch(i=Bt,m=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,r=i,f=m.memoizedProps,m=m.memoizedState,o=r.stateNode;try{var _e=Qa(r.type,f,r.elementType===r.type);t=o.getSnapshotBeforeUpdate(_e,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(ke){Je(r,r.return,ke)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,r=t.nodeType,r===9)om(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":om(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,Bt=t;break}Bt=i.return}return _e=g_,g_=!1,_e}function p_(t,i,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Zs(t,r),o&4&&So(5,r);break;case 1:if(Zs(t,r),o&4)if(t=r.stateNode,i===null)try{t.componentDidMount()}catch(b){Je(r,r.return,b)}else{var f=Qa(r.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(b){Je(r,r.return,b)}}o&64&&c_(r),o&512&&Wa(r,r.return);break;case 3:if(Zs(t,r),o&64&&(o=r.updateQueue,o!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{o_(o,t)}catch(b){Je(r,r.return,b)}}break;case 26:Zs(t,r),o&512&&Wa(r,r.return);break;case 27:case 5:Zs(t,r),i===null&&o&4&&d_(r),o&512&&Wa(r,r.return);break;case 12:Zs(t,r);break;case 13:Zs(t,r),o&4&&v_(t,r);break;case 22:if(f=r.memoizedState!==null||Xs,!f){i=i!==null&&i.memoizedState!==null||dt;var m=Xs,x=dt;Xs=f,(dt=i)&&!x?Fi(t,r,(r.subtreeFlags&8772)!==0):Zs(t,r),Xs=m,dt=x}o&512&&(r.memoizedProps.mode==="manual"?Wa(r,r.return):En(r,r.return));break;default:Zs(t,r)}}function y_(t){var i=t.alternate;i!==null&&(t.alternate=null,y_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Na(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var bt=null,Tn=!1;function Ws(t,i,r){for(r=r.child;r!==null;)__(t,i,r),r=r.sibling}function __(t,i,r){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(xi,r)}catch{}switch(r.tag){case 26:dt||En(r,i),Ws(t,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:dt||En(r,i);var o=bt,f=Tn;for(bt=r.stateNode,Ws(t,i,r),r=r.stateNode,i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Na(r),bt=o,Tn=f;break;case 5:dt||En(r,i);case 6:f=bt;var m=Tn;if(bt=null,Ws(t,i,r),bt=f,Tn=m,bt!==null)if(Tn)try{t=bt,o=r.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)}catch(x){Je(r,i,x)}else try{bt.removeChild(r.stateNode)}catch(x){Je(r,i,x)}break;case 18:bt!==null&&(Tn?(i=bt,r=r.stateNode,i.nodeType===8?lm(i.parentNode,r):i.nodeType===1&&lm(i,r),Ko(i)):lm(bt,r.stateNode));break;case 4:o=bt,f=Tn,bt=r.stateNode.containerInfo,Tn=!0,Ws(t,i,r),bt=o,Tn=f;break;case 0:case 11:case 14:case 15:dt||Ki(2,r,i),dt||Ki(4,r,i),Ws(t,i,r);break;case 1:dt||(En(r,i),o=r.stateNode,typeof o.componentWillUnmount=="function"&&u_(r,i,o)),Ws(t,i,r);break;case 21:Ws(t,i,r);break;case 22:dt||En(r,i),dt=(o=dt)||r.memoizedState!==null,Ws(t,i,r),dt=o;break;default:Ws(t,i,r)}}function v_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ko(t)}catch(r){Je(i,i.return,r)}}function tA(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new m_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new m_),i;default:throw Error(a(435,t.tag))}}function Cf(t,i){var r=tA(t);i.forEach(function(o){var f=mA.bind(null,t,o);r.has(o)||(r.add(o),o.then(f,f))})}function Bn(t,i){var r=i.deletions;if(r!==null)for(var o=0;o<r.length;o++){var f=r[o],m=t,x=i,b=x;e:for(;b!==null;){switch(b.tag){case 27:case 5:bt=b.stateNode,Tn=!1;break e;case 3:bt=b.stateNode.containerInfo,Tn=!0;break e;case 4:bt=b.stateNode.containerInfo,Tn=!0;break e}b=b.return}if(bt===null)throw Error(a(160));__(m,x,f),bt=null,Tn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)x_(i,t),i=i.sibling}var Xn=null;function x_(t,i){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Bn(i,t),Hn(t),o&4&&(Ki(3,t,t.return),So(3,t),Ki(5,t,t.return));break;case 1:Bn(i,t),Hn(t),o&512&&(dt||r===null||En(r,r.return)),o&64&&Xs&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var f=Xn;if(Bn(i,t),Hn(t),o&512&&(dt||r===null||En(r,r.return)),o&4){var m=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ni]||m[Lt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(o),f.head.insertBefore(m,f.querySelector("head > title"))),Gt(m,o,r),m[Lt]=t,at(m),o=m;break e;case"link":var x=dv("link","href",f).get(o+(r.href||""));if(x){for(var b=0;b<x.length;b++)if(m=x[b],m.getAttribute("href")===(r.href==null?null:r.href)&&m.getAttribute("rel")===(r.rel==null?null:r.rel)&&m.getAttribute("title")===(r.title==null?null:r.title)&&m.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){x.splice(b,1);break t}}m=f.createElement(o),Gt(m,o,r),f.head.appendChild(m);break;case"meta":if(x=dv("meta","content",f).get(o+(r.content||""))){for(b=0;b<x.length;b++)if(m=x[b],m.getAttribute("content")===(r.content==null?null:""+r.content)&&m.getAttribute("name")===(r.name==null?null:r.name)&&m.getAttribute("property")===(r.property==null?null:r.property)&&m.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&m.getAttribute("charset")===(r.charSet==null?null:r.charSet)){x.splice(b,1);break t}}m=f.createElement(o),Gt(m,o,r),f.head.appendChild(m);break;default:throw Error(a(468,o))}m[Lt]=t,at(m),o=m}t.stateNode=o}else hv(f,t.type,t.stateNode);else t.stateNode=uv(f,o,t.memoizedProps);else m!==o?(m===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):m.count--,o===null?hv(f,t.type,t.stateNode):uv(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&h_(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(o&4&&t.alternate===null){f=t.stateNode,m=t.memoizedProps;try{for(var D=f.firstChild;D;){var H=D.nextSibling,ee=D.nodeName;D[Ni]||ee==="HEAD"||ee==="BODY"||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&D.rel.toLowerCase()==="stylesheet"||f.removeChild(D),D=H}for(var re=t.type,X=f.attributes;X.length;)f.removeAttributeNode(X[0]);Gt(f,re,m),f[Lt]=t,f[Nt]=m}catch(_e){Je(t,t.return,_e)}}case 5:if(Bn(i,t),Hn(t),o&512&&(dt||r===null||En(r,r.return)),t.flags&32){f=t.stateNode;try{In(f,"")}catch(_e){Je(t,t.return,_e)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,h_(t,f,r!==null?r.memoizedProps:f)),o&1024&&(kf=!0);break;case 6:if(Bn(i,t),Hn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(_e){Je(t,t.return,_e)}}break;case 3:if(Ku=null,f=Xn,Xn=zu(i.containerInfo),Bn(i,t),Xn=f,Hn(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ko(i.containerInfo)}catch(_e){Je(t,t.return,_e)}kf&&(kf=!1,E_(t));break;case 4:o=Xn,Xn=zu(t.stateNode.containerInfo),Bn(i,t),Hn(t),Xn=o;break;case 12:Bn(i,t),Hn(t);break;case 13:Bn(i,t),Hn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Uf=fn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Cf(t,o)));break;case 22:if(o&512&&(dt||r===null||En(r,r.return)),D=t.memoizedState!==null,H=r!==null&&r.memoizedState!==null,ee=Xs,re=dt,Xs=ee||D,dt=re||H,Bn(i,t),dt=re,Xs=ee,Hn(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,o&8192&&(i._visibility=D?i._visibility&-2:i._visibility|1,D&&(i=Xs||dt,r===null||H||i||Zr(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(r=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(r===null){H=r=i;try{if(f=H.stateNode,D)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{x=H.stateNode,b=H.memoizedProps.style;var J=b!=null&&b.hasOwnProperty("display")?b.display:null;x.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(_e){Je(H,H.return,_e)}}}else if(i.tag===6){if(r===null){H=i;try{H.stateNode.nodeValue=D?"":H.memoizedProps}catch(_e){Je(H,H.return,_e)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Cf(t,r))));break;case 19:Bn(i,t),Hn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Cf(t,o)));break;case 21:break;default:Bn(i,t),Hn(t)}}function Hn(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var r=t.return;r!==null;){if(f_(r)){var o=r;break e}r=r.return}throw Error(a(160))}switch(o.tag){case 27:var f=o.stateNode,m=Nf(t);Nu(t,m,f);break;case 5:var x=o.stateNode;o.flags&32&&(In(x,""),o.flags&=-33);var b=Nf(t);Nu(t,b,x);break;case 3:case 4:var D=o.stateNode.containerInfo,H=Nf(t);Rf(t,H,D);break;default:throw Error(a(161))}}}catch(ee){Je(t,t.return,ee)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function E_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;E_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Zs(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)p_(t,i.alternate,i),i=i.sibling}function Zr(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ki(4,i,i.return),Zr(i);break;case 1:En(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&u_(i,i.return,r),Zr(i);break;case 26:case 27:case 5:En(i,i.return),Zr(i);break;case 22:En(i,i.return),i.memoizedState===null&&Zr(i);break;default:Zr(i)}t=t.sibling}}function Fi(t,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,f=t,m=i,x=m.flags;switch(m.tag){case 0:case 11:case 15:Fi(f,m,r),So(4,m);break;case 1:if(Fi(f,m,r),o=m,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){Je(o,o.return,H)}if(o=m,f=o.updateQueue,f!==null){var b=o.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)l_(D[f],b)}catch(H){Je(o,o.return,H)}}r&&x&64&&c_(m),Wa(m,m.return);break;case 26:case 27:case 5:Fi(f,m,r),r&&o===null&&x&4&&d_(m),Wa(m,m.return);break;case 12:Fi(f,m,r);break;case 13:Fi(f,m,r),r&&x&4&&v_(f,m);break;case 22:m.memoizedState===null&&Fi(f,m,r),Wa(m,m.return);break;default:Fi(f,m,r)}i=i.sibling}}function If(t,i){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&po(r))}function jf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&po(t))}function Gi(t,i,r,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)T_(t,i,r,o),i=i.sibling}function T_(t,i,r,o){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Gi(t,i,r,o),f&2048&&So(9,i);break;case 3:Gi(t,i,r,o),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&po(t)));break;case 12:if(f&2048){Gi(t,i,r,o),t=i.stateNode;try{var m=i.memoizedProps,x=m.id,b=m.onPostCommit;typeof b=="function"&&b(x,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Je(i,i.return,D)}}else Gi(t,i,r,o);break;case 23:break;case 22:m=i.stateNode,i.memoizedState!==null?m._visibility&4?Gi(t,i,r,o):No(t,i):m._visibility&4?Gi(t,i,r,o):(m._visibility|=4,Jr(t,i,r,o,(i.subtreeFlags&10256)!==0)),f&2048&&If(i.alternate,i);break;case 24:Gi(t,i,r,o),f&2048&&jf(i.alternate,i);break;default:Gi(t,i,r,o)}}function Jr(t,i,r,o,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=t,x=i,b=r,D=o,H=x.flags;switch(x.tag){case 0:case 11:case 15:Jr(m,x,b,D,f),So(8,x);break;case 23:break;case 22:var ee=x.stateNode;x.memoizedState!==null?ee._visibility&4?Jr(m,x,b,D,f):No(m,x):(ee._visibility|=4,Jr(m,x,b,D,f)),f&&H&2048&&If(x.alternate,x);break;case 24:Jr(m,x,b,D,f),f&&H&2048&&jf(x.alternate,x);break;default:Jr(m,x,b,D,f)}i=i.sibling}}function No(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=t,o=i,f=o.flags;switch(o.tag){case 22:No(r,o),f&2048&&If(o.alternate,o);break;case 24:No(r,o),f&2048&&jf(o.alternate,o);break;default:No(r,o)}i=i.sibling}}var Ro=8192;function el(t){if(t.subtreeFlags&Ro)for(t=t.child;t!==null;)b_(t),t=t.sibling}function b_(t){switch(t.tag){case 26:el(t),t.flags&Ro&&t.memoizedState!==null&&qA(Xn,t.memoizedState,t.memoizedProps);break;case 5:el(t);break;case 3:case 4:var i=Xn;Xn=zu(t.stateNode.containerInfo),el(t),Xn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Ro,Ro=16777216,el(t),Ro=i):el(t));break;default:el(t)}}function A_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ko(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var o=i[r];Bt=o,S_(o,t)}A_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)w_(t),t=t.sibling}function w_(t){switch(t.tag){case 0:case 11:case 15:ko(t),t.flags&2048&&Ki(9,t,t.return);break;case 3:ko(t);break;case 12:ko(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,Ru(t)):ko(t);break;default:ko(t)}}function Ru(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var o=i[r];Bt=o,S_(o,t)}A_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ki(8,i,i.return),Ru(i);break;case 22:r=i.stateNode,r._visibility&4&&(r._visibility&=-5,Ru(i));break;default:Ru(i)}t=t.sibling}}function S_(t,i){for(;Bt!==null;){var r=Bt;switch(r.tag){case 0:case 11:case 15:Ki(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:po(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Bt=o;else e:for(r=t;Bt!==null;){o=Bt;var f=o.sibling,m=o.return;if(y_(o),o===r){Bt=null;break e}if(f!==null){f.return=m,Bt=f;break e}Bt=m}}}function nA(t,i,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(t,i,r,o){return new nA(t,i,r,o)}function Df(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $i(t,i){var r=t.alternate;return r===null?(r=zn(t.tag,i,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=i,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,i=t.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function N_(t,i){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,i=r.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function ku(t,i,r,o,f,m){var x=0;if(o=t,typeof t=="function")Df(t)&&(x=1);else if(typeof t=="string")x=HA(t,r,an.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return Za(r.children,f,m,i);case y:x=8,f|=24;break;case E:return t=zn(12,r,i,f|2),t.elementType=E,t.lanes=m,t;case z:return t=zn(13,r,i,f),t.elementType=z,t.lanes=m,t;case V:return t=zn(19,r,i,f),t.elementType=V,t.lanes=m,t;case G:return R_(r,f,m,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A:case I:x=10;break e;case w:x=9;break e;case L:x=11;break e;case B:x=14;break e;case F:x=16,o=null;break e}x=29,r=Error(a(130,t===null?"null":typeof t,"")),o=null}return i=zn(x,r,i,f),i.elementType=t,i.type=o,i.lanes=m,i}function Za(t,i,r,o){return t=zn(7,t,o,i),t.lanes=r,t}function R_(t,i,r,o){t=zn(22,t,o,i),t.elementType=G,t.lanes=r;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=f._current;if(m===null)throw Error(a(456));if((f._pendingVisibility&2)===0){var x=Mi(m,2);x!==null&&(f._pendingVisibility|=2,un(x,m,2))}},attach:function(){var m=f._current;if(m===null)throw Error(a(456));if((f._pendingVisibility&2)!==0){var x=Mi(m,2);x!==null&&(f._pendingVisibility&=-3,un(x,m,2))}}};return t.stateNode=f,t}function Of(t,i,r){return t=zn(6,t,null,i),t.lanes=r,t}function Mf(t,i,r){return i=zn(4,t.children!==null?t.children:[],t.key,i),i.lanes=r,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function Js(t){t.flags|=4}function k_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!fv(i)){if(i=Un.current,i!==null&&((ze&4194176)===ze?ys!==null:(ze&62914560)!==ze&&(ze&536870912)===0||i!==ys))throw fo=Uh,Gp;t.flags|=8192}}function Cu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?bi():536870912,t.lanes|=i,nl|=i)}function Co(t,i){if(!Ge)switch(t.tailMode){case"hidden":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(i)for(var f=t.child;f!==null;)r|=f.lanes|f.childLanes,o|=f.subtreeFlags&31457280,o|=f.flags&31457280,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)r|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=r,i}function sA(t,i,r){var o=i.pendingProps;switch(Vh(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return r=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ys(It),js(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(oo(i)?Js(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Yn!==null&&(qf(Yn),Yn=null))),rt(i),null;case 26:return r=i.memoizedState,t===null?(Js(i),r!==null?(rt(i),k_(i,r)):(rt(i),i.flags&=-16777217)):r?r!==t.memoizedState?(Js(i),rt(i),k_(i,r)):(rt(i),i.flags&=-16777217):(t.memoizedProps!==o&&Js(i),rt(i),i.flags&=-16777217),null;case 27:Er(i),r=Rn.current;var f=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Js(i);else{if(!o){if(i.stateNode===null)throw Error(a(166));return rt(i),null}t=an.current,oo(i)?Kp(i):(t=av(f,o,r),i.stateNode=t,Js(i))}return rt(i),null;case 5:if(Er(i),r=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Js(i);else{if(!o){if(i.stateNode===null)throw Error(a(166));return rt(i),null}if(t=an.current,oo(i))Kp(i);else{switch(f=Hu(Rn.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?f.createElement(r,{is:o.is}):f.createElement(r)}}t[Lt]=i,t[Nt]=o;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=t;e:switch(Gt(t,r,o),r){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Js(i)}}return rt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&Js(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(a(166));if(t=Rn.current,oo(i)){if(t=i.stateNode,r=i.memoizedProps,o=null,f=cn,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[Lt]=i,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||J_(t.nodeValue,r)),t||za(i)}else t=Hu(t).createTextNode(o),t[Lt]=i,i.stateNode=t}return rt(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=oo(i),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Lt]=i}else co(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),f=!1}else Yn!==null&&(qf(Yn),Yn=null),f=!0;if(!f)return i.flags&256?(Fs(i),i):(Fs(i),null)}if(Fs(i),(i.flags&128)!==0)return i.lanes=r,i;if(r=o!==null,t=t!==null&&t.memoizedState!==null,r){o=i.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var m=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==f&&(o.flags|=2048)}return r!==t&&r&&(i.child.flags|=8192),Cu(i,i.updateQueue),rt(i),null;case 4:return js(),t===null&&em(i.stateNode.containerInfo),rt(i),null;case 10:return Ys(i.type),rt(i),null;case 19:if(ct(Ct),f=i.memoizedState,f===null)return rt(i),null;if(o=(i.flags&128)!==0,m=f.rendering,m===null)if(o)Co(f,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=fu(t),m!==null){for(i.flags|=128,Co(f,!1),t=m.updateQueue,i.updateQueue=t,Cu(i,t),i.subtreeFlags=0,t=r,r=i.child;r!==null;)N_(r,t),r=r.sibling;return Xe(Ct,Ct.current&1|2),i.child}t=t.sibling}f.tail!==null&&fn()>Iu&&(i.flags|=128,o=!0,Co(f,!1),i.lanes=4194304)}else{if(!o)if(t=fu(m),t!==null){if(i.flags|=128,o=!0,t=t.updateQueue,i.updateQueue=t,Cu(i,t),Co(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Ge)return rt(i),null}else 2*fn()-f.renderingStartTime>Iu&&r!==536870912&&(i.flags|=128,o=!0,Co(f,!1),i.lanes=4194304);f.isBackwards?(m.sibling=i.child,i.child=m):(t=f.last,t!==null?t.sibling=m:i.child=m,f.last=m)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=fn(),i.sibling=null,t=Ct.current,Xe(Ct,o?t&1|2:t&1),i):(rt(i),null);case 22:case 23:return Fs(i),Hh(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(r&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),r=i.updateQueue,r!==null&&Cu(i,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==r&&(i.flags|=2048),t!==null&&ct(Ka),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),Ys(It),rt(i),null;case 25:return null}throw Error(a(156,i.tag))}function iA(t,i){switch(Vh(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ys(It),js(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Er(i),null;case 13:if(Fs(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));co()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ct(Ct),null;case 4:return js(),null;case 10:return Ys(i.type),null;case 22:case 23:return Fs(i),Hh(),t!==null&&ct(Ka),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ys(It),null;case 25:return null;default:return null}}function C_(t,i){switch(Vh(i),i.tag){case 3:Ys(It),js();break;case 26:case 27:case 5:Er(i);break;case 4:js();break;case 13:Fs(i);break;case 19:ct(Ct);break;case 10:Ys(i.type);break;case 22:case 23:Fs(i),Hh(),t!==null&&ct(Ka);break;case 24:Ys(It)}}var aA={getCacheForType:function(t){var i=Zt(It),r=i.data.get(t);return r===void 0&&(r=t(),i.data.set(t,r)),r}},rA=typeof WeakMap=="function"?WeakMap:Map,lt=0,et=null,Me=null,ze=0,tt=0,bn=null,ei=!1,tl=!1,Lf=!1,ti=0,ht=0,Qi=0,Ja=0,Vf=0,qn=0,nl=0,Io=null,vs=null,Pf=!1,Uf=0,Iu=1/0,ju=null,Yi=null,Du=!1,er=null,jo=0,Bf=0,Hf=null,Do=0,zf=null;function An(){if((lt&2)!==0&&ze!==0)return ze&-ze;if(T.T!==null){var t=$r;return t!==0?t:Xf()}return Uc()}function I_(){qn===0&&(qn=(ze&536870912)===0||Ge?Kl():536870912);var t=Un.current;return t!==null&&(t.flags|=32),qn}function un(t,i,r){(t===et&&tt===2||t.cancelPendingCommit!==null)&&(sl(t,0),ni(t,ze,qn,!1)),yt(t,r),((lt&2)===0||t!==et)&&(t===et&&((lt&2)===0&&(Ja|=r),ht===4&&ni(t,ze,qn,!1)),xs(t))}function j_(t,i,r){if((lt&6)!==0)throw Error(a(327));var o=!r&&(i&60)===0&&(i&t.expiredLanes)===0||Ti(t,i),f=o?cA(t,i):Gf(t,i,!0),m=o;do{if(f===0){tl&&!o&&ni(t,i,0,!1);break}else if(f===6)ni(t,i,0,!ei);else{if(r=t.current.alternate,m&&!lA(r)){f=Gf(t,i,!1),m=!1;continue}if(f===2){if(m=i,t.errorRecoveryDisabledLanes&m)var x=0;else x=t.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){i=x;e:{var b=t;f=Io;var D=b.current.memoizedState.isDehydrated;if(D&&(sl(b,x).flags|=256),x=Gf(b,x,!1),x!==2){if(Lf&&!D){b.errorRecoveryDisabledLanes|=m,Ja|=m,f=4;break e}m=vs,vs=f,m!==null&&qf(m)}f=x}if(m=!1,f!==2)continue}}if(f===1){sl(t,0),ni(t,i,0,!0);break}e:{switch(o=t,f){case 0:case 1:throw Error(a(345));case 4:if((i&4194176)===i){ni(o,i,qn,!ei);break e}break;case 2:vs=null;break;case 3:case 5:break;default:throw Error(a(329))}if(o.finishedWork=r,o.finishedLanes=i,(i&62914560)===i&&(m=Uf+300-fn(),10<m)){if(ni(o,i,qn,!ei),kn(o,0)!==0)break e;o.timeoutHandle=nv(D_.bind(null,o,r,vs,ju,Pf,i,qn,Ja,nl,ei,2,-0,0),m);break e}D_(o,r,vs,ju,Pf,i,qn,Ja,nl,ei,0,-0,0)}}break}while(!0);xs(t)}function qf(t){vs===null?vs=t:vs.push.apply(vs,t)}function D_(t,i,r,o,f,m,x,b,D,H,ee,re,X){var J=i.subtreeFlags;if((J&8192||(J&16785408)===16785408)&&(Uo={stylesheets:null,count:0,unsuspend:zA},b_(i),i=KA(),i!==null)){t.cancelPendingCommit=i(B_.bind(null,t,r,o,f,x,b,D,1,re,X)),ni(t,m,x,!H);return}B_(t,r,o,f,x,b,D,ee,re,X)}function lA(t){for(var i=t;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var f=r[o],m=f.getSnapshot;f=f.value;try{if(!xn(m(),f))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ni(t,i,r,o){i&=~Vf,i&=~Ja,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var f=i;0<f;){var m=31-rn(f),x=1<<m;o[m]=-1,f&=~x}r!==0&&Ai(t,r,i)}function Ou(){return(lt&6)===0?(Oo(0),!1):!0}function Kf(){if(Me!==null){if(tt===0)var t=Me.return;else t=Me,Qs=Ya=null,Yh(t),Fr=null,mo=0,t=Me;for(;t!==null;)C_(t.alternate,t),t=t.return;Me=null}}function sl(t,i){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,SA(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Kf(),et=t,Me=r=$i(t.current,null),ze=i,tt=0,bn=null,ei=!1,tl=Ti(t,i),Lf=!1,nl=qn=Vf=Ja=Qi=ht=0,vs=Io=null,Pf=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var f=31-rn(o),m=1<<f;i|=t[f],o&=~m}return ti=i,iu(),r}function O_(t,i){De=null,T.H=_s,i===ho?(i=Yp(),tt=3):i===Gp?(i=Yp(),tt=4):tt=i===$y?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,Me===null&&(ht=1,Au(t,Ln(i,t.current)))}function M_(){var t=T.H;return T.H=_s,t===null?_s:t}function L_(){var t=T.A;return T.A=aA,t}function Ff(){ht=4,ei||(ze&4194176)!==ze&&Un.current!==null||(tl=!0),(Qi&134217727)===0&&(Ja&134217727)===0||et===null||ni(et,ze,qn,!1)}function Gf(t,i,r){var o=lt;lt|=2;var f=M_(),m=L_();(et!==t||ze!==i)&&(ju=null,sl(t,i)),i=!1;var x=ht;e:do try{if(tt!==0&&Me!==null){var b=Me,D=bn;switch(tt){case 8:Kf(),x=6;break e;case 3:case 2:case 6:Un.current===null&&(i=!0);var H=tt;if(tt=0,bn=null,il(t,b,D,H),r&&tl){x=0;break e}break;default:H=tt,tt=0,bn=null,il(t,b,D,H)}}oA(),x=ht;break}catch(ee){O_(t,ee)}while(!0);return i&&t.shellSuspendCounter++,Qs=Ya=null,lt=o,T.H=f,T.A=m,Me===null&&(et=null,ze=0,iu()),x}function oA(){for(;Me!==null;)V_(Me)}function cA(t,i){var r=lt;lt|=2;var o=M_(),f=L_();et!==t||ze!==i?(ju=null,Iu=fn()+500,sl(t,i)):tl=Ti(t,i);e:do try{if(tt!==0&&Me!==null){i=Me;var m=bn;t:switch(tt){case 1:tt=0,bn=null,il(t,i,m,1);break;case 2:if($p(m)){tt=0,bn=null,P_(i);break}i=function(){tt===2&&et===t&&(tt=7),xs(t)},m.then(i,i);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:$p(m)?(tt=0,bn=null,P_(i)):(tt=0,bn=null,il(t,i,m,7));break;case 5:var x=null;switch(Me.tag){case 26:x=Me.memoizedState;case 5:case 27:var b=Me;if(!x||fv(x)){tt=0,bn=null;var D=b.sibling;if(D!==null)Me=D;else{var H=b.return;H!==null?(Me=H,Mu(H)):Me=null}break t}}tt=0,bn=null,il(t,i,m,5);break;case 6:tt=0,bn=null,il(t,i,m,6);break;case 8:Kf(),ht=6;break e;default:throw Error(a(462))}}uA();break}catch(ee){O_(t,ee)}while(!0);return Qs=Ya=null,T.H=o,T.A=f,lt=r,Me!==null?0:(et=null,ze=0,iu(),ht)}function uA(){for(;Me!==null&&!vh();)V_(Me)}function V_(t){var i=a_(t.alternate,t,ti);t.memoizedProps=t.pendingProps,i===null?Mu(t):Me=i}function P_(t){var i=t,r=i.alternate;switch(i.tag){case 15:case 0:i=Jy(r,i,i.pendingProps,i.type,void 0,ze);break;case 11:i=Jy(r,i,i.pendingProps,i.type.render,i.ref,ze);break;case 5:Yh(i);default:C_(r,i),i=Me=N_(i,ti),i=a_(r,i,ti)}t.memoizedProps=t.pendingProps,i===null?Mu(t):Me=i}function il(t,i,r,o){Qs=Ya=null,Yh(i),Fr=null,mo=0;var f=i.return;try{if(Zb(t,f,i,r,ze)){ht=1,Au(t,Ln(r,t.current)),Me=null;return}}catch(m){if(f!==null)throw Me=f,m;ht=1,Au(t,Ln(r,t.current)),Me=null;return}i.flags&32768?(Ge||o===1?t=!0:tl||(ze&536870912)!==0?t=!1:(ei=t=!0,(o===2||o===3||o===6)&&(o=Un.current,o!==null&&o.tag===13&&(o.flags|=16384))),U_(i,t)):Mu(i)}function Mu(t){var i=t;do{if((i.flags&32768)!==0){U_(i,ei);return}t=i.return;var r=sA(i.alternate,i,ti);if(r!==null){Me=r;return}if(i=i.sibling,i!==null){Me=i;return}Me=i=t}while(i!==null);ht===0&&(ht=5)}function U_(t,i){do{var r=iA(t.alternate,t);if(r!==null){r.flags&=32767,Me=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(t=t.sibling,t!==null)){Me=t;return}Me=t=r}while(t!==null);ht=6,Me=null}function B_(t,i,r,o,f,m,x,b,D,H){var ee=T.T,re=de.p;try{de.p=2,T.T=null,dA(t,i,r,o,re,f,m,x,b,D,H)}finally{T.T=ee,de.p=re}}function dA(t,i,r,o,f,m,x,b){do al();while(er!==null);if((lt&6)!==0)throw Error(a(327));var D=t.finishedWork;if(o=t.finishedLanes,D===null)return null;if(t.finishedWork=null,t.finishedLanes=0,D===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var H=D.lanes|D.childLanes;if(H|=Oh,Vc(t,o,H,m,x,b),t===et&&(Me=et=null,ze=0),(D.subtreeFlags&10256)===0&&(D.flags&10256)===0||Du||(Du=!0,Bf=H,Hf=r,gA(Ds,function(){return al(),null})),r=(D.flags&15990)!==0,(D.subtreeFlags&15990)!==0||r?(r=T.T,T.T=null,m=de.p,de.p=2,x=lt,lt|=4,eA(t,D),x_(D,t),Mb(im,t.containerInfo),$u=!!sm,im=sm=null,t.current=D,p_(t,D.alternate,D),Bl(),lt=x,de.p=m,T.T=r):t.current=D,Du?(Du=!1,er=t,jo=o):H_(t,H),H=t.pendingLanes,H===0&&(Yi=null),zl(D.stateNode),xs(t),i!==null)for(f=t.onRecoverableError,D=0;D<i.length;D++)H=i[D],f(H.value,{componentStack:H.stack});return(jo&3)!==0&&al(),H=t.pendingLanes,(o&4194218)!==0&&(H&42)!==0?t===zf?Do++:(Do=0,zf=t):Do=0,Oo(0),null}function H_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,po(i)))}function al(){if(er!==null){var t=er,i=Bf;Bf=0;var r=Pc(jo),o=T.T,f=de.p;try{if(de.p=32>r?32:r,T.T=null,er===null)var m=!1;else{r=Hf,Hf=null;var x=er,b=jo;if(er=null,jo=0,(lt&6)!==0)throw Error(a(331));var D=lt;if(lt|=4,w_(x.current),T_(x,x.current,b,r),lt=D,Oo(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(xi,x)}catch{}m=!0}return m}finally{de.p=f,T.T=o,H_(t,i)}}return!1}function z_(t,i,r){i=Ln(r,i),i=uf(t.stateNode,i,2),t=qi(t,i,2),t!==null&&(yt(t,2),xs(t))}function Je(t,i,r){if(t.tag===3)z_(t,t,r);else for(;i!==null;){if(i.tag===3){z_(i,t,r);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Yi===null||!Yi.has(o))){t=Ln(r,t),r=Fy(2),o=qi(i,r,2),o!==null&&(Gy(r,o,i,t),yt(o,2),xs(o));break}}i=i.return}}function $f(t,i,r){var o=t.pingCache;if(o===null){o=t.pingCache=new rA;var f=new Set;o.set(i,f)}else f=o.get(i),f===void 0&&(f=new Set,o.set(i,f));f.has(r)||(Lf=!0,f.add(r),t=hA.bind(null,t,i,r),i.then(t,t))}function hA(t,i,r){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,et===t&&(ze&r)===r&&(ht===4||ht===3&&(ze&62914560)===ze&&300>fn()-Uf?(lt&2)===0&&sl(t,0):Vf|=r,nl===ze&&(nl=0)),xs(t)}function q_(t,i){i===0&&(i=bi()),t=Mi(t,i),t!==null&&(yt(t,i),xs(t))}function fA(t){var i=t.memoizedState,r=0;i!==null&&(r=i.retryLane),q_(t,r)}function mA(t,i){var r=0;switch(t.tag){case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(r=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(i),q_(t,r)}function gA(t,i){return Aa(t,i)}var Lu=null,rl=null,Qf=!1,Vu=!1,Yf=!1,tr=0;function xs(t){t!==rl&&t.next===null&&(rl===null?Lu=rl=t:rl=rl.next=t),Vu=!0,Qf||(Qf=!0,yA(pA))}function Oo(t,i){if(!Yf&&Vu){Yf=!0;do for(var r=!1,o=Lu;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var m=0;else{var x=o.suspendedLanes,b=o.pingedLanes;m=(1<<31-rn(42|t)+1)-1,m&=f&~(x&~b),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(r=!0,G_(o,m))}else m=ze,m=kn(o,o===et?m:0),(m&3)===0||Ti(o,m)||(r=!0,G_(o,m));o=o.next}while(r);Yf=!1}}function pA(){Vu=Qf=!1;var t=0;tr!==0&&(wA()&&(t=tr),tr=0);for(var i=fn(),r=null,o=Lu;o!==null;){var f=o.next,m=K_(o,i);m===0?(o.next=null,r===null?Lu=f:r.next=f,f===null&&(rl=r)):(r=o,(t!==0||(m&3)!==0)&&(Vu=!0)),o=f}Oo(t)}function K_(t,i){for(var r=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var x=31-rn(m),b=1<<x,D=f[x];D===-1?((b&r)===0||(b&o)!==0)&&(f[x]=Ar(b,i)):D<=i&&(t.expiredLanes|=b),m&=~b}if(i=et,r=ze,r=kn(t,t===i?r:0),o=t.callbackNode,r===0||t===i&&tt===2||t.cancelPendingCommit!==null)return o!==null&&o!==null&&br(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Ti(t,r)){if(i=r&-r,i===t.callbackPriority)return i;switch(o!==null&&br(o),Pc(r)){case 2:case 8:r=Mt;break;case 32:r=Ds;break;case 268435456:r=Hl;break;default:r=Ds}return o=F_.bind(null,t),r=Aa(r,o),t.callbackPriority=i,t.callbackNode=r,i}return o!==null&&o!==null&&br(o),t.callbackPriority=2,t.callbackNode=null,2}function F_(t,i){var r=t.callbackNode;if(al()&&t.callbackNode!==r)return null;var o=ze;return o=kn(t,t===et?o:0),o===0?null:(j_(t,o,i),K_(t,fn()),t.callbackNode!=null&&t.callbackNode===r?F_.bind(null,t):null)}function G_(t,i){if(al())return null;j_(t,i,!0)}function yA(t){NA(function(){(lt&6)!==0?Aa(St,t):t()})}function Xf(){return tr===0&&(tr=Kl()),tr}function $_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:cs(""+t)}function Q_(t,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,t.id&&r.setAttribute("form",t.id),i.parentNode.insertBefore(r,i),t=new FormData(t),r.parentNode.removeChild(r),t}function _A(t,i,r,o,f){if(i==="submit"&&r&&r.stateNode===f){var m=$_((f[Nt]||null).action),x=o.submitter;x&&(i=(i=x[Nt]||null)?$_(i.formAction):x.getAttribute("formAction"),i!==null&&(m=i,x=null));var b=new Ir("action","action",null,o,f);t.push({event:b,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(tr!==0){var D=x?Q_(f,x):new FormData(f);af(r,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(b.preventDefault(),D=x?Q_(f,x):new FormData(f),af(r,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var Wf=0;Wf<Bp.length;Wf++){var Zf=Bp[Wf],vA=Zf.toLowerCase(),xA=Zf[0].toUpperCase()+Zf.slice(1);Qn(vA,"on"+xA)}Qn(Mp,"onAnimationEnd"),Qn(Lp,"onAnimationIteration"),Qn(Vp,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(Vb,"onTransitionRun"),Qn(Pb,"onTransitionStart"),Qn(Ub,"onTransitionCancel"),Qn(Pp,"onTransitionEnd"),mn("onMouseEnter",["mouseout","mouseover"]),mn("onMouseLeave",["mouseout","mouseover"]),mn("onPointerEnter",["pointerout","pointerover"]),mn("onPointerLeave",["pointerout","pointerover"]),_n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_n("onBeforeInput",["compositionend","keypress","textInput","paste"]),_n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mo));function Y_(t,i){i=(i&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],f=o.event;o=o.listeners;e:{var m=void 0;if(i)for(var x=o.length-1;0<=x;x--){var b=o[x],D=b.instance,H=b.currentTarget;if(b=b.listener,D!==m&&f.isPropagationStopped())break e;m=b,f.currentTarget=H;try{m(f)}catch(ee){bu(ee)}f.currentTarget=null,m=D}else for(x=0;x<o.length;x++){if(b=o[x],D=b.instance,H=b.currentTarget,b=b.listener,D!==m&&f.isPropagationStopped())break e;m=b,f.currentTarget=H;try{m(f)}catch(ee){bu(ee)}f.currentTarget=null,m=D}}}}function Pe(t,i){var r=i[Sa];r===void 0&&(r=i[Sa]=new Set);var o=t+"__bubble";r.has(o)||(X_(i,t,2,!1),r.add(o))}function Jf(t,i,r){var o=0;i&&(o|=4),X_(r,t,o,i)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function em(t){if(!t[Pu]){t[Pu]=!0,Gl.forEach(function(r){r!=="selectionchange"&&(EA.has(r)||Jf(r,!1,t),Jf(r,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Pu]||(i[Pu]=!0,Jf("selectionchange",!1,i))}}function X_(t,i,r,o){switch(vv(i)){case 2:var f=$A;break;case 8:f=QA;break;default:f=fm}r=f.bind(null,i,r,t),f=void 0,!Dn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(i,r,{capture:!0,passive:f}):t.addEventListener(i,r,!0):f!==void 0?t.addEventListener(i,r,{passive:f}):t.addEventListener(i,r,!1)}function tm(t,i,r,o,f){var m=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var x=o.tag;if(x===3||x===4){var b=o.stateNode.containerInfo;if(b===f||b.nodeType===8&&b.parentNode===f)break;if(x===4)for(x=o.return;x!==null;){var D=x.tag;if((D===3||D===4)&&(D=x.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;x=x.return}for(;b!==null;){if(x=$n(b),x===null)return;if(D=x.tag,D===5||D===6||D===26||D===27){o=m=x;continue e}b=b.parentNode}}o=o.return}qc(function(){var H=m,ee=Cr(r),re=[];e:{var X=Up.get(t);if(X!==void 0){var J=Ir,_e=t;switch(t){case"keypress":if(ds(r)===0)break e;case"keydown":case"keyup":J=Vr;break;case"focusin":_e="focus",J=Or;break;case"focusout":_e="blur",J=Or;break;case"beforeblur":case"afterblur":J=Or;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=On;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Sh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Wc;break;case Mp:case Lp:case Vp:J=Mr;break;case Pp:J=Jc;break;case"scroll":case"scrollend":J=Kc;break;case"wheel":J=Pr;break;case"copy":case"cut":case"paste":J=Lr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=io;break;case"toggle":case"beforetoggle":J=tu}var ke=(i&4)!==0,ft=!ke&&(t==="scroll"||t==="scrollend"),K=ke?X!==null?X+"Capture":null:X;ke=[];for(var U=H,Q;U!==null;){var ne=U;if(Q=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||Q===null||K===null||(ne=Ia(U,K),ne!=null&&ke.push(Lo(U,ne,Q))),ft)break;U=U.return}0<ke.length&&(X=new J(X,_e,null,r,ee),re.push({event:X,listeners:ke}))}}if((i&7)===0){e:{if(X=t==="mouseover"||t==="pointerover",J=t==="mouseout"||t==="pointerout",X&&r!==jn&&(_e=r.relatedTarget||r.fromElement)&&($n(_e)||_e[Os]))break e;if((J||X)&&(X=ee.window===ee?ee:(X=ee.ownerDocument)?X.defaultView||X.parentWindow:window,J?(_e=r.relatedTarget||r.toElement,J=H,_e=_e?$n(_e):null,_e!==null&&(ft=oe(_e),ke=_e.tag,_e!==ft||ke!==5&&ke!==27&&ke!==6)&&(_e=null)):(J=null,_e=H),J!==_e)){if(ke=On,ne="onMouseLeave",K="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(ke=io,ne="onPointerLeave",K="onPointerEnter",U="pointer"),ft=J==null?X:Ri(J),Q=_e==null?X:Ri(_e),X=new ke(ne,U+"leave",J,r,ee),X.target=ft,X.relatedTarget=Q,ne=null,$n(ee)===H&&(ke=new ke(K,U+"enter",_e,r,ee),ke.target=Q,ke.relatedTarget=ft,ne=ke),ft=ne,J&&_e)t:{for(ke=J,K=_e,U=0,Q=ke;Q;Q=ll(Q))U++;for(Q=0,ne=K;ne;ne=ll(ne))Q++;for(;0<U-Q;)ke=ll(ke),U--;for(;0<Q-U;)K=ll(K),Q--;for(;U--;){if(ke===K||K!==null&&ke===K.alternate)break t;ke=ll(ke),K=ll(K)}ke=null}else ke=null;J!==null&&W_(re,X,J,ke,!1),_e!==null&&ft!==null&&W_(re,ft,_e,ke,!0)}}e:{if(X=H?Ri(H):window,J=X.nodeName&&X.nodeName.toLowerCase(),J==="select"||J==="input"&&X.type==="file")var pe=Ap;else if(kt(X))if(wp)pe=Db;else{pe=Ib;var Oe=Cb}else J=X.nodeName,!J||J.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?H&&Wl(H.elementType)&&(pe=Ap):pe=jb;if(pe&&(pe=pe(t,H))){zs(re,pe,r,ee);break e}Oe&&Oe(t,X,H),t==="focusout"&&H&&X.type==="number"&&H.memoizedProps.value!=null&&kr(X,"number",X.value)}switch(Oe=H?Ri(H):window,t){case"focusin":(kt(Oe)||Oe.contentEditable==="true")&&(Ur=Oe,Ih=H,lo=null);break;case"focusout":lo=Ih=Ur=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,Dp(re,r,ee);break;case"selectionchange":if(Lb)break;case"keydown":case"keyup":Dp(re,r,ee)}var xe;if(ms)e:{switch(t){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Be?Z(t,r)&&(be="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(be="onCompositionStart");be&&(v&&r.locale!=="ko"&&(Be||be!=="onCompositionStart"?be==="onCompositionEnd"&&Be&&(xe=Jl()):(us=ee,Oi="value"in us?us.value:us.textContent,Be=!0)),Oe=Uu(H,be),0<Oe.length&&(be=new no(be,t,null,r,ee),re.push({event:be,listeners:Oe}),xe?be.data=xe:(xe=ce(r),xe!==null&&(be.data=xe)))),(xe=_?Rt(t,r):He(t,r))&&(be=Uu(H,"onBeforeInput"),0<be.length&&(Oe=new no("onBeforeInput","beforeinput",null,r,ee),re.push({event:Oe,listeners:be}),Oe.data=xe)),_A(re,t,H,r,ee)}Y_(re,i)})}function Lo(t,i,r){return{instance:t,listener:i,currentTarget:r}}function Uu(t,i){for(var r=i+"Capture",o=[];t!==null;){var f=t,m=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Ia(t,r),f!=null&&o.unshift(Lo(t,f,m)),f=Ia(t,i),f!=null&&o.push(Lo(t,f,m))),t=t.return}return o}function ll(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function W_(t,i,r,o,f){for(var m=i._reactName,x=[];r!==null&&r!==o;){var b=r,D=b.alternate,H=b.stateNode;if(b=b.tag,D!==null&&D===o)break;b!==5&&b!==26&&b!==27||H===null||(D=H,f?(H=Ia(r,m),H!=null&&x.unshift(Lo(r,H,D))):f||(H=Ia(r,m),H!=null&&x.push(Lo(r,H,D)))),r=r.return}x.length!==0&&t.push({event:i,listeners:x})}var TA=/\r\n?/g,bA=/\u0000|\uFFFD/g;function Z_(t){return(typeof t=="string"?t:""+t).replace(TA,`
`).replace(bA,"")}function J_(t,i){return i=Z_(i),Z_(t)===i}function Bu(){}function Ze(t,i,r,o,f,m){switch(r){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||In(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&In(t,""+o);break;case"className":Ii(t,"class",o);break;case"tabIndex":Ii(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Ii(t,r,o);break;case"style":zc(t,o,m);break;case"data":if(i!=="object"){Ii(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=cs(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(r==="formAction"?(i!=="input"&&Ze(t,i,"name",f.name,f,null),Ze(t,i,"formEncType",f.formEncType,f,null),Ze(t,i,"formMethod",f.formMethod,f,null),Ze(t,i,"formTarget",f.formTarget,f,null)):(Ze(t,i,"encType",f.encType,f,null),Ze(t,i,"method",f.method,f,null),Ze(t,i,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=cs(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=Bu);break;case"onScroll":o!=null&&Pe("scroll",t);break;case"onScrollEnd":o!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=cs(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),Ci(t,"popover",o);break;case"xlinkActuate":Cn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Cn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Cn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Cn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Cn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Cn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ci(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Ah.get(r)||r,Ci(t,r,o))}}function nm(t,i,r,o,f,m){switch(r){case"style":zc(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof o=="string"?In(t,o):(typeof o=="number"||typeof o=="bigint")&&In(t,""+o);break;case"onScroll":o!=null&&Pe("scroll",t);break;case"onScrollEnd":o!=null&&Pe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Bu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nr.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(f=r.endsWith("Capture"),i=r.slice(2,f?r.length-7:void 0),m=t[Nt]||null,m=m!=null?m[r]:null,typeof m=="function"&&t.removeEventListener(i,m,f),typeof o=="function")){typeof m!="function"&&m!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(i,o,f);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):Ci(t,r,o)}}}function Gt(t,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var o=!1,f=!1,m;for(m in r)if(r.hasOwnProperty(m)){var x=r[m];if(x!=null)switch(m){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ze(t,i,m,x,r,null)}}f&&Ze(t,i,"srcSet",r.srcSet,r,null),o&&Ze(t,i,"src",r.src,r,null);return;case"input":Pe("invalid",t);var b=m=x=f=null,D=null,H=null;for(o in r)if(r.hasOwnProperty(o)){var ee=r[o];if(ee!=null)switch(o){case"name":f=ee;break;case"type":x=ee;break;case"checked":D=ee;break;case"defaultChecked":H=ee;break;case"value":m=ee;break;case"defaultValue":b=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(a(137,i));break;default:Ze(t,i,o,ee,r,null)}}ka(t,m,b,D,H,x,f,!1),Ra(t);return;case"select":Pe("invalid",t),o=x=m=null;for(f in r)if(r.hasOwnProperty(f)&&(b=r[f],b!=null))switch(f){case"value":m=b;break;case"defaultValue":x=b;break;case"multiple":o=b;default:Ze(t,i,f,b,r,null)}i=m,r=x,t.multiple=!!o,i!=null?Fe(t,!!o,i,!1):r!=null&&Fe(t,!!o,r,!0);return;case"textarea":Pe("invalid",t),m=f=o=null;for(x in r)if(r.hasOwnProperty(x)&&(b=r[x],b!=null))switch(x){case"value":o=b;break;case"defaultValue":f=b;break;case"children":m=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:Ze(t,i,x,b,r,null)}Di(t,o,f,m),Ra(t);return;case"option":for(D in r)if(r.hasOwnProperty(D)&&(o=r[D],o!=null))switch(D){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ze(t,i,D,o,r,null)}return;case"dialog":Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(o=0;o<Mo.length;o++)Pe(Mo[o],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in r)if(r.hasOwnProperty(H)&&(o=r[H],o!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ze(t,i,H,o,r,null)}return;default:if(Wl(i)){for(ee in r)r.hasOwnProperty(ee)&&(o=r[ee],o!==void 0&&nm(t,i,ee,o,r,void 0));return}}for(b in r)r.hasOwnProperty(b)&&(o=r[b],o!=null&&Ze(t,i,b,o,r,null))}function AA(t,i,r,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,x=null,b=null,D=null,H=null,ee=null;for(J in r){var re=r[J];if(r.hasOwnProperty(J)&&re!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":D=re;default:o.hasOwnProperty(J)||Ze(t,i,J,null,o,re)}}for(var X in o){var J=o[X];if(re=r[X],o.hasOwnProperty(X)&&(J!=null||re!=null))switch(X){case"type":m=J;break;case"name":f=J;break;case"checked":H=J;break;case"defaultChecked":ee=J;break;case"value":x=J;break;case"defaultValue":b=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,i));break;default:J!==re&&Ze(t,i,X,J,o,re)}}ji(t,x,b,D,H,ee,m,f);return;case"select":J=x=b=X=null;for(m in r)if(D=r[m],r.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":J=D;default:o.hasOwnProperty(m)||Ze(t,i,m,null,o,D)}for(f in o)if(m=o[f],D=r[f],o.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":X=m;break;case"defaultValue":b=m;break;case"multiple":x=m;default:m!==D&&Ze(t,i,f,m,o,D)}i=b,r=x,o=J,X!=null?Fe(t,!!r,X,!1):!!o!=!!r&&(i!=null?Fe(t,!!r,i,!0):Fe(t,!!r,r?[]:"",!1));return;case"textarea":J=X=null;for(b in r)if(f=r[b],r.hasOwnProperty(b)&&f!=null&&!o.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ze(t,i,b,null,o,f)}for(x in o)if(f=o[x],m=r[x],o.hasOwnProperty(x)&&(f!=null||m!=null))switch(x){case"value":X=f;break;case"defaultValue":J=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==m&&Ze(t,i,x,f,o,m)}Ca(t,X,J);return;case"option":for(var _e in r)if(X=r[_e],r.hasOwnProperty(_e)&&X!=null&&!o.hasOwnProperty(_e))switch(_e){case"selected":t.selected=!1;break;default:Ze(t,i,_e,null,o,X)}for(D in o)if(X=o[D],J=r[D],o.hasOwnProperty(D)&&X!==J&&(X!=null||J!=null))switch(D){case"selected":t.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:Ze(t,i,D,X,o,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in r)X=r[ke],r.hasOwnProperty(ke)&&X!=null&&!o.hasOwnProperty(ke)&&Ze(t,i,ke,null,o,X);for(H in o)if(X=o[H],J=r[H],o.hasOwnProperty(H)&&X!==J&&(X!=null||J!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,i));break;default:Ze(t,i,H,X,o,J)}return;default:if(Wl(i)){for(var ft in r)X=r[ft],r.hasOwnProperty(ft)&&X!==void 0&&!o.hasOwnProperty(ft)&&nm(t,i,ft,void 0,o,X);for(ee in o)X=o[ee],J=r[ee],!o.hasOwnProperty(ee)||X===J||X===void 0&&J===void 0||nm(t,i,ee,X,o,J);return}}for(var K in r)X=r[K],r.hasOwnProperty(K)&&X!=null&&!o.hasOwnProperty(K)&&Ze(t,i,K,null,o,X);for(re in o)X=o[re],J=r[re],!o.hasOwnProperty(re)||X===J||X==null&&J==null||Ze(t,i,re,X,o,J)}var sm=null,im=null;function Hu(t){return t.nodeType===9?t:t.ownerDocument}function ev(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function am(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var rm=null;function wA(){var t=window.event;return t&&t.type==="popstate"?t===rm?!1:(rm=t,!0):(rm=null,!1)}var nv=typeof setTimeout=="function"?setTimeout:void 0,SA=typeof clearTimeout=="function"?clearTimeout:void 0,sv=typeof Promise=="function"?Promise:void 0,NA=typeof queueMicrotask=="function"?queueMicrotask:typeof sv<"u"?function(t){return sv.resolve(null).then(t).catch(RA)}:nv;function RA(t){setTimeout(function(){throw t})}function lm(t,i){var r=i,o=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(o===0){t.removeChild(f),Ko(i);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=f}while(r);Ko(i)}function om(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":om(r),Na(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function kA(t,i,r,o){for(;t.nodeType===1;){var f=r;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ni])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Wn(t.nextSibling),t===null)break}return null}function CA(t,i,r){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Wn(t.nextSibling),t===null))return null;return t}function Wn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function iv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(i===0)return t;i--}else r==="/$"&&i++}t=t.previousSibling}return null}function av(t,i,r){switch(i=Hu(r),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}var Kn=new Map,rv=new Set;function zu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var si=de.d;de.d={f:IA,r:jA,D:DA,C:OA,L:MA,m:LA,X:PA,S:VA,M:UA};function IA(){var t=si.f(),i=Ou();return t||i}function jA(t){var i=Ms(t);i!==null&&i.tag===5&&i.type==="form"?Dy(i):si.r(t)}var ol=typeof document>"u"?null:document;function lv(t,i,r){var o=ol;if(o&&typeof i=="string"&&i){var f=ut(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof r=="string"&&(f+='[crossorigin="'+r+'"]'),rv.has(f)||(rv.add(f),t={rel:t,crossOrigin:r,href:i},o.querySelector(f)===null&&(i=o.createElement("link"),Gt(i,"link",t),at(i),o.head.appendChild(i)))}}function DA(t){si.D(t),lv("dns-prefetch",t,null)}function OA(t,i){si.C(t,i),lv("preconnect",t,i)}function MA(t,i,r){si.L(t,i,r);var o=ol;if(o&&t&&i){var f='link[rel="preload"][as="'+ut(i)+'"]';i==="image"&&r&&r.imageSrcSet?(f+='[imagesrcset="'+ut(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(f+='[imagesizes="'+ut(r.imageSizes)+'"]')):f+='[href="'+ut(t)+'"]';var m=f;switch(i){case"style":m=cl(t);break;case"script":m=ul(t)}Kn.has(m)||(t=N({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:t,as:i},r),Kn.set(m,t),o.querySelector(f)!==null||i==="style"&&o.querySelector(Vo(m))||i==="script"&&o.querySelector(Po(m))||(i=o.createElement("link"),Gt(i,"link",t),at(i),o.head.appendChild(i)))}}function LA(t,i){si.m(t,i);var r=ol;if(r&&t){var o=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+ut(o)+'"][href="'+ut(t)+'"]',m=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ul(t)}if(!Kn.has(m)&&(t=N({rel:"modulepreload",href:t},i),Kn.set(m,t),r.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Po(m)))return}o=r.createElement("link"),Gt(o,"link",t),at(o),r.head.appendChild(o)}}}function VA(t,i,r){si.S(t,i,r);var o=ol;if(o&&t){var f=ki(o).hoistableStyles,m=cl(t);i=i||"default";var x=f.get(m);if(!x){var b={loading:0,preload:null};if(x=o.querySelector(Vo(m)))b.loading=5;else{t=N({rel:"stylesheet",href:t,"data-precedence":i},r),(r=Kn.get(m))&&cm(t,r);var D=x=o.createElement("link");at(D),Gt(D,"link",t),D._p=new Promise(function(H,ee){D.onload=H,D.onerror=ee}),D.addEventListener("load",function(){b.loading|=1}),D.addEventListener("error",function(){b.loading|=2}),b.loading|=4,qu(x,i,o)}x={type:"stylesheet",instance:x,count:1,state:b},f.set(m,x)}}}function PA(t,i){si.X(t,i);var r=ol;if(r&&t){var o=ki(r).hoistableScripts,f=ul(t),m=o.get(f);m||(m=r.querySelector(Po(f)),m||(t=N({src:t,async:!0},i),(i=Kn.get(f))&&um(t,i),m=r.createElement("script"),at(m),Gt(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function UA(t,i){si.M(t,i);var r=ol;if(r&&t){var o=ki(r).hoistableScripts,f=ul(t),m=o.get(f);m||(m=r.querySelector(Po(f)),m||(t=N({src:t,async:!0,type:"module"},i),(i=Kn.get(f))&&um(t,i),m=r.createElement("script"),at(m),Gt(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function ov(t,i,r,o){var f=(f=Rn.current)?zu(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=cl(r.href),r=ki(f).hoistableStyles,o=r.get(i),o||(o={type:"style",instance:null,count:0,state:null},r.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=cl(r.href);var m=ki(f).hoistableStyles,x=m.get(t);if(x||(f=f.ownerDocument||f,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,x),(m=f.querySelector(Vo(t)))&&!m._p&&(x.instance=m,x.state.loading=5),Kn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Kn.set(t,r),m||BA(f,t,r,x.state))),i&&o===null)throw Error(a(528,""));return x}if(i&&o!==null)throw Error(a(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ul(r),r=ki(f).hoistableScripts,o=r.get(i),o||(o={type:"script",instance:null,count:0,state:null},r.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function cl(t){return'href="'+ut(t)+'"'}function Vo(t){return'link[rel="stylesheet"]['+t+"]"}function cv(t){return N({},t,{"data-precedence":t.precedence,precedence:null})}function BA(t,i,r,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Gt(i,"link",r),at(i),t.head.appendChild(i))}function ul(t){return'[src="'+ut(t)+'"]'}function Po(t){return"script[async]"+t}function uv(t,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+ut(r.href)+'"]');if(o)return i.instance=o,at(o),o;var f=N({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),at(o),Gt(o,"style",f),qu(o,r.precedence,t),i.instance=o;case"stylesheet":f=cl(r.href);var m=t.querySelector(Vo(f));if(m)return i.state.loading|=4,i.instance=m,at(m),m;o=cv(r),(f=Kn.get(f))&&cm(o,f),m=(t.ownerDocument||t).createElement("link"),at(m);var x=m;return x._p=new Promise(function(b,D){x.onload=b,x.onerror=D}),Gt(m,"link",o),i.state.loading|=4,qu(m,r.precedence,t),i.instance=m;case"script":return m=ul(r.src),(f=t.querySelector(Po(m)))?(i.instance=f,at(f),f):(o=r,(f=Kn.get(m))&&(o=N({},r),um(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),at(f),Gt(f,"link",o),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,qu(o,r.precedence,t));return i.instance}function qu(t,i,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,m=f,x=0;x<o.length;x++){var b=o[x];if(b.dataset.precedence===i)m=b;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(t,i.firstChild))}function cm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function um(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Ku=null;function dv(t,i,r){if(Ku===null){var o=new Map,f=Ku=new Map;f.set(r,o)}else f=Ku,o=f.get(r),o||(o=new Map,f.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),f=0;f<r.length;f++){var m=r[f];if(!(m[Ni]||m[Lt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var x=m.getAttribute(i)||"";x=t+x;var b=o.get(x);b?b.push(m):o.set(x,[m])}}return o}function hv(t,i,r){t=t.ownerDocument||t,t.head.insertBefore(r,i==="title"?t.querySelector("head > title"):null)}function HA(t,i,r){if(r===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function fv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Uo=null;function zA(){}function qA(t,i,r){if(Uo===null)throw Error(a(475));var o=Uo;if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=cl(r.href),m=t.querySelector(Vo(f));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=Fu.bind(o),t.then(o,o)),i.state.loading|=4,i.instance=m,at(m);return}m=t.ownerDocument||t,r=cv(r),(f=Kn.get(f))&&cm(r,f),m=m.createElement("link"),at(m);var x=m;x._p=new Promise(function(b,D){x.onload=b,x.onerror=D}),Gt(m,"link",r),i.instance=m}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=Fu.bind(o),t.addEventListener("load",i),t.addEventListener("error",i))}}function KA(){if(Uo===null)throw Error(a(475));var t=Uo;return t.stylesheets&&t.count===0&&dm(t,t.stylesheets),0<t.count?function(i){var r=setTimeout(function(){if(t.stylesheets&&dm(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Fu(){if(this.count--,this.count===0){if(this.stylesheets)dm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Gu=null;function dm(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Gu=new Map,i.forEach(FA,t),Gu=null,Fu.call(t))}function FA(t,i){if(!(i.state.loading&4)){var r=Gu.get(t);if(r)var o=r.get(null);else{r=new Map,Gu.set(t,r);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var x=f[m];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(r.set(x.dataset.precedence,x),o=x)}o&&r.set(null,o)}f=i.instance,x=f.getAttribute("data-precedence"),m=r.get(x)||o,m===o&&r.set(null,f),r.set(x,f),this.count++,o=Fu.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Bo={$$typeof:I,Provider:null,Consumer:null,_currentValue:Ie,_currentValue2:Ie,_threadCount:0};function GA(t,i,r,o,f,m,x,b){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wr(0),this.hiddenUpdates=wr(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function mv(t,i,r,o,f,m,x,b,D,H,ee,re){return t=new GA(t,i,r,x,b,D,H,re),i=1,m===!0&&(i|=24),m=zn(3,null,null,i),t.current=m,m.stateNode=t,i=zh(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:o,isDehydrated:r,cache:i},bf(m),t}function gv(t){return t?(t=zr,t):zr}function pv(t,i,r,o,f,m){f=gv(f),o.context===null?o.context=f:o.pendingContext=f,o=zi(i),o.payload={element:r},m=m===void 0?null:m,m!==null&&(o.callback=m),r=qi(t,o,i),r!==null&&(un(r,t,i),bo(r,t,i))}function yv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<i?r:i}}function hm(t,i){yv(t,i),(t=t.alternate)&&yv(t,i)}function _v(t){if(t.tag===13){var i=Mi(t,67108864);i!==null&&un(i,t,67108864),hm(t,67108864)}}var $u=!0;function $A(t,i,r,o){var f=T.T;T.T=null;var m=de.p;try{de.p=2,fm(t,i,r,o)}finally{de.p=m,T.T=f}}function QA(t,i,r,o){var f=T.T;T.T=null;var m=de.p;try{de.p=8,fm(t,i,r,o)}finally{de.p=m,T.T=f}}function fm(t,i,r,o){if($u){var f=mm(o);if(f===null)tm(t,i,o,Qu,r),xv(t,o);else if(XA(f,t,i,r,o))o.stopPropagation();else if(xv(t,o),i&4&&-1<YA.indexOf(t)){for(;f!==null;){var m=Ms(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var x=Gn(m.pendingLanes);if(x!==0){var b=m;for(b.pendingLanes|=2,b.entangledLanes|=2;x;){var D=1<<31-rn(x);b.entanglements[1]|=D,x&=~D}xs(m),(lt&6)===0&&(Iu=fn()+500,Oo(0))}}break;case 13:b=Mi(m,2),b!==null&&un(b,m,2),Ou(),hm(m,2)}if(m=mm(o),m===null&&tm(t,i,o,Qu,r),m===f)break;f=m}f!==null&&o.stopPropagation()}else tm(t,i,o,null,r)}}function mm(t){return t=Cr(t),gm(t)}var Qu=null;function gm(t){if(Qu=null,t=$n(t),t!==null){var i=oe(t);if(i===null)t=null;else{var r=i.tag;if(r===13){if(t=he(i),t!==null)return t;t=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Qu=t,null}function vv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dc()){case St:return 2;case Mt:return 8;case Ds:case Oc:return 32;case Hl:return 268435456;default:return 32}default:return 32}}var pm=!1,Xi=null,Wi=null,Zi=null,Ho=new Map,zo=new Map,Ji=[],YA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xv(t,i){switch(t){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":Wi=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":Ho.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":zo.delete(i.pointerId)}}function qo(t,i,r,o,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:r,eventSystemFlags:o,nativeEvent:m,targetContainers:[f]},i!==null&&(i=Ms(i),i!==null&&_v(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function XA(t,i,r,o,f){switch(i){case"focusin":return Xi=qo(Xi,t,i,r,o,f),!0;case"dragenter":return Wi=qo(Wi,t,i,r,o,f),!0;case"mouseover":return Zi=qo(Zi,t,i,r,o,f),!0;case"pointerover":var m=f.pointerId;return Ho.set(m,qo(Ho.get(m)||null,t,i,r,o,f)),!0;case"gotpointercapture":return m=f.pointerId,zo.set(m,qo(zo.get(m)||null,t,i,r,o,f)),!0}return!1}function Ev(t){var i=$n(t.target);if(i!==null){var r=oe(i);if(r!==null){if(i=r.tag,i===13){if(i=he(r),i!==null){t.blockedOn=i,Si(t.priority,function(){if(r.tag===13){var o=An(),f=Mi(r,o);f!==null&&un(f,r,o),hm(r,o)}});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yu(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var r=mm(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);jn=o,r.target.dispatchEvent(o),jn=null}else return i=Ms(r),i!==null&&_v(i),t.blockedOn=r,!1;i.shift()}return!0}function Tv(t,i,r){Yu(t)&&r.delete(i)}function WA(){pm=!1,Xi!==null&&Yu(Xi)&&(Xi=null),Wi!==null&&Yu(Wi)&&(Wi=null),Zi!==null&&Yu(Zi)&&(Zi=null),Ho.forEach(Tv),zo.forEach(Tv)}function Xu(t,i){t.blockedOn===i&&(t.blockedOn=null,pm||(pm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,WA)))}var Wu=null;function bv(t){Wu!==t&&(Wu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Wu===t&&(Wu=null);for(var i=0;i<t.length;i+=3){var r=t[i],o=t[i+1],f=t[i+2];if(typeof o!="function"){if(gm(o||r)===null)continue;break}var m=Ms(r);m!==null&&(t.splice(i,3),i-=3,af(m,{pending:!0,data:f,method:r.method,action:o},o,f))}}))}function Ko(t){function i(D){return Xu(D,t)}Xi!==null&&Xu(Xi,t),Wi!==null&&Xu(Wi,t),Zi!==null&&Xu(Zi,t),Ho.forEach(i),zo.forEach(i);for(var r=0;r<Ji.length;r++){var o=Ji[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Ji.length&&(r=Ji[0],r.blockedOn===null);)Ev(r),r.blockedOn===null&&Ji.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var f=r[o],m=r[o+1],x=f[Nt]||null;if(typeof m=="function")x||bv(r);else if(x){var b=null;if(m&&m.hasAttribute("formAction")){if(f=m,x=m[Nt]||null)b=x.formAction;else if(gm(f)!==null)continue}else b=x.action;typeof b=="function"?r[o+1]=b:(r.splice(o,3),o-=3),bv(r)}}}function ym(t){this._internalRoot=t}Zu.prototype.render=ym.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var r=i.current,o=An();pv(r,o,t,i,null,null)},Zu.prototype.unmount=ym.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&al(),pv(t.current,2,null,t,null,null),Ou(),i[Os]=null}};function Zu(t){this._internalRoot=t}Zu.prototype.unstable_scheduleHydration=function(t){if(t){var i=Uc();t={blockedOn:null,target:t,priority:i};for(var r=0;r<Ji.length&&i!==0&&i<Ji[r].priority;r++);Ji.splice(r,0,t),r===0&&Ev(t)}};var Av=e.version;if(Av!=="19.0.0")throw Error(a(527,Av,"19.0.0"));de.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=te(i),t=t!==null?fe(t):null,t=t===null?null:t.stateNode,t};var ZA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:T,findFiberByHostInstance:$n,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ju.isDisabled&&Ju.supportsFiber)try{xi=Ju.inject(ZA),Wt=Ju}catch{}}return Go.createRoot=function(t,i){if(!l(t))throw Error(a(299));var r=!1,o="",f=Hy,m=zy,x=qy,b=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(x=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(b=i.unstable_transitionCallbacks)),i=mv(t,1,!1,null,null,r,o,f,m,x,b,null),t[Os]=i.current,em(t.nodeType===8?t.parentNode:t),new ym(i)},Go.hydrateRoot=function(t,i,r){if(!l(t))throw Error(a(299));var o=!1,f="",m=Hy,x=zy,b=qy,D=null,H=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(x=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(D=r.unstable_transitionCallbacks),r.formState!==void 0&&(H=r.formState)),i=mv(t,1,!0,i,r??null,o,f,m,x,b,D,H),i.context=gv(null),r=i.current,o=An(),f=zi(o),f.callback=null,qi(r,f,o),i.current.lanes=o,yt(i,o),xs(i),t[Os]=i.current,em(t),new Zu(i)},Go.version="19.0.0",Go}var Ov;function ow(){if(Ov)return xm.exports;Ov=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),xm.exports=lw(),xm.exports}var cw=ow();const uw=gg(cw);var $o={},Mv;function dw(){if(Mv)return $o;Mv=1,Object.defineProperty($o,"__esModule",{value:!0}),$o.parse=h,$o.serialize=y;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,c=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function h(w,I){const L=new c,z=w.length;if(z<2)return L;const V=(I==null?void 0:I.decode)||E;let B=0;do{const F=w.indexOf("=",B);if(F===-1)break;const G=w.indexOf(";",B),Y=G===-1?z:G;if(F>Y){B=w.lastIndexOf(";",F-1)+1;continue}const W=g(w,B,F),le=p(w,F,W),P=w.slice(W,le);if(L[P]===void 0){let k=g(w,F+1,Y),T=p(w,Y,k);const N=V(w.slice(k,T));L[P]=N}B=Y+1}while(B<z);return L}function g(w,I,L){do{const z=w.charCodeAt(I);if(z!==32&&z!==9)return I}while(++I<L);return L}function p(w,I,L){for(;I>L;){const z=w.charCodeAt(--I);if(z!==32&&z!==9)return I+1}return L}function y(w,I,L){const z=(L==null?void 0:L.encode)||encodeURIComponent;if(!s.test(w))throw new TypeError(`argument name is invalid: ${w}`);const V=z(I);if(!e.test(V))throw new TypeError(`argument val is invalid: ${I}`);let B=w+"="+V;if(!L)return B;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);B+="; Max-Age="+L.maxAge}if(L.domain){if(!n.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);B+="; Domain="+L.domain}if(L.path){if(!a.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);B+="; Path="+L.path}if(L.expires){if(!A(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);B+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(B+="; HttpOnly"),L.secure&&(B+="; Secure"),L.partitioned&&(B+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":B+="; Priority=Low";break;case"medium":B+="; Priority=Medium";break;case"high":B+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":B+="; SameSite=Strict";break;case"lax":B+="; SameSite=Lax";break;case"none":B+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return B}function E(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function A(w){return l.call(w)==="[object Date]"}return $o}dw();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Lv="popstate";function hw(s={}){function e(a,l){let{pathname:c,search:h,hash:g}=a.location;return Um("",{pathname:c,search:h,hash:g},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){return typeof l=="string"?l:oc(l)}return mw(e,n,null,s)}function st(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Jn(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fw(){return Math.random().toString(36).substring(2,10)}function Vv(s,e){return{usr:s.state,key:s.key,idx:e}}function Um(s,e,n=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Rl(e):e,state:n,key:e&&e.key||a||fw()}}function oc({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function Rl(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let a=s.indexOf("?");a>=0&&(e.search=s.substring(a),s=s.substring(0,a)),s&&(e.pathname=s)}return e}function mw(s,e,n,a={}){let{window:l=document.defaultView,v5Compat:c=!1}=a,h=l.history,g="POP",p=null,y=E();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function E(){return(h.state||{idx:null}).idx}function A(){g="POP";let V=E(),B=V==null?null:V-y;y=V,p&&p({action:g,location:z.location,delta:B})}function w(V,B){g="PUSH";let F=Um(z.location,V,B);y=E()+1;let G=Vv(F,y),Y=z.createHref(F);try{h.pushState(G,"",Y)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;l.location.assign(Y)}c&&p&&p({action:g,location:z.location,delta:1})}function I(V,B){g="REPLACE";let F=Um(z.location,V,B);y=E();let G=Vv(F,y),Y=z.createHref(F);h.replaceState(G,"",Y),c&&p&&p({action:g,location:z.location,delta:0})}function L(V){let B=l.location.origin!=="null"?l.location.origin:l.location.href,F=typeof V=="string"?V:oc(V);return F=F.replace(/ $/,"%20"),st(B,`No window.location.(origin|href) available to create URL for href: ${F}`),new URL(F,B)}let z={get action(){return g},get location(){return s(l,h)},listen(V){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(Lv,A),p=V,()=>{l.removeEventListener(Lv,A),p=null}},createHref(V){return e(l,V)},createURL:L,encodeLocation(V){let B=L(V);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:w,replace:I,go(V){return h.go(V)}};return z}function bx(s,e,n="/"){return gw(s,e,n,!1)}function gw(s,e,n,a){let l=typeof e=="string"?Rl(e):e,c=ha(l.pathname||"/",n);if(c==null)return null;let h=Ax(s);pw(h);let g=null;for(let p=0;g==null&&p<h.length;++p){let y=Nw(c);g=ww(h[p],y,a)}return g}function Ax(s,e=[],n=[],a=""){let l=(c,h,g)=>{let p={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};p.relativePath.startsWith("/")&&(st(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let y=li([a,p.relativePath]),E=n.concat(p);c.children&&c.children.length>0&&(st(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Ax(c.children,e,E,y)),!(c.path==null&&!c.index)&&e.push({path:y,score:bw(y,c.index),routesMeta:E})};return s.forEach((c,h)=>{var g;if(c.path===""||!((g=c.path)!=null&&g.includes("?")))l(c,h);else for(let p of wx(c.path))l(c,h,p)}),e}function wx(s){let e=s.split("/");if(e.length===0)return[];let[n,...a]=e,l=n.endsWith("?"),c=n.replace(/\?$/,"");if(a.length===0)return l?[c,""]:[c];let h=wx(a.join("/")),g=[];return g.push(...h.map(p=>p===""?c:[c,p].join("/"))),l&&g.push(...h),g.map(p=>s.startsWith("/")&&p===""?"/":p)}function pw(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:Aw(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var yw=/^:[\w-]+$/,_w=3,vw=2,xw=1,Ew=10,Tw=-2,Pv=s=>s==="*";function bw(s,e){let n=s.split("/"),a=n.length;return n.some(Pv)&&(a+=Tw),e&&(a+=vw),n.filter(l=>!Pv(l)).reduce((l,c)=>l+(yw.test(c)?_w:c===""?xw:Ew),a)}function Aw(s,e){return s.length===e.length&&s.slice(0,-1).every((a,l)=>a===e[l])?s[s.length-1]-e[e.length-1]:0}function ww(s,e,n=!1){let{routesMeta:a}=s,l={},c="/",h=[];for(let g=0;g<a.length;++g){let p=a[g],y=g===a.length-1,E=c==="/"?e:e.slice(c.length)||"/",A=Ad({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),w=p.route;if(!A&&y&&n&&!a[a.length-1].route.index&&(A=Ad({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!A)return null;Object.assign(l,A.params),h.push({params:l,pathname:li([c,A.pathname]),pathnameBase:Iw(li([c,A.pathnameBase])),route:w}),A.pathnameBase!=="/"&&(c=li([c,A.pathnameBase]))}return h}function Ad(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,a]=Sw(s.path,s.caseSensitive,s.end),l=e.match(n);if(!l)return null;let c=l[0],h=c.replace(/(.)\/+$/,"$1"),g=l.slice(1);return{params:a.reduce((y,{paramName:E,isOptional:A},w)=>{if(E==="*"){let L=g[w]||"";h=c.slice(0,c.length-L.length).replace(/(.)\/+$/,"$1")}const I=g[w];return A&&!I?y[E]=void 0:y[E]=(I||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:h,pattern:s}}function Sw(s,e=!1,n=!0){Jn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,g,p)=>(a.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(a.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),a]}function Nw(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function ha(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=s.charAt(n);return a&&a!=="/"?null:s.slice(n)||"/"}function Rw(s,e="/"){let{pathname:n,search:a="",hash:l=""}=typeof s=="string"?Rl(s):s;return{pathname:n?n.startsWith("/")?n:kw(n,e):e,search:jw(a),hash:Dw(l)}}function kw(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Am(s,e,n,a){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Cw(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yg(s){let e=Cw(s);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function _g(s,e,n,a=!1){let l;typeof s=="string"?l=Rl(s):(l={...s},st(!l.pathname||!l.pathname.includes("?"),Am("?","pathname","search",l)),st(!l.pathname||!l.pathname.includes("#"),Am("#","pathname","hash",l)),st(!l.search||!l.search.includes("#"),Am("#","search","hash",l)));let c=s===""||l.pathname==="",h=c?"/":l.pathname,g;if(h==null)g=n;else{let A=e.length-1;if(!a&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),A-=1;l.pathname=w.join("/")}g=A>=0?e[A]:"/"}let p=Rw(l,g),y=h&&h!=="/"&&h.endsWith("/"),E=(c||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var li=s=>s.join("/").replace(/\/\/+/g,"/"),Iw=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),jw=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Dw=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Ow(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var Sx=["POST","PUT","PATCH","DELETE"];new Set(Sx);var Mw=["GET",...Sx];new Set(Mw);var kl=O.createContext(null);kl.displayName="DataRouter";var qd=O.createContext(null);qd.displayName="DataRouterState";var Nx=O.createContext({isTransitioning:!1});Nx.displayName="ViewTransition";var Lw=O.createContext(new Map);Lw.displayName="Fetchers";var Vw=O.createContext(null);Vw.displayName="Await";var ss=O.createContext(null);ss.displayName="Navigation";var _c=O.createContext(null);_c.displayName="Location";var is=O.createContext({outlet:null,matches:[],isDataRoute:!1});is.displayName="Route";var vg=O.createContext(null);vg.displayName="RouteError";function Pw(s,{relative:e}={}){st(Cl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=O.useContext(ss),{hash:l,pathname:c,search:h}=vc(s,{relative:e}),g=c;return n!=="/"&&(g=c==="/"?n:li([n,c])),a.createHref({pathname:g,search:h,hash:l})}function Cl(){return O.useContext(_c)!=null}function pi(){return st(Cl(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(_c).location}var Rx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kx(s){O.useContext(ss).static||O.useLayoutEffect(s)}function Il(){let{isDataRoute:s}=O.useContext(is);return s?Zw():Uw()}function Uw(){st(Cl(),"useNavigate() may be used only in the context of a <Router> component.");let s=O.useContext(kl),{basename:e,navigator:n}=O.useContext(ss),{matches:a}=O.useContext(is),{pathname:l}=pi(),c=JSON.stringify(yg(a)),h=O.useRef(!1);return kx(()=>{h.current=!0}),O.useCallback((p,y={})=>{if(Jn(h.current,Rx),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=_g(p,JSON.parse(c),l,y.relative==="path");s==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:li([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,c,l,s])}O.createContext(null);function Bw(){let{matches:s}=O.useContext(is),e=s[s.length-1];return e?e.params:{}}function vc(s,{relative:e}={}){let{matches:n}=O.useContext(is),{pathname:a}=pi(),l=JSON.stringify(yg(n));return O.useMemo(()=>_g(s,JSON.parse(l),a,e==="path"),[s,l,a,e])}function Hw(s,e){return Cx(s,e)}function Cx(s,e,n,a){var F;st(Cl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:c}=O.useContext(ss),{matches:h}=O.useContext(is),g=h[h.length-1],p=g?g.params:{},y=g?g.pathname:"/",E=g?g.pathnameBase:"/",A=g&&g.route;{let G=A&&A.path||"";Ix(y,!A||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let w=pi(),I;if(e){let G=typeof e=="string"?Rl(e):e;st(E==="/"||((F=G.pathname)==null?void 0:F.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${G.pathname}" was given in the \`location\` prop.`),I=G}else I=w;let L=I.pathname||"/",z=L;if(E!=="/"){let G=E.replace(/^\//,"").split("/");z="/"+L.replace(/^\//,"").split("/").slice(G.length).join("/")}let V=!c&&n&&n.matches&&n.matches.length>0?n.matches:bx(s,{pathname:z});Jn(A||V!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Jn(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=Gw(V&&V.map(G=>Object.assign({},G,{params:Object.assign({},p,G.params),pathname:li([E,l.encodeLocation?l.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?E:li([E,l.encodeLocation?l.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),h,n,a);return e&&B?O.createElement(_c.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},B):B}function zw(){let s=Ww(),e=Ow(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=O.createElement(O.Fragment,null,O.createElement("p",null,"💿 Hey developer 👋"),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:c},"ErrorBoundary")," or"," ",O.createElement("code",{style:c},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:l},n):null,h)}var qw=O.createElement(zw,null),Kw=class extends O.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){console.error("React Router caught the following error during render",s,e)}render(){return this.state.error!==void 0?O.createElement(is.Provider,{value:this.props.routeContext},O.createElement(vg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Fw({routeContext:s,match:e,children:n}){let a=O.useContext(kl);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(is.Provider,{value:s},n)}function Gw(s,e=[],n=null,a=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let l=s,c=n==null?void 0:n.errors;if(c!=null){let p=l.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);st(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let h=!1,g=-1;if(n)for(let p=0;p<l.length;p++){let y=l[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(g=p),y.route.id){let{loaderData:E,errors:A}=n,w=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!A||A[y.route.id]===void 0);if(y.route.lazy||w){h=!0,g>=0?l=l.slice(0,g+1):l=[l[0]];break}}}return l.reduceRight((p,y,E)=>{let A,w=!1,I=null,L=null;n&&(A=c&&y.route.id?c[y.route.id]:void 0,I=y.route.errorElement||qw,h&&(g<0&&E===0?(Ix("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,L=null):g===E&&(w=!0,L=y.route.hydrateFallbackElement||null)));let z=e.concat(l.slice(0,E+1)),V=()=>{let B;return A?B=I:w?B=L:y.route.Component?B=O.createElement(y.route.Component,null):y.route.element?B=y.route.element:B=p,O.createElement(Fw,{match:y,routeContext:{outlet:p,matches:z,isDataRoute:n!=null},children:B})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?O.createElement(Kw,{location:n.location,revalidation:n.revalidation,component:I,error:A,children:V(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):V()},null)}function xg(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $w(s){let e=O.useContext(kl);return st(e,xg(s)),e}function Qw(s){let e=O.useContext(qd);return st(e,xg(s)),e}function Yw(s){let e=O.useContext(is);return st(e,xg(s)),e}function Eg(s){let e=Yw(s),n=e.matches[e.matches.length-1];return st(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function Xw(){return Eg("useRouteId")}function Ww(){var a;let s=O.useContext(vg),e=Qw("useRouteError"),n=Eg("useRouteError");return s!==void 0?s:(a=e.errors)==null?void 0:a[n]}function Zw(){let{router:s}=$w("useNavigate"),e=Eg("useNavigate"),n=O.useRef(!1);return kx(()=>{n.current=!0}),O.useCallback(async(l,c={})=>{Jn(n.current,Rx),n.current&&(typeof l=="number"?s.navigate(l):await s.navigate(l,{fromRouteId:e,...c}))},[s,e])}var Uv={};function Ix(s,e,n){!e&&!Uv[s]&&(Uv[s]=!0,Jn(!1,n))}O.memo(Jw);function Jw({routes:s,future:e,state:n}){return Cx(s,void 0,n,e)}function Bv({to:s,replace:e,state:n,relative:a}){st(Cl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=O.useContext(ss);Jn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=O.useContext(is),{pathname:h}=pi(),g=Il(),p=_g(s,yg(c),h,a==="path"),y=JSON.stringify(p);return O.useEffect(()=>{g(JSON.parse(y),{replace:e,state:n,relative:a})},[g,y,a,e,n]),null}function jt(s){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eS({basename:s="/",children:e=null,location:n,navigationType:a="POP",navigator:l,static:c=!1}){st(!Cl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=s.replace(/^\/*/,"/"),g=O.useMemo(()=>({basename:h,navigator:l,static:c,future:{}}),[h,l,c]);typeof n=="string"&&(n=Rl(n));let{pathname:p="/",search:y="",hash:E="",state:A=null,key:w="default"}=n,I=O.useMemo(()=>{let L=ha(p,h);return L==null?null:{location:{pathname:L,search:y,hash:E,state:A,key:w},navigationType:a}},[h,p,y,E,A,w,a]);return Jn(I!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:O.createElement(ss.Provider,{value:g},O.createElement(_c.Provider,{children:e,value:I}))}function tS({children:s,location:e}){return Hw(Bm(s),e)}function Bm(s,e=[]){let n=[];return O.Children.forEach(s,(a,l)=>{if(!O.isValidElement(a))return;let c=[...e,l];if(a.type===O.Fragment){n.push.apply(n,Bm(a.props.children,c));return}st(a.type===jt,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!a.props.index||!a.props.children,"An index route cannot have child routes.");let h={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(h.children=Bm(a.props.children,c)),n.push(h)}),n}var dd="get",hd="application/x-www-form-urlencoded";function Kd(s){return s!=null&&typeof s.tagName=="string"}function nS(s){return Kd(s)&&s.tagName.toLowerCase()==="button"}function sS(s){return Kd(s)&&s.tagName.toLowerCase()==="form"}function iS(s){return Kd(s)&&s.tagName.toLowerCase()==="input"}function aS(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function rS(s,e){return s.button===0&&(!e||e==="_self")&&!aS(s)}var ed=null;function lS(){if(ed===null)try{new FormData(document.createElement("form"),0),ed=!1}catch{ed=!0}return ed}var oS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wm(s){return s!=null&&!oS.has(s)?(Jn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hd}"`),null):s}function cS(s,e){let n,a,l,c,h;if(sS(s)){let g=s.getAttribute("action");a=g?ha(g,e):null,n=s.getAttribute("method")||dd,l=wm(s.getAttribute("enctype"))||hd,c=new FormData(s)}else if(nS(s)||iS(s)&&(s.type==="submit"||s.type==="image")){let g=s.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||g.getAttribute("action");if(a=p?ha(p,e):null,n=s.getAttribute("formmethod")||g.getAttribute("method")||dd,l=wm(s.getAttribute("formenctype"))||wm(g.getAttribute("enctype"))||hd,c=new FormData(g,s),!lS()){let{name:y,type:E,value:A}=s;if(E==="image"){let w=y?`${y}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else y&&c.append(y,A)}}else{if(Kd(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=dd,a=null,l=hd,h=s}return c&&l==="text/plain"&&(h=c,c=void 0),{action:a,method:n.toLowerCase(),encType:l,formData:c,body:h}}function Tg(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}async function uS(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dS(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function hS(s,e,n){let a=await Promise.all(s.map(async l=>{let c=e.routes[l.route.id];if(c){let h=await uS(c,n);return h.links?h.links():[]}return[]}));return pS(a.flat(1).filter(dS).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Hv(s,e,n,a,l,c){let h=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,g=(p,y)=>{var E;return n[y].pathname!==p.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return c==="assets"?e.filter((p,y)=>h(p,y)||g(p,y)):c==="data"?e.filter((p,y)=>{var A;let E=a.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,y)||g(p,y))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((A=n[0])==null?void 0:A.params)||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function fS(s,e,{includeHydrateFallback:n}={}){return mS(s.map(a=>{let l=e.routes[a.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function mS(s){return[...new Set(s)]}function gS(s){let e={},n=Object.keys(s).sort();for(let a of n)e[a]=s[a];return e}function pS(s,e){let n=new Set;return new Set(e),s.reduce((a,l)=>{let c=JSON.stringify(gS(l));return n.has(c)||(n.add(c),a.push({key:c,link:l})),a},[])}function yS(s){let e=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function _S(){let s=O.useContext(kl);return Tg(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function vS(){let s=O.useContext(qd);return Tg(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var bg=O.createContext(void 0);bg.displayName="FrameworkContext";function jx(){let s=O.useContext(bg);return Tg(s,"You must render this element inside a <HydratedRouter> element"),s}function xS(s,e){let n=O.useContext(bg),[a,l]=O.useState(!1),[c,h]=O.useState(!1),{onFocus:g,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:A}=e,w=O.useRef(null);O.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let z=B=>{B.forEach(F=>{h(F.isIntersecting)})},V=new IntersectionObserver(z,{threshold:.5});return w.current&&V.observe(w.current),()=>{V.disconnect()}}},[s]),O.useEffect(()=>{if(a){let z=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(z)}}},[a]);let I=()=>{l(!0)},L=()=>{l(!1),h(!1)};return n?s!=="intent"?[c,w,{}]:[c,w,{onFocus:Qo(g,I),onBlur:Qo(p,L),onMouseEnter:Qo(y,I),onMouseLeave:Qo(E,L),onTouchStart:Qo(A,I)}]:[!1,w,{}]}function Qo(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function ES({page:s,...e}){let{router:n}=_S(),a=O.useMemo(()=>bx(n.routes,s,n.basename),[n.routes,s,n.basename]);return a?O.createElement(bS,{page:s,matches:a,...e}):null}function TS(s){let{manifest:e,routeModules:n}=jx(),[a,l]=O.useState([]);return O.useEffect(()=>{let c=!1;return hS(s,e,n).then(h=>{c||l(h)}),()=>{c=!0}},[s,e,n]),a}function bS({page:s,matches:e,...n}){let a=pi(),{manifest:l,routeModules:c}=jx(),{loaderData:h,matches:g}=vS(),p=O.useMemo(()=>Hv(s,e,g,l,a,"data"),[s,e,g,l,a]),y=O.useMemo(()=>Hv(s,e,g,l,a,"assets"),[s,e,g,l,a]),E=O.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let I=new Set,L=!1;if(e.forEach(V=>{var F;let B=l.routes[V.route.id];!B||!B.hasLoader||(!p.some(G=>G.route.id===V.route.id)&&V.route.id in h&&((F=c[V.route.id])!=null&&F.shouldRevalidate)||B.hasClientLoader?L=!0:I.add(V.route.id))}),I.size===0)return[];let z=yS(s);return L&&I.size>0&&z.searchParams.set("_routes",e.filter(V=>I.has(V.route.id)).map(V=>V.route.id).join(",")),[z.pathname+z.search]},[h,a,l,p,e,s,c]),A=O.useMemo(()=>fS(y,l),[y,l]),w=TS(y);return O.createElement(O.Fragment,null,E.map(I=>O.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),A.map(I=>O.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),w.map(({key:I,link:L})=>O.createElement("link",{key:I,...L})))}function AS(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Dx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Dx&&(window.__reactRouterVersion="7.2.0")}catch{}function wS({basename:s,children:e,window:n}){let a=O.useRef();a.current==null&&(a.current=hw({window:n,v5Compat:!0}));let l=a.current,[c,h]=O.useState({action:l.action,location:l.location}),g=O.useCallback(p=>{O.startTransition(()=>h(p))},[h]);return O.useLayoutEffect(()=>l.listen(g),[l,g]),O.createElement(eS,{basename:s,children:e,location:c.location,navigationType:c.action,navigator:l})}var Ox=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=O.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:l,reloadDocument:c,replace:h,state:g,target:p,to:y,preventScrollReset:E,viewTransition:A,...w},I){let{basename:L}=O.useContext(ss),z=typeof y=="string"&&Ox.test(y),V,B=!1;if(typeof y=="string"&&z&&(V=y,Dx))try{let T=new URL(window.location.href),N=y.startsWith("//")?new URL(T.protocol+y):new URL(y),j=ha(N.pathname,L);N.origin===T.origin&&j!=null?y=j+N.search+N.hash:B=!0}catch{Jn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=Pw(y,{relative:l}),[G,Y,W]=xS(a,w),le=kS(y,{replace:h,state:g,target:p,preventScrollReset:E,relative:l,viewTransition:A});function P(T){e&&e(T),T.defaultPrevented||le(T)}let k=O.createElement("a",{...w,...W,href:V||F,onClick:B||c?e:P,ref:AS(I,Y),target:p,"data-discover":!z&&n==="render"?"true":void 0});return G&&!z?O.createElement(O.Fragment,null,k,O.createElement(ES,{page:F})):k});Te.displayName="Link";var SS=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:l=!1,style:c,to:h,viewTransition:g,children:p,...y},E){let A=vc(h,{relative:y.relative}),w=pi(),I=O.useContext(qd),{navigator:L,basename:z}=O.useContext(ss),V=I!=null&&OS(A)&&g===!0,B=L.encodeLocation?L.encodeLocation(A).pathname:A.pathname,F=w.pathname,G=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;n||(F=F.toLowerCase(),G=G?G.toLowerCase():null,B=B.toLowerCase()),G&&z&&(G=ha(G,z)||G);const Y=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let W=F===B||!l&&F.startsWith(B)&&F.charAt(Y)==="/",le=G!=null&&(G===B||!l&&G.startsWith(B)&&G.charAt(B.length)==="/"),P={isActive:W,isPending:le,isTransitioning:V},k=W?e:void 0,T;typeof a=="function"?T=a(P):T=[a,W?"active":null,le?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let N=typeof c=="function"?c(P):c;return O.createElement(Te,{...y,"aria-current":k,className:T,ref:E,style:N,to:h,viewTransition:g},typeof p=="function"?p(P):p)});SS.displayName="NavLink";var NS=O.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:l,state:c,method:h=dd,action:g,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:A,...w},I)=>{let L=jS(),z=DS(g,{relative:y}),V=h.toLowerCase()==="get"?"get":"post",B=typeof g=="string"&&Ox.test(g),F=G=>{if(p&&p(G),G.defaultPrevented)return;G.preventDefault();let Y=G.nativeEvent.submitter,W=(Y==null?void 0:Y.getAttribute("formmethod"))||h;L(Y||G.currentTarget,{fetcherKey:e,method:W,navigate:n,replace:l,state:c,relative:y,preventScrollReset:E,viewTransition:A})};return O.createElement("form",{ref:I,method:V,action:z,onSubmit:a?p:F,...w,"data-discover":!B&&s==="render"?"true":void 0})});NS.displayName="Form";function RS(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Mx(s){let e=O.useContext(kl);return st(e,RS(s)),e}function kS(s,{target:e,replace:n,state:a,preventScrollReset:l,relative:c,viewTransition:h}={}){let g=Il(),p=pi(),y=vc(s,{relative:c});return O.useCallback(E=>{if(rS(E,e)){E.preventDefault();let A=n!==void 0?n:oc(p)===oc(y);g(s,{replace:A,state:a,preventScrollReset:l,relative:c,viewTransition:h})}},[p,g,y,n,a,e,s,l,c,h])}var CS=0,IS=()=>`__${String(++CS)}__`;function jS(){let{router:s}=Mx("useSubmit"),{basename:e}=O.useContext(ss),n=Xw();return O.useCallback(async(a,l={})=>{let{action:c,method:h,encType:g,formData:p,body:y}=cS(a,e);if(l.navigate===!1){let E=l.fetcherKey||IS();await s.fetch(E,n,l.action||c,{preventScrollReset:l.preventScrollReset,formData:p,body:y,formMethod:l.method||h,formEncType:l.encType||g,flushSync:l.flushSync})}else await s.navigate(l.action||c,{preventScrollReset:l.preventScrollReset,formData:p,body:y,formMethod:l.method||h,formEncType:l.encType||g,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[s,e,n])}function DS(s,{relative:e}={}){let{basename:n}=O.useContext(ss),a=O.useContext(is);st(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),c={...vc(s||".",{relative:e})},h=pi();if(s==null){c.search=h.search;let g=new URLSearchParams(c.search),p=g.getAll("index");if(p.some(E=>E==="")){g.delete("index"),p.filter(A=>A).forEach(A=>g.append("index",A));let E=g.toString();c.search=E?`?${E}`:""}}return(!s||s===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:li([n,c.pathname])),oc(c)}function OS(s,e={}){let n=O.useContext(Nx);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Mx("useViewTransitionState"),l=vc(s,{relative:e.relative});if(!n.isTransitioning)return!1;let c=ha(n.currentLocation.pathname,a)||n.currentLocation.pathname,h=ha(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Ad(l.pathname,h)!=null||Ad(l.pathname,c)!=null}new TextEncoder;var MS=Tx();const LS=gg(MS);document.addEventListener("DOMContentLoaded",function(){const s=["/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0171-high.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_113.jpg","/AimRV/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg"];function e(){const n=document.querySelectorAll(".dynamic-background");if(n.length===0){setTimeout(e,100);return}let a=s;try{const l=JSON.parse(localStorage.getItem("aimrv-background-images"));l&&Array.isArray(l)&&l.length>0&&(a=l)}catch(l){console.error("Error loading custom background images:",l)}n.forEach(function(l){let c=0;l.style.backgroundImage=`url(${a[c]})`,l.style.backgroundSize="cover",l.style.backgroundPosition="center",l.style.backgroundRepeat="no-repeat";const h=document.createElement("div");h.className="background-overlay",h.style.position="absolute",h.style.top="0",h.style.left="0",h.style.width="100%",h.style.height="100%",h.style.backgroundSize="cover",h.style.backgroundPosition="center",h.style.opacity="0",h.style.transition="opacity 2s ease-in-out",h.style.zIndex="1",getComputedStyle(l).position==="static"&&(l.style.position="relative"),Array.from(l.children).forEach(p=>{p!==h&&(p.style.zIndex===""||parseInt(p.style.zIndex)<10)&&(p.style.position="relative",p.style.zIndex="10")}),l.appendChild(h);function g(){const p=(c+1)%a.length;h.style.backgroundImage=`url(${a[p]})`,h.style.opacity="1",setTimeout(()=>{l.style.backgroundImage=`url(${a[p]})`,h.style.opacity="0",c=p},2e3)}setInterval(g,5e3)}),window.addEventListener("storage",function(l){if(l.key==="aimrv-background-images")try{const c=JSON.parse(l.newValue);c&&Array.isArray(c)&&c.length>0&&(a=c)}catch(c){console.error("Error updating background images:",c)}})}e()});const VS=()=>{};var zv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx=function(s){const e=[];let n=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},PS=function(s){const e=[];let n=0,a=0;for(;n<s.length;){const l=s[n++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[n++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[n++],h=s[n++],g=s[n++],p=((l&7)<<18|(c&63)<<12|(h&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const c=s[n++],h=s[n++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|h&63)}}return e.join("")},Vx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],h=l+1<s.length,g=h?s[l+1]:0,p=l+2<s.length,y=p?s[l+2]:0,E=c>>2,A=(c&3)<<4|g>>4;let w=(g&15)<<2|y>>6,I=y&63;p||(I=64,h||(w=64)),a.push(n[E],n[A],n[w],n[I])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Lx(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):PS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=n[s.charAt(l++)],g=l<s.length?n[s.charAt(l)]:0;++l;const y=l<s.length?n[s.charAt(l)]:64;++l;const A=l<s.length?n[s.charAt(l)]:64;if(++l,c==null||g==null||y==null||A==null)throw new US;const w=c<<2|g>>4;if(a.push(w),y!==64){const I=g<<4&240|y>>2;if(a.push(I),A!==64){const L=y<<6&192|A;a.push(L)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class US extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BS=function(s){const e=Lx(s);return Vx.encodeByteArray(e,!0)},wd=function(s){return BS(s).replace(/\./g,"")},Px=function(s){try{return Vx.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS=()=>HS().__FIREBASE_DEFAULTS__,qS=()=>{if(typeof process>"u"||typeof zv>"u")return;const s=zv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},KS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Px(s[1]);return e&&JSON.parse(e)},Fd=()=>{try{return VS()||zS()||qS()||KS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Ux=s=>{var e,n;return(n=(e=Fd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[s]},Bx=s=>{const e=Ux(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},Hx=()=>{var s;return(s=Fd())===null||s===void 0?void 0:s.config},zx=s=>{var e;return(e=Fd())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[wd(JSON.stringify(n)),wd(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function $S(){var s;const e=(s=Fd())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function XS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WS(){const s=sn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function ZS(){return!$S()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JS(){try{return typeof indexedDB=="object"}catch{return!1}}function eN(){return new Promise((s,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;e(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN="FirebaseError";class ks extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=tN,Object.setPrototypeOf(this,ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xc.prototype.create)}}class xc{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],h=c?nN(c,a):"Error",g=`${this.serviceName}: ${h} (${l}).`;return new ks(l,g,a)}}function nN(s,e){return s.replace(sN,(n,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const sN=/\{\$([^}]+)}/g;function iN(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function rr(s,e){if(s===e)return!0;const n=Object.keys(s),a=Object.keys(e);for(const l of n){if(!a.includes(l))return!1;const c=s[l],h=e[l];if(qv(c)&&qv(h)){if(!rr(c,h))return!1}else if(c!==h)return!1}for(const l of a)if(!n.includes(l))return!1;return!0}function qv(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(s){const e=[];for(const[n,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Xo(s){const e={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Wo(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function aN(s,e){const n=new rN(s,e);return n.subscribe.bind(n)}class rN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let l;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");lN(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:a},l.next===void 0&&(l.next=Sm),l.error===void 0&&(l.error=Sm),l.complete===void 0&&(l.complete=Sm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lN(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Sm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(s){return s&&s._delegate?s._delegate:s}class fa{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new FS;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uN(e))try{this.getOrInitializeService({instanceIdentifier:nr})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=nr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=nr){return this.instances.has(e)}getOptions(e=nr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[c,h]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&h.resolve(l)}return l}onInit(e,n){var a;const l=this.normalizeInstanceIdentifier(n),c=(a=this.onInitCallbacks.get(l))!==null&&a!==void 0?a:new Set;c.add(e),this.onInitCallbacks.set(l,c);const h=this.instances.get(l);return h&&e(h,l),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const l of a)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:cN(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=nr){return this.component?this.component.multipleInstances?e:nr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cN(s){return s===nr?void 0:s}function uN(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Le||(Le={}));const hN={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},fN=Le.INFO,mN={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},gN=(s,e,...n)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),l=mN[e];if(l)console[l](`[${a}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ag{constructor(e){this.name=e,this._logLevel=fN,this._logHandler=gN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const pN=(s,e)=>e.some(n=>s instanceof n);let Kv,Fv;function yN(){return Kv||(Kv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _N(){return Fv||(Fv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kx=new WeakMap,Hm=new WeakMap,Fx=new WeakMap,Nm=new WeakMap,wg=new WeakMap;function vN(s){const e=new Promise((n,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",h)},c=()=>{n(oa(s.result)),l()},h=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&Kx.set(n,s)}).catch(()=>{}),wg.set(e,s),e}function xN(s){if(Hm.has(s))return;const e=new Promise((n,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",h),s.removeEventListener("abort",h)},c=()=>{n(),l()},h=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",h),s.addEventListener("abort",h)});Hm.set(s,e)}let zm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Hm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Fx.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oa(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function EN(s){zm=s(zm)}function TN(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=s.call(Rm(this),e,...n);return Fx.set(a,e.sort?e.sort():[e]),oa(a)}:_N().includes(s)?function(...e){return s.apply(Rm(this),e),oa(Kx.get(this))}:function(...e){return oa(s.apply(Rm(this),e))}}function bN(s){return typeof s=="function"?TN(s):(s instanceof IDBTransaction&&xN(s),pN(s,yN())?new Proxy(s,zm):s)}function oa(s){if(s instanceof IDBRequest)return vN(s);if(Nm.has(s))return Nm.get(s);const e=bN(s);return e!==s&&(Nm.set(s,e),wg.set(e,s)),e}const Rm=s=>wg.get(s);function AN(s,e,{blocked:n,upgrade:a,blocking:l,terminated:c}={}){const h=indexedDB.open(s,e),g=oa(h);return a&&h.addEventListener("upgradeneeded",p=>{a(oa(h.result),p.oldVersion,p.newVersion,oa(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const wN=["get","getKey","getAll","getAllKeys","count"],SN=["put","add","delete","clear"],km=new Map;function Gv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(km.get(e))return km.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,l=SN.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(l||wN.includes(n)))return;const c=async function(h,...g){const p=this.transaction(h,l?"readwrite":"readonly");let y=p.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[n](...g),l&&p.done]))[0]};return km.set(e,c),c}EN(s=>({...s,get:(e,n,a)=>Gv(e,n)||s.get(e,n,a),has:(e,n)=>!!Gv(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RN(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function RN(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qm="@firebase/app",$v="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui=new Ag("@firebase/app"),kN="@firebase/app-compat",CN="@firebase/analytics-compat",IN="@firebase/analytics",jN="@firebase/app-check-compat",DN="@firebase/app-check",ON="@firebase/auth",MN="@firebase/auth-compat",LN="@firebase/database",VN="@firebase/data-connect",PN="@firebase/database-compat",UN="@firebase/functions",BN="@firebase/functions-compat",HN="@firebase/installations",zN="@firebase/installations-compat",qN="@firebase/messaging",KN="@firebase/messaging-compat",FN="@firebase/performance",GN="@firebase/performance-compat",$N="@firebase/remote-config",QN="@firebase/remote-config-compat",YN="@firebase/storage",XN="@firebase/storage-compat",WN="@firebase/firestore",ZN="@firebase/vertexai",JN="@firebase/firestore-compat",eR="firebase",tR="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="[DEFAULT]",nR={[qm]:"fire-core",[kN]:"fire-core-compat",[IN]:"fire-analytics",[CN]:"fire-analytics-compat",[DN]:"fire-app-check",[jN]:"fire-app-check-compat",[ON]:"fire-auth",[MN]:"fire-auth-compat",[LN]:"fire-rtdb",[VN]:"fire-data-connect",[PN]:"fire-rtdb-compat",[UN]:"fire-fn",[BN]:"fire-fn-compat",[HN]:"fire-iid",[zN]:"fire-iid-compat",[qN]:"fire-fcm",[KN]:"fire-fcm-compat",[FN]:"fire-perf",[GN]:"fire-perf-compat",[$N]:"fire-rc",[QN]:"fire-rc-compat",[YN]:"fire-gcs",[XN]:"fire-gcs-compat",[WN]:"fire-fst",[JN]:"fire-fst-compat",[ZN]:"fire-vertex","fire-js":"fire-js",[eR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd=new Map,sR=new Map,Fm=new Map;function Qv(s,e){try{s.container.addComponent(e)}catch(n){ui.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function lr(s){const e=s.name;if(Fm.has(e))return ui.debug(`There were multiple attempts to register component ${e}.`),!1;Fm.set(e,s);for(const n of Sd.values())Qv(n,s);for(const n of sR.values())Qv(n,s);return!0}function Gd(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function wn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ca=new xc("app","Firebase",iR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new fa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ca.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=tR;function Gx(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Km,automaticDataCollectionEnabled:!1},e),l=a.name;if(typeof l!="string"||!l)throw ca.create("bad-app-name",{appName:String(l)});if(n||(n=Hx()),!n)throw ca.create("no-options");const c=Sd.get(l);if(c){if(rr(n,c.options)&&rr(a,c.config))return c;throw ca.create("duplicate-app",{appName:l})}const h=new dN(l);for(const p of Fm.values())h.addComponent(p);const g=new aR(n,a,h);return Sd.set(l,g),g}function Sg(s=Km){const e=Sd.get(s);if(!e&&s===Km&&Hx())return Gx();if(!e)throw ca.create("no-app",{appName:s});return e}function bs(s,e,n){var a;let l=(a=nR[s])!==null&&a!==void 0?a:s;n&&(l+=`-${n}`);const c=l.match(/\s|\//),h=e.match(/\s|\//);if(c||h){const g=[`Unable to register library "${l}" with version "${e}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&h&&g.push("and"),h&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ui.warn(g.join(" "));return}lr(new fa(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="firebase-heartbeat-database",lR=1,cc="firebase-heartbeat-store";let Cm=null;function $x(){return Cm||(Cm=AN(rR,lR,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(cc)}catch(n){console.warn(n)}}}}).catch(s=>{throw ca.create("idb-open",{originalErrorMessage:s.message})})),Cm}async function oR(s){try{const n=(await $x()).transaction(cc),a=await n.objectStore(cc).get(Qx(s));return await n.done,a}catch(e){if(e instanceof ks)ui.warn(e.message);else{const n=ca.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ui.warn(n.message)}}}async function Yv(s,e){try{const a=(await $x()).transaction(cc,"readwrite");await a.objectStore(cc).put(e,Qx(s)),await a.done}catch(n){if(n instanceof ks)ui.warn(n.message);else{const a=ca.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ui.warn(a.message)}}}function Qx(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=1024,uR=30;class dR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fR(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Xv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(h=>h.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>uR){const h=mR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){ui.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Xv(),{heartbeatsToSend:a,unsentEntries:l}=hR(this._heartbeatsCache.heartbeats),c=wd(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return ui.warn(n),""}}}function Xv(){return new Date().toISOString().substring(0,10)}function hR(s,e=cR){const n=[];let a=s.slice();for(const l of s){const c=n.find(h=>h.agent===l.agent);if(c){if(c.dates.push(l.date),Wv(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Wv(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class fR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JS()?eN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return Yv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return Yv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function Wv(s){return wd(JSON.stringify({version:2,heartbeats:s})).length}function mR(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let a=1;a<s.length;a++)s[a].date<n&&(n=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(s){lr(new fa("platform-logger",e=>new NN(e),"PRIVATE")),lr(new fa("heartbeat",e=>new dR(e),"PRIVATE")),bs(qm,$v,s),bs(qm,$v,"esm2017"),bs("fire-js","")}gR("");var pR="firebase",yR="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bs(pR,yR,"app");var Zv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ua,Yx;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,k){function T(){}T.prototype=k.prototype,P.D=k.prototype,P.prototype=new T,P.prototype.constructor=P,P.C=function(N,j,C){for(var R=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)R[ye-2]=arguments[ye];return k.prototype[j].apply(N,R)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(P,k,T){T||(T=0);var N=Array(16);if(typeof k=="string")for(var j=0;16>j;++j)N[j]=k.charCodeAt(T++)|k.charCodeAt(T++)<<8|k.charCodeAt(T++)<<16|k.charCodeAt(T++)<<24;else for(j=0;16>j;++j)N[j]=k[T++]|k[T++]<<8|k[T++]<<16|k[T++]<<24;k=P.g[0],T=P.g[1],j=P.g[2];var C=P.g[3],R=k+(C^T&(j^C))+N[0]+3614090360&4294967295;k=T+(R<<7&4294967295|R>>>25),R=C+(j^k&(T^j))+N[1]+3905402710&4294967295,C=k+(R<<12&4294967295|R>>>20),R=j+(T^C&(k^T))+N[2]+606105819&4294967295,j=C+(R<<17&4294967295|R>>>15),R=T+(k^j&(C^k))+N[3]+3250441966&4294967295,T=j+(R<<22&4294967295|R>>>10),R=k+(C^T&(j^C))+N[4]+4118548399&4294967295,k=T+(R<<7&4294967295|R>>>25),R=C+(j^k&(T^j))+N[5]+1200080426&4294967295,C=k+(R<<12&4294967295|R>>>20),R=j+(T^C&(k^T))+N[6]+2821735955&4294967295,j=C+(R<<17&4294967295|R>>>15),R=T+(k^j&(C^k))+N[7]+4249261313&4294967295,T=j+(R<<22&4294967295|R>>>10),R=k+(C^T&(j^C))+N[8]+1770035416&4294967295,k=T+(R<<7&4294967295|R>>>25),R=C+(j^k&(T^j))+N[9]+2336552879&4294967295,C=k+(R<<12&4294967295|R>>>20),R=j+(T^C&(k^T))+N[10]+4294925233&4294967295,j=C+(R<<17&4294967295|R>>>15),R=T+(k^j&(C^k))+N[11]+2304563134&4294967295,T=j+(R<<22&4294967295|R>>>10),R=k+(C^T&(j^C))+N[12]+1804603682&4294967295,k=T+(R<<7&4294967295|R>>>25),R=C+(j^k&(T^j))+N[13]+4254626195&4294967295,C=k+(R<<12&4294967295|R>>>20),R=j+(T^C&(k^T))+N[14]+2792965006&4294967295,j=C+(R<<17&4294967295|R>>>15),R=T+(k^j&(C^k))+N[15]+1236535329&4294967295,T=j+(R<<22&4294967295|R>>>10),R=k+(j^C&(T^j))+N[1]+4129170786&4294967295,k=T+(R<<5&4294967295|R>>>27),R=C+(T^j&(k^T))+N[6]+3225465664&4294967295,C=k+(R<<9&4294967295|R>>>23),R=j+(k^T&(C^k))+N[11]+643717713&4294967295,j=C+(R<<14&4294967295|R>>>18),R=T+(C^k&(j^C))+N[0]+3921069994&4294967295,T=j+(R<<20&4294967295|R>>>12),R=k+(j^C&(T^j))+N[5]+3593408605&4294967295,k=T+(R<<5&4294967295|R>>>27),R=C+(T^j&(k^T))+N[10]+38016083&4294967295,C=k+(R<<9&4294967295|R>>>23),R=j+(k^T&(C^k))+N[15]+3634488961&4294967295,j=C+(R<<14&4294967295|R>>>18),R=T+(C^k&(j^C))+N[4]+3889429448&4294967295,T=j+(R<<20&4294967295|R>>>12),R=k+(j^C&(T^j))+N[9]+568446438&4294967295,k=T+(R<<5&4294967295|R>>>27),R=C+(T^j&(k^T))+N[14]+3275163606&4294967295,C=k+(R<<9&4294967295|R>>>23),R=j+(k^T&(C^k))+N[3]+4107603335&4294967295,j=C+(R<<14&4294967295|R>>>18),R=T+(C^k&(j^C))+N[8]+1163531501&4294967295,T=j+(R<<20&4294967295|R>>>12),R=k+(j^C&(T^j))+N[13]+2850285829&4294967295,k=T+(R<<5&4294967295|R>>>27),R=C+(T^j&(k^T))+N[2]+4243563512&4294967295,C=k+(R<<9&4294967295|R>>>23),R=j+(k^T&(C^k))+N[7]+1735328473&4294967295,j=C+(R<<14&4294967295|R>>>18),R=T+(C^k&(j^C))+N[12]+2368359562&4294967295,T=j+(R<<20&4294967295|R>>>12),R=k+(T^j^C)+N[5]+4294588738&4294967295,k=T+(R<<4&4294967295|R>>>28),R=C+(k^T^j)+N[8]+2272392833&4294967295,C=k+(R<<11&4294967295|R>>>21),R=j+(C^k^T)+N[11]+1839030562&4294967295,j=C+(R<<16&4294967295|R>>>16),R=T+(j^C^k)+N[14]+4259657740&4294967295,T=j+(R<<23&4294967295|R>>>9),R=k+(T^j^C)+N[1]+2763975236&4294967295,k=T+(R<<4&4294967295|R>>>28),R=C+(k^T^j)+N[4]+1272893353&4294967295,C=k+(R<<11&4294967295|R>>>21),R=j+(C^k^T)+N[7]+4139469664&4294967295,j=C+(R<<16&4294967295|R>>>16),R=T+(j^C^k)+N[10]+3200236656&4294967295,T=j+(R<<23&4294967295|R>>>9),R=k+(T^j^C)+N[13]+681279174&4294967295,k=T+(R<<4&4294967295|R>>>28),R=C+(k^T^j)+N[0]+3936430074&4294967295,C=k+(R<<11&4294967295|R>>>21),R=j+(C^k^T)+N[3]+3572445317&4294967295,j=C+(R<<16&4294967295|R>>>16),R=T+(j^C^k)+N[6]+76029189&4294967295,T=j+(R<<23&4294967295|R>>>9),R=k+(T^j^C)+N[9]+3654602809&4294967295,k=T+(R<<4&4294967295|R>>>28),R=C+(k^T^j)+N[12]+3873151461&4294967295,C=k+(R<<11&4294967295|R>>>21),R=j+(C^k^T)+N[15]+530742520&4294967295,j=C+(R<<16&4294967295|R>>>16),R=T+(j^C^k)+N[2]+3299628645&4294967295,T=j+(R<<23&4294967295|R>>>9),R=k+(j^(T|~C))+N[0]+4096336452&4294967295,k=T+(R<<6&4294967295|R>>>26),R=C+(T^(k|~j))+N[7]+1126891415&4294967295,C=k+(R<<10&4294967295|R>>>22),R=j+(k^(C|~T))+N[14]+2878612391&4294967295,j=C+(R<<15&4294967295|R>>>17),R=T+(C^(j|~k))+N[5]+4237533241&4294967295,T=j+(R<<21&4294967295|R>>>11),R=k+(j^(T|~C))+N[12]+1700485571&4294967295,k=T+(R<<6&4294967295|R>>>26),R=C+(T^(k|~j))+N[3]+2399980690&4294967295,C=k+(R<<10&4294967295|R>>>22),R=j+(k^(C|~T))+N[10]+4293915773&4294967295,j=C+(R<<15&4294967295|R>>>17),R=T+(C^(j|~k))+N[1]+2240044497&4294967295,T=j+(R<<21&4294967295|R>>>11),R=k+(j^(T|~C))+N[8]+1873313359&4294967295,k=T+(R<<6&4294967295|R>>>26),R=C+(T^(k|~j))+N[15]+4264355552&4294967295,C=k+(R<<10&4294967295|R>>>22),R=j+(k^(C|~T))+N[6]+2734768916&4294967295,j=C+(R<<15&4294967295|R>>>17),R=T+(C^(j|~k))+N[13]+1309151649&4294967295,T=j+(R<<21&4294967295|R>>>11),R=k+(j^(T|~C))+N[4]+4149444226&4294967295,k=T+(R<<6&4294967295|R>>>26),R=C+(T^(k|~j))+N[11]+3174756917&4294967295,C=k+(R<<10&4294967295|R>>>22),R=j+(k^(C|~T))+N[2]+718787259&4294967295,j=C+(R<<15&4294967295|R>>>17),R=T+(C^(j|~k))+N[9]+3951481745&4294967295,P.g[0]=P.g[0]+k&4294967295,P.g[1]=P.g[1]+(j+(R<<21&4294967295|R>>>11))&4294967295,P.g[2]=P.g[2]+j&4294967295,P.g[3]=P.g[3]+C&4294967295}a.prototype.u=function(P,k){k===void 0&&(k=P.length);for(var T=k-this.blockSize,N=this.B,j=this.h,C=0;C<k;){if(j==0)for(;C<=T;)l(this,P,C),C+=this.blockSize;if(typeof P=="string"){for(;C<k;)if(N[j++]=P.charCodeAt(C++),j==this.blockSize){l(this,N),j=0;break}}else for(;C<k;)if(N[j++]=P[C++],j==this.blockSize){l(this,N),j=0;break}}this.h=j,this.o+=k},a.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var k=1;k<P.length-8;++k)P[k]=0;var T=8*this.o;for(k=P.length-8;k<P.length;++k)P[k]=T&255,T/=256;for(this.u(P),P=Array(16),k=T=0;4>k;++k)for(var N=0;32>N;N+=8)P[T++]=this.g[k]>>>N&255;return P};function c(P,k){var T=g;return Object.prototype.hasOwnProperty.call(T,P)?T[P]:T[P]=k(P)}function h(P,k){this.h=k;for(var T=[],N=!0,j=P.length-1;0<=j;j--){var C=P[j]|0;N&&C==k||(T[j]=C,N=!1)}this.g=T}var g={};function p(P){return-128<=P&&128>P?c(P,function(k){return new h([k|0],0>k?-1:0)}):new h([P|0],0>P?-1:0)}function y(P){if(isNaN(P)||!isFinite(P))return A;if(0>P)return V(y(-P));for(var k=[],T=1,N=0;P>=T;N++)k[N]=P/T|0,T*=4294967296;return new h(k,0)}function E(P,k){if(P.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(P.charAt(0)=="-")return V(E(P.substring(1),k));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=y(Math.pow(k,8)),N=A,j=0;j<P.length;j+=8){var C=Math.min(8,P.length-j),R=parseInt(P.substring(j,j+C),k);8>C?(C=y(Math.pow(k,C)),N=N.j(C).add(y(R))):(N=N.j(T),N=N.add(y(R)))}return N}var A=p(0),w=p(1),I=p(16777216);s=h.prototype,s.m=function(){if(z(this))return-V(this).m();for(var P=0,k=1,T=0;T<this.g.length;T++){var N=this.i(T);P+=(0<=N?N:4294967296+N)*k,k*=4294967296}return P},s.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(L(this))return"0";if(z(this))return"-"+V(this).toString(P);for(var k=y(Math.pow(P,6)),T=this,N="";;){var j=Y(T,k).g;T=B(T,j.j(k));var C=((0<T.g.length?T.g[0]:T.h)>>>0).toString(P);if(T=j,L(T))return C+N;for(;6>C.length;)C="0"+C;N=C+N}},s.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function L(P){if(P.h!=0)return!1;for(var k=0;k<P.g.length;k++)if(P.g[k]!=0)return!1;return!0}function z(P){return P.h==-1}s.l=function(P){return P=B(this,P),z(P)?-1:L(P)?0:1};function V(P){for(var k=P.g.length,T=[],N=0;N<k;N++)T[N]=~P.g[N];return new h(T,~P.h).add(w)}s.abs=function(){return z(this)?V(this):this},s.add=function(P){for(var k=Math.max(this.g.length,P.g.length),T=[],N=0,j=0;j<=k;j++){var C=N+(this.i(j)&65535)+(P.i(j)&65535),R=(C>>>16)+(this.i(j)>>>16)+(P.i(j)>>>16);N=R>>>16,C&=65535,R&=65535,T[j]=R<<16|C}return new h(T,T[T.length-1]&-2147483648?-1:0)};function B(P,k){return P.add(V(k))}s.j=function(P){if(L(this)||L(P))return A;if(z(this))return z(P)?V(this).j(V(P)):V(V(this).j(P));if(z(P))return V(this.j(V(P)));if(0>this.l(I)&&0>P.l(I))return y(this.m()*P.m());for(var k=this.g.length+P.g.length,T=[],N=0;N<2*k;N++)T[N]=0;for(N=0;N<this.g.length;N++)for(var j=0;j<P.g.length;j++){var C=this.i(N)>>>16,R=this.i(N)&65535,ye=P.i(j)>>>16,Ae=P.i(j)&65535;T[2*N+2*j]+=R*Ae,F(T,2*N+2*j),T[2*N+2*j+1]+=C*Ae,F(T,2*N+2*j+1),T[2*N+2*j+1]+=R*ye,F(T,2*N+2*j+1),T[2*N+2*j+2]+=C*ye,F(T,2*N+2*j+2)}for(N=0;N<k;N++)T[N]=T[2*N+1]<<16|T[2*N];for(N=k;N<2*k;N++)T[N]=0;return new h(T,0)};function F(P,k){for(;(P[k]&65535)!=P[k];)P[k+1]+=P[k]>>>16,P[k]&=65535,k++}function G(P,k){this.g=P,this.h=k}function Y(P,k){if(L(k))throw Error("division by zero");if(L(P))return new G(A,A);if(z(P))return k=Y(V(P),k),new G(V(k.g),V(k.h));if(z(k))return k=Y(P,V(k)),new G(V(k.g),k.h);if(30<P.g.length){if(z(P)||z(k))throw Error("slowDivide_ only works with positive integers.");for(var T=w,N=k;0>=N.l(P);)T=W(T),N=W(N);var j=le(T,1),C=le(N,1);for(N=le(N,2),T=le(T,2);!L(N);){var R=C.add(N);0>=R.l(P)&&(j=j.add(T),C=R),N=le(N,1),T=le(T,1)}return k=B(P,j.j(k)),new G(j,k)}for(j=A;0<=P.l(k);){for(T=Math.max(1,Math.floor(P.m()/k.m())),N=Math.ceil(Math.log(T)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),C=y(T),R=C.j(k);z(R)||0<R.l(P);)T-=N,C=y(T),R=C.j(k);L(C)&&(C=w),j=j.add(C),P=B(P,R)}return new G(j,P)}s.A=function(P){return Y(this,P).h},s.and=function(P){for(var k=Math.max(this.g.length,P.g.length),T=[],N=0;N<k;N++)T[N]=this.i(N)&P.i(N);return new h(T,this.h&P.h)},s.or=function(P){for(var k=Math.max(this.g.length,P.g.length),T=[],N=0;N<k;N++)T[N]=this.i(N)|P.i(N);return new h(T,this.h|P.h)},s.xor=function(P){for(var k=Math.max(this.g.length,P.g.length),T=[],N=0;N<k;N++)T[N]=this.i(N)^P.i(N);return new h(T,this.h^P.h)};function W(P){for(var k=P.g.length+1,T=[],N=0;N<k;N++)T[N]=P.i(N)<<1|P.i(N-1)>>>31;return new h(T,P.h)}function le(P,k){var T=k>>5;k%=32;for(var N=P.g.length-T,j=[],C=0;C<N;C++)j[C]=0<k?P.i(C+T)>>>k|P.i(C+T+1)<<32-k:P.i(C+T);return new h(j,P.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,Yx=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=E,ua=h}).apply(typeof Zv<"u"?Zv:typeof self<"u"?self:typeof window<"u"?window:{});var td=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xx,Zo,Wx,fd,Gm,Zx,Jx,eE;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,v){return d==Array.prototype||d==Object.prototype||(d[_]=v.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof td=="object"&&td];for(var _=0;_<d.length;++_){var v=d[_];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=n(this);function l(d,_){if(_)e:{var v=a;d=d.split(".");for(var S=0;S<d.length-1;S++){var $=d[S];if(!($ in v))break e;v=v[$]}d=d[d.length-1],S=v[d],_=_(S),_!=S&&_!=null&&e(v,d,{configurable:!0,writable:!0,value:_})}}function c(d,_){d instanceof String&&(d+="");var v=0,S=!1,$={next:function(){if(!S&&v<d.length){var Z=v++;return{value:_(Z,d[Z]),done:!1}}return S=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}l("Array.prototype.values",function(d){return d||function(){return c(this,function(_,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},g=this||self;function p(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function y(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function E(d,_,v){return d.call.apply(d.bind,arguments)}function A(d,_,v){if(!d)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,S),d.apply(_,$)}}return function(){return d.apply(_,arguments)}}function w(d,_,v){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,w.apply(null,arguments)}function I(d,_){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),d.apply(this,S)}}function L(d,_){function v(){}v.prototype=_.prototype,d.aa=_.prototype,d.prototype=new v,d.prototype.constructor=d,d.Qb=function(S,$,Z){for(var ce=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)ce[Be-2]=arguments[Be];return _.prototype[$].apply(S,ce)}}function z(d){const _=d.length;if(0<_){const v=Array(_);for(let S=0;S<_;S++)v[S]=d[S];return v}return[]}function V(d,_){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(p(S)){const $=d.length||0,Z=S.length||0;d.length=$+Z;for(let ce=0;ce<Z;ce++)d[$+ce]=S[ce]}else d.push(S)}}class B{constructor(_,v){this.i=_,this.j=v,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function F(d){return/^[\s\xa0]*$/.test(d)}function G(){var d=g.navigator;return d&&(d=d.userAgent)?d:""}function Y(d){return Y[" "](d),d}Y[" "]=function(){};var W=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function le(d,_,v){for(const S in d)_.call(v,d[S],S,d)}function P(d,_){for(const v in d)_.call(void 0,d[v],v,d)}function k(d){const _={};for(const v in d)_[v]=d[v];return _}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(d,_){let v,S;for(let $=1;$<arguments.length;$++){S=arguments[$];for(v in S)d[v]=S[v];for(let Z=0;Z<T.length;Z++)v=T[Z],Object.prototype.hasOwnProperty.call(S,v)&&(d[v]=S[v])}}function j(d){var _=1;d=d.split(":");const v=[];for(;0<_&&d.length;)v.push(d.shift()),_--;return d.length&&v.push(d.join(":")),v}function C(d){g.setTimeout(()=>{throw d},0)}function R(){var d=he;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class ye{constructor(){this.h=this.g=null}add(_,v){const S=Ae.get();S.set(_,v),this.h?this.h.next=S:this.g=S,this.h=S}}var Ae=new B(()=>new ae,d=>d.reset());class ae{constructor(){this.next=this.g=this.h=null}set(_,v){this.h=_,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,oe=!1,he=new ye,M=()=>{const d=g.Promise.resolve(void 0);ve=()=>{d.then(te)}};var te=()=>{for(var d;d=R();){try{d.h.call(d.g)}catch(v){C(v)}var _=Ae;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}oe=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const v=()=>{};g.addEventListener("test",v,_),g.removeEventListener("test",v,_)}catch{}return d}();function Ie(d,_){if(ue.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var v=this.type=d.type,S=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(W){e:{try{Y(_.nodeName);var $=!0;break e}catch{}$=!1}$||(_=null)}}else v=="mouseover"?_=d.fromElement:v=="mouseout"&&(_=d.toElement);this.relatedTarget=_,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Re[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ie.aa.h.call(this)}}L(Ie,ue);var Re={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var xt="closure_listenable_"+(1e6*Math.random()|0),Ke=0;function ct(d,_,v,S,$){this.listener=d,this.proxy=null,this.src=_,this.type=v,this.capture=!!S,this.ha=$,this.key=++Ke,this.da=this.fa=!1}function Xe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function an(d){this.src=d,this.g={},this.h=0}an.prototype.add=function(d,_,v,S,$){var Z=d.toString();d=this.g[Z],d||(d=this.g[Z]=[],this.h++);var ce=Rn(d,_,S,$);return-1<ce?(_=d[ce],v||(_.fa=!1)):(_=new ct(_,this.src,Z,!!S,$),_.fa=v,d.push(_)),_};function Is(d,_){var v=_.type;if(v in d.g){var S=d.g[v],$=Array.prototype.indexOf.call(S,_,void 0),Z;(Z=0<=$)&&Array.prototype.splice.call(S,$,1),Z&&(Xe(_),d.g[v].length==0&&(delete d.g[v],d.h--))}}function Rn(d,_,v,S){for(var $=0;$<d.length;++$){var Z=d[$];if(!Z.da&&Z.listener==_&&Z.capture==!!v&&Z.ha==S)return $}return-1}var _i="closure_lm_"+(1e6*Math.random()|0),vi={};function js(d,_,v,S,$){if(Array.isArray(_)){for(var Z=0;Z<_.length;Z++)js(d,_[Z],v,S,$);return null}return v=Dc(v),d&&d[xt]?d.K(_,v,y(S)?!!S.capture:!1,$):Ul(d,_,v,!1,S,$)}function Ul(d,_,v,S,$,Z){if(!_)throw Error("Invalid event type");var ce=y($)?!!$.capture:!!$,Be=Bl(d);if(Be||(d[_i]=Be=new an(d)),v=Be.add(_,v,S,ce,Z),v.proxy)return v;if(S=Er(),v.proxy=S,S.src=d,S.listener=v,d.addEventListener)de||($=ce),$===void 0&&($=!1),d.addEventListener(_.toString(),S,$);else if(d.attachEvent)d.attachEvent(br(_.toString()),S);else if(d.addListener&&d.removeListener)d.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Er(){function d(v){return _.call(d.src,d.listener,v)}const _=vh;return d}function Tr(d,_,v,S,$){if(Array.isArray(_))for(var Z=0;Z<_.length;Z++)Tr(d,_[Z],v,S,$);else S=y(S)?!!S.capture:!!S,v=Dc(v),d&&d[xt]?(d=d.i,_=String(_).toString(),_ in d.g&&(Z=d.g[_],v=Rn(Z,v,S,$),-1<v&&(Xe(Z[v]),Array.prototype.splice.call(Z,v,1),Z.length==0&&(delete d.g[_],d.h--)))):d&&(d=Bl(d))&&(_=d.g[_.toString()],d=-1,_&&(d=Rn(_,v,S,$)),(v=-1<d?_[d]:null)&&Aa(v))}function Aa(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[xt])Is(_.i,d);else{var v=d.type,S=d.proxy;_.removeEventListener?_.removeEventListener(v,S,d.capture):_.detachEvent?_.detachEvent(br(v),S):_.addListener&&_.removeListener&&_.removeListener(S),(v=Bl(_))?(Is(v,d),v.h==0&&(v.src=null,_[_i]=null)):Xe(d)}}}function br(d){return d in vi?vi[d]:vi[d]="on"+d}function vh(d,_){if(d.da)d=!0;else{_=new Ie(_,this);var v=d.listener,S=d.ha||d.src;d.fa&&Aa(d),d=v.call(S,_)}return d}function Bl(d){return d=d[_i],d instanceof an?d:null}var fn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dc(d){return typeof d=="function"?d:(d[fn]||(d[fn]=function(_){return d.handleEvent(_)}),d[fn])}function St(){fe.call(this),this.i=new an(this),this.M=this,this.F=null}L(St,fe),St.prototype[xt]=!0,St.prototype.removeEventListener=function(d,_,v,S){Tr(this,d,_,v,S)};function Mt(d,_){var v,S=d.F;if(S)for(v=[];S;S=S.F)v.push(S);if(d=d.M,S=_.type||_,typeof _=="string")_=new ue(_,d);else if(_ instanceof ue)_.target=_.target||d;else{var $=_;_=new ue(S,d),N(_,$)}if($=!0,v)for(var Z=v.length-1;0<=Z;Z--){var ce=_.g=v[Z];$=Ds(ce,S,!0,_)&&$}if(ce=_.g=d,$=Ds(ce,S,!0,_)&&$,$=Ds(ce,S,!1,_)&&$,v)for(Z=0;Z<v.length;Z++)ce=_.g=v[Z],$=Ds(ce,S,!1,_)&&$}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var v=d.g[_],S=0;S<v.length;S++)Xe(v[S]);delete d.g[_],d.h--}}this.F=null},St.prototype.K=function(d,_,v,S){return this.i.add(String(d),_,!1,v,S)},St.prototype.L=function(d,_,v,S){return this.i.add(String(d),_,!0,v,S)};function Ds(d,_,v,S){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var $=!0,Z=0;Z<_.length;++Z){var ce=_[Z];if(ce&&!ce.da&&ce.capture==v){var Be=ce.listener,Rt=ce.ha||ce.src;ce.fa&&Is(d.i,ce),$=Be.call(Rt,S)!==!1&&$}}return $&&!S.defaultPrevented}function Oc(d,_,v){if(typeof d=="function")v&&(d=w(d,v));else if(d&&typeof d.handleEvent=="function")d=w(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:g.setTimeout(d,_||0)}function Hl(d){d.g=Oc(()=>{d.g=null,d.i&&(d.i=!1,Hl(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class xh extends fe{constructor(_,v){super(),this.m=_,this.l=v,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Hl(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wa(d){fe.call(this),this.h=d,this.g={}}L(wa,fe);var xi=[];function Wt(d){le(d.g,function(_,v){this.g.hasOwnProperty(v)&&Aa(_)},d),d.g={}}wa.prototype.N=function(){wa.aa.N.call(this),Wt(this)},wa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zl=g.JSON.stringify,as=g.JSON.parse,rn=class{stringify(d){return g.JSON.stringify(d,void 0)}parse(d){return g.JSON.parse(d,void 0)}};function ql(){}ql.prototype.h=null;function Mc(d){return d.h||(d.h=d.i())}function Lc(){}var rs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ei(){ue.call(this,"d")}L(Ei,ue);function Gn(){ue.call(this,"c")}L(Gn,ue);var kn={},Ti=null;function Ar(){return Ti=Ti||new St}kn.La="serverreachability";function Kl(d){ue.call(this,kn.La,d)}L(Kl,ue);function bi(d){const _=Ar();Mt(_,new Kl(_))}kn.STAT_EVENT="statevent";function wr(d,_){ue.call(this,kn.STAT_EVENT,d),this.stat=_}L(wr,ue);function yt(d){const _=Ar();Mt(_,new wr(_,d))}kn.Ma="timingevent";function Vc(d,_){ue.call(this,kn.Ma,d),this.size=_}L(Vc,ue);function Ai(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){d()},_)}function wi(){this.g=!0}wi.prototype.xa=function(){this.g=!1};function Pc(d,_,v,S,$,Z){d.info(function(){if(d.g)if(Z)for(var ce="",Be=Z.split("&"),Rt=0;Rt<Be.length;Rt++){var He=Be[Rt].split("=");if(1<He.length){var Pt=He[0];He=He[1];var kt=Pt.split("_");ce=2<=kt.length&&kt[1]=="type"?ce+(Pt+"="+He+"&"):ce+(Pt+"=redacted&")}}else ce=null;else ce=Z;return"XMLHTTP REQ ("+S+") [attempt "+$+"]: "+_+`
`+v+`
`+ce})}function Uc(d,_,v,S,$,Z,ce){d.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+$+"]: "+_+`
`+v+`
`+Z+" "+ce})}function Si(d,_,v,S){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+Lt(d,v)+(S?" "+S:"")})}function ls(d,_){d.info(function(){return"TIMEOUT: "+_})}wi.prototype.info=function(){};function Lt(d,_){if(!d.g)return _;if(!_)return null;try{var v=JSON.parse(_);if(v){for(d=0;d<v.length;d++)if(Array.isArray(v[d])){var S=v[d];if(!(2>S.length)){var $=S[1];if(Array.isArray($)&&!(1>$.length)){var Z=$[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var ce=1;ce<$.length;ce++)$[ce]=""}}}}return zl(v)}catch{return _}}var Nt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Os={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sa;function Sr(){}L(Sr,ql),Sr.prototype.g=function(){return new XMLHttpRequest},Sr.prototype.i=function(){return{}},Sa=new Sr;function os(d,_,v,S){this.j=d,this.i=_,this.l=v,this.R=S||1,this.U=new wa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fl}function Fl(){this.i=null,this.g="",this.h=!1}var Ni={},Na={};function $n(d,_,v){d.L=1,d.v=Ca(ut(_)),d.m=v,d.P=!0,Ms(d,null)}function Ms(d,_){d.F=Date.now(),at(d),d.A=ut(d.v);var v=d.A,S=d.R;Array.isArray(S)||(S=[String(S)]),Ps(v.i,"t",S),d.C=0,v=d.j.J,d.h=new Fl,d.g=Jc(d.j,v?_:null,!d.m),0<d.O&&(d.M=new xh(w(d.Y,d,d.g),d.O)),_=d.U,v=d.g,S=d.ca;var $="readystatechange";Array.isArray($)||($&&(xi[0]=$.toString()),$=xi);for(var Z=0;Z<$.length;Z++){var ce=js(v,$[Z],S||_.handleEvent,!1,_.h||_);if(!ce)break;_.g[ce.key]=ce}_=d.H?k(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),bi(),Pc(d.i,d.u,d.A,d.l,d.R,d.m)}os.prototype.ca=function(d){d=d.target;const _=this.M;_&&On(d)==3?_.j():this.Y(d)},os.prototype.Y=function(d){try{if(d==this.g)e:{const kt=On(this.g);var _=this.g.Ba();const zs=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||Fc(this.g)))){this.J||kt!=4||_==7||(_==8||0>=zs?bi(3):bi(2)),Nr(this);var v=this.g.Z();this.X=v;t:if(Ri(this)){var S=Fc(this.g);d="";var $=S.length,Z=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mn(this),_n(this);var ce="";break t}this.h.i=new g.TextDecoder}for(_=0;_<$;_++)this.h.h=!0,d+=this.h.i.decode(S[_],{stream:!(Z&&_==$-1)});S.length=0,this.h.g+=d,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=v==200,Uc(this.i,this.u,this.A,this.l,this.R,kt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,Rt=this.g;if((Be=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(Be)){var He=Be;break t}}He=null}if(v=He)Si(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vn(this,v);else{this.o=!1,this.s=3,yt(12),mn(this),_n(this);break e}}if(this.P){v=!0;let qt;for(;!this.J&&this.C<ce.length;)if(qt=ki(this,ce),qt==Na){kt==4&&(this.s=4,yt(14),v=!1),Si(this.i,this.l,null,"[Incomplete Response]");break}else if(qt==Ni){this.s=4,yt(15),Si(this.i,this.l,ce,"[Invalid Chunk]"),v=!1;break}else Si(this.i,this.l,qt,null),vn(this,qt);if(Ri(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||ce.length!=0||this.h.h||(this.s=1,yt(16),v=!1),this.o=this.o&&v,!v)Si(this.i,this.l,ce,"[Invalid Chunked Response]"),mn(this),_n(this);else if(0<ce.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Va(Pt),Pt.M=!0,yt(11))}}else Si(this.i,this.l,ce,null),vn(this,ce);kt==4&&mn(this),this.o&&!this.J&&(kt==4?Xc(this.j,this):(this.o=!1,at(this)))}else Sh(this.g),v==400&&0<ce.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),mn(this),_n(this)}}}catch{}finally{}};function Ri(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function ki(d,_){var v=d.C,S=_.indexOf(`
`,v);return S==-1?Na:(v=Number(_.substring(v,S)),isNaN(v)?Ni:(S+=1,S+v>_.length?Na:(_=_.slice(S,S+v),d.C=S+v,_)))}os.prototype.cancel=function(){this.J=!0,mn(this)};function at(d){d.S=Date.now()+d.I,Gl(d,d.I)}function Gl(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Ai(w(d.ba,d),_)}function Nr(d){d.B&&(g.clearTimeout(d.B),d.B=null)}os.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(ls(this.i,this.A),this.L!=2&&(bi(),yt(17)),mn(this),this.s=2,_n(this)):Gl(this,this.S-d)};function _n(d){d.j.G==0||d.J||Xc(d.j,d)}function mn(d){Nr(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,Wt(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function vn(d,_){try{var v=d.j;if(v.G!=0&&(v.g==d||Ci(v.h,d))){if(!d.K&&Ci(v.h,d)&&v.G==3){try{var S=v.Da.g.parse(_)}catch{S=null}if(Array.isArray(S)&&S.length==3){var $=S;if($[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<d.F)Vr(v),Mr(v);else break e;so(v),yt(18)}}else v.za=$[1],0<v.za-v.T&&37500>$[2]&&v.F&&v.v==0&&!v.C&&(v.C=Ai(w(v.Za,v),6e3));if(1>=Bc(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Hs(v,11)}else if((d.K||v.g==d)&&Vr(v),!F(_))for($=v.Da.g.parse(_),_=0;_<$.length;_++){let He=$[_];if(v.T=He[0],He=He[1],v.G==2)if(He[0]=="c"){v.K=He[1],v.ia=He[2];const Pt=He[3];Pt!=null&&(v.la=Pt,v.j.info("VER="+v.la));const kt=He[4];kt!=null&&(v.Aa=kt,v.j.info("SVER="+v.Aa));const zs=He[5];zs!=null&&typeof zs=="number"&&0<zs&&(S=1.5*zs,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const qt=d.g;if(qt){const gs=qt.g?qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gs){var Z=S.h;Z.g||gs.indexOf("spdy")==-1&&gs.indexOf("quic")==-1&&gs.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Ii(Z,Z.h),Z.h=null))}if(S.D){const ao=qt.g?qt.g.getResponseHeader("X-HTTP-Session-Id"):null;ao&&(S.ya=ao,Fe(S.I,S.D,ao))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-d.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var ce=d;if(S.qa=Zc(S,S.J?S.ia:null,S.W),ce.K){Cn(S.h,ce);var Be=ce,Rt=S.L;Rt&&(Be.I=Rt),Be.B&&(Nr(Be),at(Be)),S.g=ce}else Qc(S);0<v.i.length&&Lr(v)}else He[0]!="stop"&&He[0]!="close"||Hs(v,7);else v.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Hs(v,7):to(v):He[0]!="noop"&&v.l&&v.l.ta(He),v.v=0)}}bi(4)}catch{}}var Eh=class{constructor(d,_){this.g=d,this.map=_}};function $l(d){this.l=d||10,g.PerformanceNavigationTiming?(d=g.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ql(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Bc(d){return d.h?1:d.g?d.g.size:0}function Ci(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function Ii(d,_){d.g?d.g.add(_):d.h=_}function Cn(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}$l.prototype.cancel=function(){if(this.i=ln(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function ln(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const v of d.g.values())_=_.concat(v.D);return _}return z(d.i)}function Hc(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(p(d)){for(var _=[],v=d.length,S=0;S<v;S++)_.push(d[S]);return _}_=[],v=0;for(S in d)_[v++]=d[S];return _}function Th(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(p(d)||typeof d=="string"){var _=[];d=d.length;for(var v=0;v<d;v++)_.push(v);return _}_=[],v=0;for(const S in d)_[v++]=S;return _}}}function Ra(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(p(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var v=Th(d),S=Hc(d),$=S.length,Z=0;Z<$;Z++)_.call(void 0,S[Z],v&&v[Z],d)}var Yl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rr(d,_){if(d){d=d.split("&");for(var v=0;v<d.length;v++){var S=d[v].indexOf("="),$=null;if(0<=S){var Z=d[v].substring(0,S);$=d[v].substring(S+1)}else Z=d[v];_(Z,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Ls(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ls){this.h=d.h,ji(this,d.j),this.o=d.o,this.g=d.g,ka(this,d.s),this.l=d.l;var _=d.i,v=new cs;v.i=_.i,_.g&&(v.g=new Map(_.g),v.h=_.h),kr(this,v),this.m=d.m}else d&&(_=String(d).match(Yl))?(this.h=!1,ji(this,_[1]||"",!0),this.o=Di(_[2]||""),this.g=Di(_[3]||"",!0),ka(this,_[4]),this.l=Di(_[5]||"",!0),kr(this,_[6]||"",!0),this.m=Di(_[7]||"")):(this.h=!1,this.i=new cs(null,this.h))}Ls.prototype.toString=function(){var d=[],_=this.j;_&&d.push(In(_,Xl,!0),":");var v=this.g;return(v||_=="file")&&(d.push("//"),(_=this.o)&&d.push(In(_,Xl,!0),"@"),d.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&d.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&d.push("/"),d.push(In(v,v.charAt(0)=="/"?Wl:zc,!0))),(v=this.i.toString())&&d.push("?",v),(v=this.m)&&d.push("#",In(v,wh)),d.join("")};function ut(d){return new Ls(d)}function ji(d,_,v){d.j=v?Di(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function ka(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function kr(d,_,v){_ instanceof cs?(d.i=_,Zl(d.i,d.h)):(v||(_=In(_,Ah)),d.i=new cs(_,d.h))}function Fe(d,_,v){d.i.set(_,v)}function Ca(d){return Fe(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Di(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function In(d,_,v){return typeof d=="string"?(d=encodeURI(d).replace(_,bh),v&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function bh(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Xl=/[#\/\?@]/g,zc=/[#\?:]/g,Wl=/[#\?]/g,Ah=/[#\?@]/g,wh=/#/g;function cs(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function jn(d){d.g||(d.g=new Map,d.h=0,d.i&&Rr(d.i,function(_,v){d.add(decodeURIComponent(_.replace(/\+/g," ")),v)}))}s=cs.prototype,s.add=function(d,_){jn(this),this.i=null,d=Us(this,d);var v=this.g.get(d);return v||this.g.set(d,v=[]),v.push(_),this.h+=1,this};function Cr(d,_){jn(d),_=Us(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function Vs(d,_){return jn(d),_=Us(d,_),d.g.has(_)}s.forEach=function(d,_){jn(this),this.g.forEach(function(v,S){v.forEach(function($){d.call(_,$,S,this)},this)},this)},s.na=function(){jn(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),v=[];for(let S=0;S<_.length;S++){const $=d[S];for(let Z=0;Z<$.length;Z++)v.push(_[S])}return v},s.V=function(d){jn(this);let _=[];if(typeof d=="string")Vs(this,d)&&(_=_.concat(this.g.get(Us(this,d))));else{d=Array.from(this.g.values());for(let v=0;v<d.length;v++)_=_.concat(d[v])}return _},s.set=function(d,_){return jn(this),this.i=null,d=Us(this,d),Vs(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},s.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function Ps(d,_,v){Cr(d,_),0<v.length&&(d.i=null,d.g.set(Us(d,_),z(v)),d.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var v=0;v<_.length;v++){var S=_[v];const Z=encodeURIComponent(String(S)),ce=this.V(S);for(S=0;S<ce.length;S++){var $=Z;ce[S]!==""&&($+="="+encodeURIComponent(String(ce[S]))),d.push($)}}return this.i=d.join("&")};function Us(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function Zl(d,_){_&&!d.j&&(jn(d),d.i=null,d.g.forEach(function(v,S){var $=S.toLowerCase();S!=$&&(Cr(this,S),Ps(this,$,v))},d)),d.j=_}function qc(d,_){const v=new wi;if(g.Image){const S=new Image;S.onload=I(Dn,v,"TestLoadImage: loaded",!0,_,S),S.onerror=I(Dn,v,"TestLoadImage: error",!1,_,S),S.onabort=I(Dn,v,"TestLoadImage: abort",!1,_,S),S.ontimeout=I(Dn,v,"TestLoadImage: timeout",!1,_,S),g.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=d}else _(!1)}function Ia(d,_){const v=new wi,S=new AbortController,$=setTimeout(()=>{S.abort(),Dn(v,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:S.signal}).then(Z=>{clearTimeout($),Z.ok?Dn(v,"TestPingServer: ok",!0,_):Dn(v,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout($),Dn(v,"TestPingServer: error",!1,_)})}function Dn(d,_,v,S,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),S(v)}catch{}}function ja(){this.g=new rn}function us(d,_,v){const S=v||"";try{Ra(d,function($,Z){let ce=$;y($)&&(ce=zl($)),_.push(S+Z+"="+encodeURIComponent(ce))})}catch($){throw _.push(S+"type="+encodeURIComponent("_badmap")),$}}function Oi(d){this.l=d.Ub||null,this.j=d.eb||!1}L(Oi,ql),Oi.prototype.g=function(){return new Bs(this.l,this.j)},Oi.prototype.i=function(d){return function(){return d}}({});function Bs(d,_){St.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Bs,St),s=Bs.prototype,s.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,hs(this)},s.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||g).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ds(this)),this.readyState=0},s.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,hs(this)),this.g&&(this.readyState=3,hs(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jl(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jl(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}s.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?ds(this):hs(this),this.readyState==3&&Jl(this)}},s.Ra=function(d){this.g&&(this.response=this.responseText=d,ds(this))},s.Qa=function(d){this.g&&(this.response=d,ds(this))},s.ga=function(){this.g&&ds(this)};function ds(d){d.readyState=4,d.l=null,d.j=null,d.v=null,hs(d)}s.setRequestHeader=function(d,_){this.u.append(d,_)},s.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var v=_.next();!v.done;)v=v.value,d.push(v[0]+": "+v[1]),v=_.next();return d.join(`\r
`)};function hs(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function eo(d){let _="";return le(d,function(v,S){_+=S,_+=":",_+=v,_+=`\r
`}),_}function Vt(d,_,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=eo(v),typeof d=="string"?v!=null&&encodeURIComponent(String(v)):Fe(d,_,v))}function Qe(d){St.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Qe,St);var Ir=/^https?$/i,Da=["POST","PUT"];s=Qe.prototype,s.Ha=function(d){this.J=d},s.ea=function(d,_,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sa.g(),this.v=this.o?Mc(this.o):Mc(Sa),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(Z){Kc(this,Z);return}if(d=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var $ in S)v.set($,S[$]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Z of S.keys())v.set(Z,S.get(Z));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(Z=>Z.toLowerCase()=="content-type"),$=g.FormData&&d instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Da,_,void 0))||S||$||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ce]of v)this.g.setRequestHeader(Z,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Oa(this),this.u=!0,this.g.send(d),this.u=!1}catch(Z){Kc(this,Z)}};function Kc(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,jr(d),fs(d)}function jr(d){d.A||(d.A=!0,Mt(d,"complete"),Mt(d,"error"))}s.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Mt(this,"complete"),Mt(this,"abort"),fs(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fs(this,!0)),Qe.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Dr(this):this.bb())},s.bb=function(){Dr(this)};function Dr(d){if(d.h&&typeof h<"u"&&(!d.v[1]||On(d)!=4||d.Z()!=2)){if(d.u&&On(d)==4)Oc(d.Ea,0,d);else if(Mt(d,"readystatechange"),On(d)==4){d.h=!1;try{const ce=d.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var v;if(!(v=_)){var S;if(S=ce===0){var $=String(d.D).match(Yl)[1]||null;!$&&g.self&&g.self.location&&($=g.self.location.protocol.slice(0,-1)),S=!Ir.test($?$.toLowerCase():"")}v=S}if(v)Mt(d,"complete"),Mt(d,"success");else{d.m=6;try{var Z=2<On(d)?d.g.statusText:""}catch{Z=""}d.l=Z+" ["+d.Z()+"]",jr(d)}}finally{fs(d)}}}}function fs(d,_){if(d.g){Oa(d);const v=d.g,S=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||Mt(d,"ready");try{v.onreadystatechange=S}catch{}}}function Oa(d){d.I&&(g.clearTimeout(d.I),d.I=null)}s.isActive=function(){return!!this.g};function On(d){return d.g?d.g.readyState:0}s.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),as(_)}};function Fc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Sh(d){const _={};d=(d.g&&2<=On(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<d.length;S++){if(F(d[S]))continue;var v=j(d[S]);const $=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Z=_[$]||[];_[$]=Z,Z.push(v)}P(_,function(S){return S.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ma(d,_,v){return v&&v.internalChannelParams&&v.internalChannelParams[d]||_}function Or(d){this.Aa=0,this.i=[],this.j=new wi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ma("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ma("baseRetryDelayMs",5e3,d),this.cb=Ma("retryDelaySeedMs",1e4,d),this.Wa=Ma("forwardChannelMaxRetries",2,d),this.wa=Ma("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new $l(d&&d.concurrentRequestLimit),this.Da=new ja,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Or.prototype,s.la=8,s.G=1,s.connect=function(d,_,v,S){yt(0),this.W=d,this.H=_||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Zc(this,null,this.W),Lr(this)};function to(d){if(Gc(d),d.G==3){var _=d.U++,v=ut(d.I);if(Fe(v,"SID",d.K),Fe(v,"RID",_),Fe(v,"TYPE","terminate"),La(d,v),_=new os(d,d.j,_),_.L=2,_.v=Ca(ut(v)),v=!1,g.navigator&&g.navigator.sendBeacon)try{v=g.navigator.sendBeacon(_.v.toString(),"")}catch{}!v&&g.Image&&(new Image().src=_.v,v=!0),v||(_.g=Jc(_.j,null),_.g.ea(_.v)),_.F=Date.now(),at(_)}Wc(d)}function Mr(d){d.g&&(Va(d),d.g.cancel(),d.g=null)}function Gc(d){Mr(d),d.u&&(g.clearTimeout(d.u),d.u=null),Vr(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&g.clearTimeout(d.s),d.s=null)}function Lr(d){if(!Ql(d.h)&&!d.s){d.s=!0;var _=d.Ga;ve||M(),oe||(ve(),oe=!0),he.add(_,d),d.B=0}}function Nh(d,_){return Bc(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Ai(w(d.Ga,d,_),io(d,d.B)),d.B++,!0)}s.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const $=new os(this,this.j,d);let Z=this.o;if(this.S&&(Z?(Z=k(Z),N(Z,this.S)):Z=this.S),this.m!==null||this.O||($.H=Z,Z=null),this.P)e:{for(var _=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(_+=S,4096<_){_=v;break e}if(_===4096||v===this.i.length-1){_=v+1;break e}}_=1e3}else _=1e3;_=$c(this,$,_),v=ut(this.I),Fe(v,"RID",d),Fe(v,"CVER",22),this.D&&Fe(v,"X-HTTP-Session-Id",this.D),La(this,v),Z&&(this.O?_="headers="+encodeURIComponent(String(eo(Z)))+"&"+_:this.m&&Vt(v,this.m,Z)),Ii(this.h,$),this.Ua&&Fe(v,"TYPE","init"),this.P?(Fe(v,"$req",_),Fe(v,"SID","null"),$.T=!0,$n($,v,null)):$n($,v,_),this.G=2}}else this.G==3&&(d?no(this,d):this.i.length==0||Ql(this.h)||no(this))};function no(d,_){var v;_?v=_.l:v=d.U++;const S=ut(d.I);Fe(S,"SID",d.K),Fe(S,"RID",v),Fe(S,"AID",d.T),La(d,S),d.m&&d.o&&Vt(S,d.m,d.o),v=new os(d,d.j,v,d.B+1),d.m===null&&(v.H=d.o),_&&(d.i=_.D.concat(d.i)),_=$c(d,v,1e3),v.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Ii(d.h,v),$n(v,S,_)}function La(d,_){d.H&&le(d.H,function(v,S){Fe(_,S,v)}),d.l&&Ra({},function(v,S){Fe(_,S,v)})}function $c(d,_,v){v=Math.min(d.i.length,v);var S=d.l?w(d.l.Na,d.l,d):null;e:{var $=d.i;let Z=-1;for(;;){const ce=["count="+v];Z==-1?0<v?(Z=$[0].g,ce.push("ofs="+Z)):Z=0:ce.push("ofs="+Z);let Be=!0;for(let Rt=0;Rt<v;Rt++){let He=$[Rt].g;const Pt=$[Rt].map;if(He-=Z,0>He)Z=Math.max(0,$[Rt].g-100),Be=!1;else try{us(Pt,ce,"req"+He+"_")}catch{S&&S(Pt)}}if(Be){S=ce.join("&");break e}}}return d=d.i.splice(0,v),_.D=d,S}function Qc(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;ve||M(),oe||(ve(),oe=!0),he.add(_,d),d.v=0}}function so(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Ai(w(d.Fa,d),io(d,d.v)),d.v++,!0)}s.Fa=function(){if(this.u=null,Yc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Ai(w(this.ab,this),d)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),Mr(this),Yc(this))};function Va(d){d.A!=null&&(g.clearTimeout(d.A),d.A=null)}function Yc(d){d.g=new os(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=ut(d.qa);Fe(_,"RID","rpc"),Fe(_,"SID",d.K),Fe(_,"AID",d.T),Fe(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&Fe(_,"TO",d.ja),Fe(_,"TYPE","xmlhttp"),La(d,_),d.m&&d.o&&Vt(_,d.m,d.o),d.L&&(d.g.I=d.L);var v=d.g;d=d.ia,v.L=1,v.v=Ca(ut(_)),v.m=null,v.P=!0,Ms(v,d)}s.Za=function(){this.C!=null&&(this.C=null,Mr(this),so(this),yt(19))};function Vr(d){d.C!=null&&(g.clearTimeout(d.C),d.C=null)}function Xc(d,_){var v=null;if(d.g==_){Vr(d),Va(d),d.g=null;var S=2}else if(Ci(d.h,_))v=_.D,Cn(d.h,_),S=1;else return;if(d.G!=0){if(_.o)if(S==1){v=_.m?_.m.length:0,_=Date.now()-_.F;var $=d.B;S=Ar(),Mt(S,new Vc(S,v)),Lr(d)}else Qc(d);else if($=_.s,$==3||$==0&&0<_.X||!(S==1&&Nh(d,_)||S==2&&so(d)))switch(v&&0<v.length&&(_=d.h,_.i=_.i.concat(v)),$){case 1:Hs(d,5);break;case 4:Hs(d,10);break;case 3:Hs(d,6);break;default:Hs(d,2)}}}function io(d,_){let v=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(v*=2),v*_}function Hs(d,_){if(d.j.info("Error code "+_),_==2){var v=w(d.fb,d),S=d.Xa;const $=!S;S=new Ls(S||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||ji(S,"https"),Ca(S),$?qc(S.toString(),v):Ia(S.toString(),v)}else yt(2);d.G=0,d.l&&d.l.sa(_),Wc(d),Gc(d)}s.fb=function(d){d?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function Wc(d){if(d.G=0,d.ka=[],d.l){const _=ln(d.h);(_.length!=0||d.i.length!=0)&&(V(d.ka,_),V(d.ka,d.i),d.h.i.length=0,z(d.i),d.i.length=0),d.l.ra()}}function Zc(d,_,v){var S=v instanceof Ls?ut(v):new Ls(v);if(S.g!="")_&&(S.g=_+"."+S.g),ka(S,S.s);else{var $=g.location;S=$.protocol,_=_?_+"."+$.hostname:$.hostname,$=+$.port;var Z=new Ls(null);S&&ji(Z,S),_&&(Z.g=_),$&&ka(Z,$),v&&(Z.l=v),S=Z}return v=d.D,_=d.ya,v&&_&&Fe(S,v,_),Fe(S,"VER",d.la),La(d,S),S}function Jc(d,_,v){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new Qe(new Oi({eb:v})):new Qe(d.pa),_.Ha(d.J),_}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function eu(){}s=eu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Pr(){}Pr.prototype.g=function(d,_){return new on(d,_)};function on(d,_){St.call(this),this.g=new Or(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!F(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!F(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new ms(this)}L(on,St),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){to(this.g)},on.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var v={};v.__data__=d,d=v}else this.u&&(v={},v.__data__=zl(d),d=v);_.i.push(new Eh(_.Ya++,d)),_.G==3&&Lr(_)},on.prototype.N=function(){this.g.l=null,delete this.j,to(this.g),delete this.g,on.aa.N.call(this)};function tu(d){Ei.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const v in _){d=v;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}L(tu,Ei);function nu(){Gn.call(this),this.status=1}L(nu,Gn);function ms(d){this.g=d}L(ms,eu),ms.prototype.ua=function(){Mt(this.g,"a")},ms.prototype.ta=function(d){Mt(this.g,new tu(d))},ms.prototype.sa=function(d){Mt(this.g,new nu)},ms.prototype.ra=function(){Mt(this.g,"b")},Pr.prototype.createWebChannel=Pr.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,eE=function(){return new Pr},Jx=function(){return Ar()},Zx=kn,Gm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Nt.NO_ERROR=0,Nt.TIMEOUT=8,Nt.HTTP_ERROR=6,fd=Nt,Os.COMPLETE="complete",Wx=Os,Lc.EventType=rs,rs.OPEN="a",rs.CLOSE="b",rs.ERROR="c",rs.MESSAGE="d",St.prototype.listen=St.prototype.K,Zo=Lc,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,Xx=Qe}).apply(typeof td<"u"?td:typeof self<"u"?self:typeof window<"u"?window:{});const Jv="@firebase/firestore",e0="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jl="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=new Ag("@firebase/firestore");function dl(){return or.logLevel}function me(s,...e){if(or.logLevel<=Le.DEBUG){const n=e.map(Ng);or.debug(`Firestore (${jl}): ${s}`,...n)}}function di(s,...e){if(or.logLevel<=Le.ERROR){const n=e.map(Ng);or.error(`Firestore (${jl}): ${s}`,...n)}}function xl(s,...e){if(or.logLevel<=Le.WARN){const n=e.map(Ng);or.warn(`Firestore (${jl}): ${s}`,...n)}}function Ng(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(s="Unexpected state"){const e=`FIRESTORE (${jl}) INTERNAL ASSERTION FAILED: `+s;throw di(e),new Error(e)}function Ye(s,e){s||Se()}function Ce(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends ks{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _R{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(tn.UNAUTHENTICATED))}shutdown(){}}class vR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class xR{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0);let a=this.i;const l=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let c=new oi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new oi,e.enqueueRetryable(()=>l(this.currentUser))};const h=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new oi)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ye(typeof a.accessToken=="string"),new tE(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new tn(e)}}class ER{constructor(e,n,a){this.l=e,this.h=n,this.P=a,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class TR{constructor(e,n,a){this.l=e,this.h=n,this.P=a}getToken(){return Promise.resolve(new ER(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class t0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bR{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,wn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0);const a=c=>{c.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.R;return this.R=c.token,me("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>a(c))};const l=c=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new t0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string"),this.R=n.token,new t0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<s;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=AR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<n&&(a+=e.charAt(l[c]%62))}return a}}function Ue(s,e){return s<e?-1:s>e?1:0}function El(s,e,n){return s.length===e.length&&s.every((a,l)=>n(a,e[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=-62135596800,s0=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*s0);return new Dt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<n0)throw new ge(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/s0}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-n0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new Dt(0,0))}static max(){return new Ne(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="__name__";class Es{constructor(e,n,a){n===void 0?n=0:n>e.length&&Se(),a===void 0?a=e.length-n:a>e.length-n&&Se(),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Es.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Es?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let l=0;l<a;l++){const c=Es.compareSegments(e.get(l),n.get(l));if(c!==0)return c}return Math.sign(e.length-n.length)}static compareSegments(e,n){const a=Es.isNumericId(e),l=Es.isNumericId(n);return a&&!l?-1:!a&&l?1:a&&l?Es.extractNumericId(e).compare(Es.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ua.fromString(e.substring(4,e.length-2))}}class nt extends Es{construct(e,n,a){return new nt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new ge(se.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(l=>l.length>0))}return new nt(n)}static emptyPath(){return new nt([])}}const wR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Es{construct(e,n,a){return new Qt(e,n,a)}static isValidIdentifier(e){return wR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===i0}static keyField(){return new Qt([i0])}static fromServerFormat(e){const n=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ge(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let h=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new ge(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ge(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,l+=2}else g==="`"?(h=!h,l++):g!=="."||h?(a+=g,l++):(c(),l++)}if(c(),h)throw new ge(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(nt.fromString(e))}static fromName(e){return new Ee(nt.fromString(e).popFirst(5))}static empty(){return new Ee(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new nt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=-1;function SR(s,e){const n=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Ne.fromTimestamp(a===1e9?new Dt(n+1,0):new Dt(n,a));return new ma(l,Ee.empty(),e)}function NR(s){return new ma(s.readTime,s.key,uc)}class ma{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new ma(Ne.min(),Ee.empty(),uc)}static max(){return new ma(Ne.max(),Ee.empty(),uc)}}function RR(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(s.documentKey,e.documentKey),n!==0?n:Ue(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(s){if(s.code!==se.FAILED_PRECONDITION||s.message!==kR)throw s;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(a,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.reject(n)}static resolve(e){return new ie((n,a)=>{n(e)})}static reject(e){return new ie((n,a)=>{a(e)})}static waitFor(e){return new ie((n,a)=>{let l=0,c=0,h=!1;e.forEach(g=>{++l,g.next(()=>{++c,h&&c===l&&n()},p=>a(p))}),h=!0,c===l&&n()})}static or(e){let n=ie.resolve(!1);for(const a of e)n=n.next(l=>l?ie.resolve(l):a());return n}static forEach(e,n){const a=[];return e.forEach((l,c)=>{a.push(n.call(this,l,c))}),this.waitFor(a)}static mapArray(e,n){return new ie((a,l)=>{const c=e.length,h=new Array(c);let g=0;for(let p=0;p<c;p++){const y=p;n(e[y]).next(E=>{h[y]=E,++g,g===c&&a(h)},E=>l(E))}})}static doWhile(e,n){return new ie((a,l)=>{const c=()=>{e()===!0?n().next(()=>{c()},l):a()};c()})}}function IR(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ol(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.oe(a),this._e=a=>n.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}$d.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg=-1;function Qd(s){return s==null}function Nd(s){return s===0&&1/s==-1/0}function jR(s){return typeof s=="number"&&Number.isInteger(s)&&!Nd(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="";function DR(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=a0(e)),e=OR(s.get(n),e);return a0(e)}function OR(s,e){let n=e;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":n+="";break;case sE:n+="";break;default:n+=c}}return n}function a0(s){return s+sE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Ea(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function iE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return n+a.left.size;l<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nd(this.root,e,this.comparator,!1)}getReverseIterator(){return new nd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nd(this.root,e,this.comparator,!0)}}class nd{constructor(e,n,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?a(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,a,l,c){this.key=e,this.value=n,this.color=a??$t.RED,this.left=l??$t.EMPTY,this.right=c??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,l,c){return new $t(e??this.key,n??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,a),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return $t.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,n,a,l,c){return this}insert(e,n,a){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new l0(this.data.getIterator())}getIteratorFrom(e){return new l0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class l0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new Ot(Qt.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return El(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new aE("Invalid base64 string: "+c):c}}(e);return new Xt(n)}static fromUint8Array(e){const n=function(l){let c="";for(let h=0;h<l.length;++h)c+=String.fromCharCode(l[h]);return c}(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const MR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ga(s){if(Ye(!!s),typeof s=="string"){let e=0;const n=MR.exec(s);if(Ye(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:vt(s.seconds),nanos:vt(s.nanos)}}function vt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function pa(s){return typeof s=="string"?Xt.fromBase64String(s):Xt.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="server_timestamp",lE="__type__",oE="__previous_value__",cE="__local_write_time__";function kg(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[lE])===null||n===void 0?void 0:n.stringValue)===rE}function Yd(s){const e=s.mapValue.fields[oE];return kg(e)?Yd(e):e}function dc(s){const e=ga(s.mapValue.fields[cE].timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,n,a,l,c,h,g,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y}}const Rd="(default)";class hc{constructor(e,n){this.projectId=e,this.database=n||Rd}static empty(){return new hc("","")}get isDefaultDatabase(){return this.database===Rd}isEqual(e){return e instanceof hc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="__type__",VR="__max__",sd={mapValue:{}},dE="__vector__",kd="value";function ya(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?kg(s)?4:UR(s)?9007199254740991:PR(s)?10:11:Se()}function Rs(s,e){if(s===e)return!0;const n=ya(s);if(n!==ya(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return dc(s).isEqual(dc(e));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const h=ga(l.timestampValue),g=ga(c.timestampValue);return h.seconds===g.seconds&&h.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(l,c){return pa(l.bytesValue).isEqual(pa(c.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(l,c){return vt(l.geoPointValue.latitude)===vt(c.geoPointValue.latitude)&&vt(l.geoPointValue.longitude)===vt(c.geoPointValue.longitude)}(s,e);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return vt(l.integerValue)===vt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const h=vt(l.doubleValue),g=vt(c.doubleValue);return h===g?Nd(h)===Nd(g):isNaN(h)&&isNaN(g)}return!1}(s,e);case 9:return El(s.arrayValue.values||[],e.arrayValue.values||[],Rs);case 10:case 11:return function(l,c){const h=l.mapValue.fields||{},g=c.mapValue.fields||{};if(r0(h)!==r0(g))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(g[p]===void 0||!Rs(h[p],g[p])))return!1;return!0}(s,e);default:return Se()}}function fc(s,e){return(s.values||[]).find(n=>Rs(n,e))!==void 0}function Tl(s,e){if(s===e)return 0;const n=ya(s),a=ya(e);if(n!==a)return Ue(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(s.booleanValue,e.booleanValue);case 2:return function(c,h){const g=vt(c.integerValue||c.doubleValue),p=vt(h.integerValue||h.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(s,e);case 3:return o0(s.timestampValue,e.timestampValue);case 4:return o0(dc(s),dc(e));case 5:return Ue(s.stringValue,e.stringValue);case 6:return function(c,h){const g=pa(c),p=pa(h);return g.compareTo(p)}(s.bytesValue,e.bytesValue);case 7:return function(c,h){const g=c.split("/"),p=h.split("/");for(let y=0;y<g.length&&y<p.length;y++){const E=Ue(g[y],p[y]);if(E!==0)return E}return Ue(g.length,p.length)}(s.referenceValue,e.referenceValue);case 8:return function(c,h){const g=Ue(vt(c.latitude),vt(h.latitude));return g!==0?g:Ue(vt(c.longitude),vt(h.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return c0(s.arrayValue,e.arrayValue);case 10:return function(c,h){var g,p,y,E;const A=c.fields||{},w=h.fields||{},I=(g=A[kd])===null||g===void 0?void 0:g.arrayValue,L=(p=w[kd])===null||p===void 0?void 0:p.arrayValue,z=Ue(((y=I==null?void 0:I.values)===null||y===void 0?void 0:y.length)||0,((E=L==null?void 0:L.values)===null||E===void 0?void 0:E.length)||0);return z!==0?z:c0(I,L)}(s.mapValue,e.mapValue);case 11:return function(c,h){if(c===sd.mapValue&&h===sd.mapValue)return 0;if(c===sd.mapValue)return 1;if(h===sd.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),y=h.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let A=0;A<p.length&&A<E.length;++A){const w=Ue(p[A],E[A]);if(w!==0)return w;const I=Tl(g[p[A]],y[E[A]]);if(I!==0)return I}return Ue(p.length,E.length)}(s.mapValue,e.mapValue);default:throw Se()}}function o0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ue(s,e);const n=ga(s),a=ga(e),l=Ue(n.seconds,a.seconds);return l!==0?l:Ue(n.nanos,a.nanos)}function c0(s,e){const n=s.values||[],a=e.values||[];for(let l=0;l<n.length&&l<a.length;++l){const c=Tl(n[l],a[l]);if(c)return c}return Ue(n.length,a.length)}function bl(s){return $m(s)}function $m(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(n){const a=ga(n);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(n){return pa(n).toBase64()}(s.bytesValue):"referenceValue"in s?function(n){return Ee.fromName(n).toString()}(s.referenceValue):"geoPointValue"in s?function(n){return`geo(${n.latitude},${n.longitude})`}(s.geoPointValue):"arrayValue"in s?function(n){let a="[",l=!0;for(const c of n.values||[])l?l=!1:a+=",",a+=$m(c);return a+"]"}(s.arrayValue):"mapValue"in s?function(n){const a=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const h of a)c?c=!1:l+=",",l+=`${h}:${$m(n.fields[h])}`;return l+"}"}(s.mapValue):Se()}function md(s){switch(ya(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yd(s);return e?16+md(e):16;case 5:return 2*s.stringValue.length;case 6:return pa(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((l,c)=>l+md(c),0)}(s.arrayValue);case 10:case 11:return function(a){let l=0;return Ea(a.fields,(c,h)=>{l+=c.length+md(h)}),l}(s.mapValue);default:throw Se()}}function u0(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Qm(s){return!!s&&"integerValue"in s}function Cg(s){return!!s&&"arrayValue"in s}function d0(s){return!!s&&"nullValue"in s}function h0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function gd(s){return!!s&&"mapValue"in s}function PR(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[uE])===null||n===void 0?void 0:n.stringValue)===dE}function nc(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Ea(s.mapValue.fields,(n,a)=>e.mapValue.fields[n]=nc(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nc(s.arrayValue.values[n]);return e}return Object.assign({},s)}function UR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===VR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!gd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nc(n)}setAll(e){let n=Qt.emptyPath(),a={},l=[];e.forEach((h,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,a,l),a={},l=[],n=g.popLast()}h?a[g.lastSegment()]=nc(h):l.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,a,l)}delete(e){const n=this.field(e.popLast());gd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Rs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=n.mapValue.fields[e.get(a)];gd(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,a){Ea(n,(l,c)=>e[l]=c);for(const l of a)delete e[l]}clone(){return new yn(nc(this.value))}}function hE(s){const e=[];return Ea(s.fields,(n,a)=>{const l=new Qt([n]);if(gd(a)){const c=hE(a.mapValue).fields;if(c.length===0)e.push(l);else for(const h of c)e.push(l.child(h))}else e.push(l)}),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n,a,l,c,h,g){this.key=e,this.documentType=n,this.version=a,this.readTime=l,this.createTime=c,this.data=h,this.documentState=g}static newInvalidDocument(e){return new nn(e,0,Ne.min(),Ne.min(),Ne.min(),yn.empty(),0)}static newFoundDocument(e,n,a,l){return new nn(e,1,n,Ne.min(),a,l,0)}static newNoDocument(e,n){return new nn(e,2,n,Ne.min(),Ne.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,Ne.min(),Ne.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n){this.position=e,this.inclusive=n}}function f0(s,e,n){let a=0;for(let l=0;l<s.position.length;l++){const c=e[l],h=s.position[l];if(c.field.isKeyField()?a=Ee.comparator(Ee.fromName(h.referenceValue),n.key):a=Tl(h,n.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function m0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Rs(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n="asc"){this.field=e,this.dir=n}}function BR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{}class wt extends fE{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new zR(e,n,a):n==="array-contains"?new FR(e,a):n==="in"?new GR(e,a):n==="not-in"?new $R(e,a):n==="array-contains-any"?new QR(e,a):new wt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new qR(e,a):new KR(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Tl(n,this.value)):n!==null&&ya(this.value)===ya(n)&&this.matchesComparison(Tl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class es extends fE{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new es(e,n)}matches(e){return mE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function mE(s){return s.op==="and"}function gE(s){return HR(s)&&mE(s)}function HR(s){for(const e of s.filters)if(e instanceof es)return!1;return!0}function Ym(s){if(s instanceof wt)return s.field.canonicalString()+s.op.toString()+bl(s.value);if(gE(s))return s.filters.map(e=>Ym(e)).join(",");{const e=s.filters.map(n=>Ym(n)).join(",");return`${s.op}(${e})`}}function pE(s,e){return s instanceof wt?function(a,l){return l instanceof wt&&a.op===l.op&&a.field.isEqual(l.field)&&Rs(a.value,l.value)}(s,e):s instanceof es?function(a,l){return l instanceof es&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce((c,h,g)=>c&&pE(h,l.filters[g]),!0):!1}(s,e):void Se()}function yE(s){return s instanceof wt?function(n){return`${n.field.canonicalString()} ${n.op} ${bl(n.value)}`}(s):s instanceof es?function(n){return n.op.toString()+" {"+n.getFilters().map(yE).join(" ,")+"}"}(s):"Filter"}class zR extends wt{constructor(e,n,a){super(e,n,a),this.key=Ee.fromName(a.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class qR extends wt{constructor(e,n){super(e,"in",n),this.keys=_E("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class KR extends wt{constructor(e,n){super(e,"not-in",n),this.keys=_E("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function _E(s,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>Ee.fromName(a.referenceValue))}class FR extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cg(n)&&fc(n.arrayValue,this.value)}}class GR extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fc(this.value.arrayValue,n)}}class $R extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!fc(this.value.arrayValue,n)}}class QR extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>fc(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,n=null,a=[],l=[],c=null,h=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=h,this.endAt=g,this.le=null}}function g0(s,e=null,n=[],a=[],l=null,c=null,h=null){return new YR(s,e,n,a,l,c,h)}function Ig(s){const e=Ce(s);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>Ym(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(c){return c.field.canonicalString()+c.dir}(a)).join(","),Qd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>bl(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>bl(a)).join(",")),e.le=n}return e.le}function jg(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!BR(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!pE(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!m0(s.startAt,e.startAt)&&m0(s.endAt,e.endAt)}function Xm(s){return Ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n=null,a=[],l=[],c=null,h="F",g=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=h,this.startAt=g,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function XR(s,e,n,a,l,c,h,g){return new Ml(s,e,n,a,l,c,h,g)}function Dg(s){return new Ml(s)}function p0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function vE(s){return s.collectionGroup!==null}function sc(s){const e=Ce(s);if(e.he===null){e.he=[];const n=new Set;for(const c of e.explicitOrderBy)e.he.push(c),n.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let g=new Ot(Qt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(g=g.add(y.field))})}),g})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.he.push(new mc(c,a))}),n.has(Qt.keyField().canonicalString())||e.he.push(new mc(Qt.keyField(),a))}return e.he}function As(s){const e=Ce(s);return e.Pe||(e.Pe=WR(e,sc(s))),e.Pe}function WR(s,e){if(s.limitType==="F")return g0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new mc(l.field,c)});const n=s.endAt?new Cd(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Cd(s.startAt.position,s.startAt.inclusive):null;return g0(s.path,s.collectionGroup,e,s.filters,s.limit,n,a)}}function Wm(s,e){const n=s.filters.concat([e]);return new Ml(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function Zm(s,e,n){return new Ml(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Xd(s,e){return jg(As(s),As(e))&&s.limitType===e.limitType}function xE(s){return`${Ig(As(s))}|lt:${s.limitType}`}function hl(s){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(l=>yE(l)).join(", ")}]`),Qd(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(l=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(l)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(l=>bl(l)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(l=>bl(l)).join(",")),`Target(${a})`}(As(s))}; limitType=${s.limitType})`}function Wd(s,e){return e.isFoundDocument()&&function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):Ee.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)}(s,e)&&function(a,l){for(const c of sc(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(s,e)&&function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0}(s,e)&&function(a,l){return!(a.startAt&&!function(h,g,p){const y=f0(h,g,p);return h.inclusive?y<=0:y<0}(a.startAt,sc(a),l)||a.endAt&&!function(h,g,p){const y=f0(h,g,p);return h.inclusive?y>=0:y>0}(a.endAt,sc(a),l))}(s,e)}function ZR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function EE(s){return(e,n)=>{let a=!1;for(const l of sc(s)){const c=JR(l,e,n);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function JR(s,e,n){const a=s.field.isKeyField()?Ee.comparator(e.key,n.key):function(c,h,g){const p=h.data.field(c),y=g.data.field(c);return p!==null&&y!==null?Tl(p,y):Se()}(s.field,e,n);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[n]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Ea(this.inner,(n,a)=>{for(const[l,c]of a)e(l,c)})}isEmpty(){return iE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek=new ot(Ee.comparator);function hi(){return ek}const TE=new ot(Ee.comparator);function Jo(...s){let e=TE;for(const n of s)e=e.insert(n.key,n);return e}function bE(s){let e=TE;return s.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function ir(){return ic()}function AE(){return ic()}function ic(){return new gr(s=>s.toString(),(s,e)=>s.isEqual(e))}const tk=new ot(Ee.comparator),nk=new Ot(Ee.comparator);function Ve(...s){let e=nk;for(const n of s)e=e.add(n);return e}const sk=new Ot(Ue);function ik(){return sk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nd(e)?"-0":e}}function wE(s){return{integerValue:""+s}}function ak(s,e){return jR(e)?wE(e):Og(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(){this._=void 0}}function rk(s,e,n){return s instanceof Id?function(l,c){const h={fields:{[lE]:{stringValue:rE},[cE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&kg(c)&&(c=Yd(c)),c&&(h.fields[oE]=c),{mapValue:h}}(n,e):s instanceof gc?NE(s,e):s instanceof pc?RE(s,e):function(l,c){const h=SE(l,c),g=y0(h)+y0(l.Ie);return Qm(h)&&Qm(l.Ie)?wE(g):Og(l.serializer,g)}(s,e)}function lk(s,e,n){return s instanceof gc?NE(s,e):s instanceof pc?RE(s,e):n}function SE(s,e){return s instanceof jd?function(a){return Qm(a)||function(c){return!!c&&"doubleValue"in c}(a)}(e)?e:{integerValue:0}:null}class Id extends Zd{}class gc extends Zd{constructor(e){super(),this.elements=e}}function NE(s,e){const n=kE(e);for(const a of s.elements)n.some(l=>Rs(l,a))||n.push(a);return{arrayValue:{values:n}}}class pc extends Zd{constructor(e){super(),this.elements=e}}function RE(s,e){let n=kE(e);for(const a of s.elements)n=n.filter(l=>!Rs(l,a));return{arrayValue:{values:n}}}class jd extends Zd{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function y0(s){return vt(s.integerValue||s.doubleValue)}function kE(s){return Cg(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function ok(s,e){return s.field.isEqual(e.field)&&function(a,l){return a instanceof gc&&l instanceof gc||a instanceof pc&&l instanceof pc?El(a.elements,l.elements,Rs):a instanceof jd&&l instanceof jd?Rs(a.Ie,l.Ie):a instanceof Id&&l instanceof Id}(s.transform,e.transform)}class ck{constructor(e,n){this.version=e,this.transformResults=n}}class Fn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pd(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Jd{}function CE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Mg(s.key,Fn.none()):new Tc(s.key,s.data,Fn.none());{const n=s.data,a=yn.empty();let l=new Ot(Qt.comparator);for(let c of e.fields)if(!l.has(c)){let h=n.field(c);h===null&&c.length>1&&(c=c.popLast(),h=n.field(c)),h===null?a.delete(c):a.set(c,h),l=l.add(c)}return new Ta(s.key,a,new Sn(l.toArray()),Fn.none())}}function uk(s,e,n){s instanceof Tc?function(l,c,h){const g=l.value.clone(),p=v0(l.fieldTransforms,c,h.transformResults);g.setAll(p),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(s,e,n):s instanceof Ta?function(l,c,h){if(!pd(l.precondition,c))return void c.convertToUnknownDocument(h.version);const g=v0(l.fieldTransforms,c,h.transformResults),p=c.data;p.setAll(IE(l)),p.setAll(g),c.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(s,e,n):function(l,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function ac(s,e,n,a){return s instanceof Tc?function(c,h,g,p){if(!pd(c.precondition,h))return g;const y=c.value.clone(),E=x0(c.fieldTransforms,p,h);return y.setAll(E),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(s,e,n,a):s instanceof Ta?function(c,h,g,p){if(!pd(c.precondition,h))return g;const y=x0(c.fieldTransforms,p,h),E=h.data;return E.setAll(IE(c)),E.setAll(y),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(A=>A.field))}(s,e,n,a):function(c,h,g){return pd(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):g}(s,e,n)}function dk(s,e){let n=null;for(const a of s.fieldTransforms){const l=e.data.field(a.field),c=SE(a.transform,l||null);c!=null&&(n===null&&(n=yn.empty()),n.set(a.field,c))}return n||null}function _0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&El(a,l,(c,h)=>ok(c,h))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Tc extends Jd{constructor(e,n,a,l=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ta extends Jd{constructor(e,n,a,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function IE(s){const e=new Map;return s.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=s.data.field(n);e.set(n,a)}}),e}function v0(s,e,n){const a=new Map;Ye(s.length===n.length);for(let l=0;l<n.length;l++){const c=s[l],h=c.transform,g=e.data.field(c.field);a.set(c.field,lk(h,g,n[l]))}return a}function x0(s,e,n){const a=new Map;for(const l of s){const c=l.transform,h=n.data.field(l.field);a.set(l.field,rk(c,h,e))}return a}class Mg extends Jd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hk extends Jd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,n,a,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&uk(c,e,a[l])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=ac(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=ac(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=AE();return this.mutations.forEach(l=>{const c=e.get(l.key),h=c.overlayedDocument;let g=this.applyToLocalView(h,c.mutatedFields);g=n.has(l.key)?null:g;const p=CE(h,g);p!==null&&a.set(l.key,p),h.isValidDocument()||h.convertToNoDocument(Ne.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&El(this.mutations,e.mutations,(n,a)=>_0(n,a))&&El(this.baseMutations,e.baseMutations,(n,a)=>_0(n,a))}}class Lg{constructor(e,n,a,l){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=l}static from(e,n,a){Ye(e.mutations.length===a.length);let l=function(){return tk}();const c=e.mutations;for(let h=0;h<c.length;h++)l=l.insert(c[h].key,a[h].version);return new Lg(e,n,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,qe;function pk(s){switch(s){case se.OK:return Se();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Se()}}function jE(s){if(s===void 0)return di("GRPC error has no .code"),se.UNKNOWN;switch(s){case At.OK:return se.OK;case At.CANCELLED:return se.CANCELLED;case At.UNKNOWN:return se.UNKNOWN;case At.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case At.INTERNAL:return se.INTERNAL;case At.UNAVAILABLE:return se.UNAVAILABLE;case At.UNAUTHENTICATED:return se.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case At.NOT_FOUND:return se.NOT_FOUND;case At.ALREADY_EXISTS:return se.ALREADY_EXISTS;case At.PERMISSION_DENIED:return se.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case At.ABORTED:return se.ABORTED;case At.OUT_OF_RANGE:return se.OUT_OF_RANGE;case At.UNIMPLEMENTED:return se.UNIMPLEMENTED;case At.DATA_LOSS:return se.DATA_LOSS;default:return Se()}}(qe=At||(At={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=new ua([4294967295,4294967295],0);function E0(s){const e=yk().encode(s),n=new Yx;return n.update(e),new Uint8Array(n.digest())}function T0(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ua([n,a],0),new ua([l,c],0)]}class Vg{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new ec(`Invalid padding: ${n}`);if(a<0)throw new ec(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new ec(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new ec(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ua.fromNumber(this.Ee)}Ae(e,n,a){let l=e.add(n.multiply(ua.fromNumber(a)));return l.compare(_k)===1&&(l=new ua([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=E0(e),[a,l]=T0(n);for(let c=0;c<this.hashCount;c++){const h=this.Ae(a,l,c);if(!this.Re(h))return!1}return!0}static create(e,n,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new Vg(c,l,n);return a.forEach(g=>h.insert(g)),h}insert(e){if(this.Ee===0)return;const n=E0(e),[a,l]=T0(n);for(let c=0;c<this.hashCount;c++){const h=this.Ae(a,l,c);this.Ve(h)}}Ve(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class ec extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n,a,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const l=new Map;return l.set(e,bc.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new eh(Ne.min(),l,new ot(Ue),hi(),Ve())}}class bc{constructor(e,n,a,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new bc(a,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n,a,l){this.me=e,this.removedTargetIds=n,this.key=a,this.fe=l}}class DE{constructor(e,n){this.targetId=e,this.ge=n}}class OE{constructor(e,n,a=Xt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=l}}class b0{constructor(){this.pe=0,this.ye=A0(),this.we=Xt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Ve(),n=Ve(),a=Ve();return this.ye.forEach((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:a=a.add(l);break;default:Se()}}),new bc(this.we,this.be,e,n,a)}Me(){this.Se=!1,this.ye=A0()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ye(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class vk{constructor(e){this.ke=e,this.qe=new Map,this.Qe=hi(),this.$e=id(),this.Ke=id(),this.Ue=new ot(Ue)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const a=this.He(n);switch(e.state){case 0:this.Je(n)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(n);break;case 3:this.Je(n)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),a.Ce(e.resumeToken));break;default:Se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((a,l)=>{this.Je(l)&&n(l)})}Ze(e){const n=e.targetId,a=e.ge.count,l=this.Xe(n);if(l){const c=l.target;if(Xm(c))if(a===0){const h=new Ee(c.path);this.ze(n,h,nn.newNoDocument(h,Ne.min()))}else Ye(a===1);else{const h=this.et(n);if(h!==a){const g=this.tt(e),p=g?this.nt(g,e,h):1;if(p!==0){this.Ye(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,y)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=n;let h,g;try{h=pa(a).toUint8Array()}catch(p){if(p instanceof aE)return xl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Vg(h,l,c)}catch(p){return xl(p instanceof ec?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ee===0?null:g}nt(e,n,a){return n.ge.count===a-this.st(e,n.targetId)?0:2}st(e,n){const a=this.ke.getRemoteKeysForTarget(n);let l=0;return a.forEach(c=>{const h=this.ke.it(),g=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.ze(n,c,null),l++)}),l}ot(e){const n=new Map;this.qe.forEach((c,h)=>{const g=this.Xe(h);if(g){if(c.current&&Xm(g.target)){const p=new Ee(g.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,nn.newNoDocument(p,e))}c.ve&&(n.set(h,c.Fe()),c.Me())}});let a=Ve();this.Ke.forEach((c,h)=>{let g=!0;h.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(c))}),this.Qe.forEach((c,h)=>h.setReadTime(e));const l=new eh(e,n,this.Ue,this.Qe,a);return this.Qe=hi(),this.$e=id(),this.Ke=id(),this.Ue=new ot(Ue),l}Ge(e,n){if(!this.Je(e))return;const a=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,a),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,a){if(!this.Je(e))return;const l=this.He(e);this.ut(e,n)?l.xe(n,1):l.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),a&&(this.Qe=this.Qe.insert(n,a))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new b0,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Ot(Ue),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Ot(Ue),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new b0),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function id(){return new ot(Ee.comparator)}function A0(){return new ot(Ee.comparator)}const xk={asc:"ASCENDING",desc:"DESCENDING"},Ek={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tk={and:"AND",or:"OR"};class bk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jm(s,e){return s.useProto3Json||Qd(e)?e:{value:e}}function Dd(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ME(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Ak(s,e){return Dd(s,e.toTimestamp())}function ws(s){return Ye(!!s),Ne.fromTimestamp(function(n){const a=ga(n);return new Dt(a.seconds,a.nanos)}(s))}function Pg(s,e){return eg(s,e).canonicalString()}function eg(s,e){const n=function(l){return new nt(["projects",l.projectId,"databases",l.database])}(s).child("documents");return e===void 0?n:n.child(e)}function LE(s){const e=nt.fromString(s);return Ye(HE(e)),e}function tg(s,e){return Pg(s.databaseId,e.path)}function Im(s,e){const n=LE(e);if(n.get(1)!==s.databaseId.projectId)throw new ge(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new ge(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new Ee(PE(n))}function VE(s,e){return Pg(s.databaseId,e)}function wk(s){const e=LE(s);return e.length===4?nt.emptyPath():PE(e)}function ng(s){return new nt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function PE(s){return Ye(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function w0(s,e,n){return{name:tg(s,e),fields:n.value.mapValue.fields}}function Sk(s,e){let n;if("targetChange"in e){e.targetChange;const a=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=function(y,E){return y.useProto3Json?(Ye(E===void 0||typeof E=="string"),Xt.fromBase64String(E||"")):(Ye(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Xt.fromUint8Array(E||new Uint8Array))}(s,e.targetChange.resumeToken),h=e.targetChange.cause,g=h&&function(y){const E=y.code===void 0?se.UNKNOWN:jE(y.code);return new ge(E,y.message||"")}(h);n=new OE(a,l,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Im(s,a.document.name),c=ws(a.document.updateTime),h=a.document.createTime?ws(a.document.createTime):Ne.min(),g=new yn({mapValue:{fields:a.document.fields}}),p=nn.newFoundDocument(l,c,h,g),y=a.targetIds||[],E=a.removedTargetIds||[];n=new yd(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Im(s,a.document),c=a.readTime?ws(a.readTime):Ne.min(),h=nn.newNoDocument(l,c),g=a.removedTargetIds||[];n=new yd([],g,h.key,h)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Im(s,a.document),c=a.removedTargetIds||[];n=new yd([],c,l,null)}else{if(!("filter"in e))return Se();{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,h=new gk(l,c),g=a.targetId;n=new DE(g,h)}}return n}function Nk(s,e){let n;if(e instanceof Tc)n={update:w0(s,e.key,e.value)};else if(e instanceof Mg)n={delete:tg(s,e.key)};else if(e instanceof Ta)n={update:w0(s,e.key,e.data),updateMask:Lk(e.fieldMask)};else{if(!(e instanceof hk))return Se();n={verify:tg(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(c,h){const g=h.transform;if(g instanceof Id)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof gc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof pc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof jd)return{fieldPath:h.field.canonicalString(),increment:g.Ie};throw Se()}(0,a))),e.precondition.isNone||(n.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:Ak(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Se()}(s,e.precondition)),n}function Rk(s,e){return s&&s.length>0?(Ye(e!==void 0),s.map(n=>function(l,c){let h=l.updateTime?ws(l.updateTime):ws(c);return h.isEqual(Ne.min())&&(h=ws(c)),new ck(h,l.transformResults||[])}(n,e))):[]}function kk(s,e){return{documents:[VE(s,e.path)]}}function Ck(s,e){const n={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=VE(s,l);const c=function(y){if(y.length!==0)return BE(es.create(y,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const h=function(y){if(y.length!==0)return y.map(E=>function(w){return{field:fl(w.field),direction:Dk(w.dir)}}(E))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const g=Jm(s,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:n,parent:l}}function Ik(s){let e=wk(s.parent);const n=s.structuredQuery,a=n.from?n.from.length:0;let l=null;if(a>0){Ye(a===1);const E=n.from[0];E.allDescendants?l=E.collectionId:e=e.child(E.collectionId)}let c=[];n.where&&(c=function(A){const w=UE(A);return w instanceof es&&gE(w)?w.getFilters():[w]}(n.where));let h=[];n.orderBy&&(h=function(A){return A.map(w=>function(L){return new mc(ml(L.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(w))}(n.orderBy));let g=null;n.limit&&(g=function(A){let w;return w=typeof A=="object"?A.value:A,Qd(w)?null:w}(n.limit));let p=null;n.startAt&&(p=function(A){const w=!!A.before,I=A.values||[];return new Cd(I,w)}(n.startAt));let y=null;return n.endAt&&(y=function(A){const w=!A.before,I=A.values||[];return new Cd(I,w)}(n.endAt)),XR(e,l,h,c,g,"F",p,y)}function jk(s,e){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function UE(s){return s.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=ml(n.unaryFilter.field);return wt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=ml(n.unaryFilter.field);return wt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ml(n.unaryFilter.field);return wt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ml(n.unaryFilter.field);return wt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(s):s.fieldFilter!==void 0?function(n){return wt.create(ml(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(n.fieldFilter.op),n.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(n){return es.create(n.compositeFilter.filters.map(a=>UE(a)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Se()}}(n.compositeFilter.op))}(s):Se()}function Dk(s){return xk[s]}function Ok(s){return Ek[s]}function Mk(s){return Tk[s]}function fl(s){return{fieldPath:s.canonicalString()}}function ml(s){return Qt.fromServerFormat(s.fieldPath)}function BE(s){return s instanceof wt?function(n){if(n.op==="=="){if(h0(n.value))return{unaryFilter:{field:fl(n.field),op:"IS_NAN"}};if(d0(n.value))return{unaryFilter:{field:fl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(h0(n.value))return{unaryFilter:{field:fl(n.field),op:"IS_NOT_NAN"}};if(d0(n.value))return{unaryFilter:{field:fl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fl(n.field),op:Ok(n.op),value:n.value}}}(s):s instanceof es?function(n){const a=n.getFilters().map(l=>BE(l));return a.length===1?a[0]:{compositeFilter:{op:Mk(n.op),filters:a}}}(s):Se()}function Lk(s){const e=[];return s.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function HE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n,a,l,c=Ne.min(),h=Ne.min(),g=Xt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new la(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e){this.Tt=e}}function Pk(s){const e=Ik({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Zm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(){this.Tn=new Bk}addToCollectionParentIndex(e,n){return this.Tn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(ma.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(ma.min())}updateCollectionGroup(e,n,a){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class Bk{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),l=this.index[n]||new Ot(nt.comparator),c=!l.has(a);return this.index[n]=l.add(a),c}has(e){const n=e.lastSegment(),a=e.popLast(),l=this.index[n];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Ot(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zE=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(zE,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Al(0)}static Un(){return new Al(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="LruGarbageCollector",Hk=1048576;function R0([s,e],[n,a]){const l=Ue(s,n);return l===0?Ue(e,a):l}class zk{constructor(e){this.Hn=e,this.buffer=new Ot(R0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();R0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class qk{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){me(N0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ol(n)?me(N0,"Ignoring IndexedDB error during garbage collection: ",n):await Dl(n)}await this.er(3e5)})}}class Kk{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return ie.resolve($d.ae);const a=new zk(n);return this.tr.forEachTarget(e,l=>a.Zn(l.sequenceNumber)).next(()=>this.tr.rr(e,l=>a.Zn(l))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.tr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(S0)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),S0):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let a,l,c,h,g,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,h=Date.now(),this.nthSequenceNumber(e,l))).next(A=>(a=A,g=Date.now(),this.removeTargets(e,a,n))).next(A=>(c=A,p=Date.now(),this.removeOrphanedDocuments(e,a))).next(A=>(y=Date.now(),dl()<=Le.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${l} in `+(g-h)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${A} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A})))}}function Fk(s,e){return new Kk(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(){this.changes=new gr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ie.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,n,a,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(l=>(a=l,this.remoteDocumentCache.getEntry(e,n))).next(l=>(a!==null&&ac(a.mutation,l,Sn.empty(),Dt.now()),l))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,Ve()).next(()=>a))}getLocalViewOfDocuments(e,n,a=Ve()){const l=ir();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,a).next(c=>{let h=Jo();return c.forEach((g,p)=>{h=h.insert(g,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const a=ir();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,Ve()))}populateOverlays(e,n,a){const l=[];return a.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(e,l).next(c=>{c.forEach((h,g)=>{n.set(h,g)})})}computeViews(e,n,a,l){let c=hi();const h=ic(),g=function(){return ic()}();return n.forEach((p,y)=>{const E=a.get(y.key);l.has(y.key)&&(E===void 0||E.mutation instanceof Ta)?c=c.insert(y.key,y):E!==void 0?(h.set(y.key,E.mutation.getFieldMask()),ac(E.mutation,y,E.mutation.getFieldMask(),Dt.now())):h.set(y.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((y,E)=>h.set(y,E)),n.forEach((y,E)=>{var A;return g.set(y,new $k(E,(A=h.get(y))!==null&&A!==void 0?A:null))}),g))}recalculateAndSaveOverlays(e,n){const a=ic();let l=new ot((h,g)=>h-g),c=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const g of h)g.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let E=a.get(p)||Sn.empty();E=g.applyToLocalView(y,E),a.set(p,E);const A=(l.get(g.batchId)||Ve()).add(p);l=l.insert(g.batchId,A)})}).next(()=>{const h=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,E=p.value,A=AE();E.forEach(w=>{if(!c.has(w)){const I=CE(n.get(w),a.get(w));I!==null&&A.set(w,I),c=c.add(w)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,A))}return ie.waitFor(h)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,l){return function(h){return Ee.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,l):this.getDocumentsMatchingCollectionQuery(e,n,a,l)}getNextDocuments(e,n,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,l).next(c=>{const h=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,l-c.size):ie.resolve(ir());let g=uc,p=c;return h.next(y=>ie.forEach(y,(E,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(E)?ie.resolve():this.remoteDocumentCache.getEntry(e,E).next(w=>{p=p.insert(E,w)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,p,y,Ve())).next(E=>({batchId:g,changes:bE(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next(a=>{let l=Jo();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l})}getDocumentsMatchingCollectionGroupQuery(e,n,a,l){const c=n.collectionGroup;let h=Jo();return this.indexManager.getCollectionParents(e,c).next(g=>ie.forEach(g,p=>{const y=function(A,w){return new Ml(w,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,a,l).next(E=>{E.forEach((A,w)=>{h=h.insert(A,w)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,c,l))).next(h=>{c.forEach((p,y)=>{const E=y.getKey();h.get(E)===null&&(h=h.insert(E,nn.newInvalidDocument(E)))});let g=Jo();return h.forEach((p,y)=>{const E=c.get(p);E!==void 0&&ac(E.mutation,y,Sn.empty(),Dt.now()),Wd(n,y)&&(g=g.insert(p,y))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ie.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:ws(l.createTime)}}(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(l){return{name:l.name,query:Pk(l.bundledQuery),readTime:ws(l.readTime)}}(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.overlays=new ot(Ee.comparator),this.Rr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const a=ir();return ie.forEach(n,l=>this.getOverlay(e,l).next(c=>{c!==null&&a.set(l,c)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((l,c)=>{this.Et(e,n,c)}),ie.resolve()}removeOverlaysForBatchId(e,n,a){const l=this.Rr.get(a);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(a)),ie.resolve()}getOverlaysForCollection(e,n,a){const l=ir(),c=n.length+1,h=new Ee(n.child("")),g=this.overlays.getIteratorFrom(h);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>a&&l.set(p.getKey(),p)}return ie.resolve(l)}getOverlaysForCollectionGroup(e,n,a,l){let c=new ot((y,E)=>y-E);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>a){let E=c.get(y.largestBatchId);E===null&&(E=ir(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const g=ir(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>g.set(y,E)),!(g.size()>=l)););return ie.resolve(g)}Et(e,n,a){const l=this.overlays.get(a.key);if(l!==null){const h=this.Rr.get(l.largestBatchId).delete(a.key);this.Rr.set(l.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new mk(n,a));let c=this.Rr.get(n);c===void 0&&(c=Ve(),this.Rr.set(n,c)),this.Rr.set(n,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(){this.Vr=new Ot(zt.mr),this.gr=new Ot(zt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const a=new zt(e,n);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.wr(new zt(e,n))}br(e,n){e.forEach(a=>this.removeReference(a,n))}Sr(e){const n=new Ee(new nt([])),a=new zt(n,e),l=new zt(n,e+1),c=[];return this.gr.forEachInRange([a,l],h=>{this.wr(h),c.push(h.key)}),c}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Ee(new nt([])),a=new zt(n,e),l=new zt(n,e+1);let c=Ve();return this.gr.forEachInRange([a,l],h=>{c=c.add(h.key)}),c}containsKey(e){const n=new zt(e,0),a=this.Vr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class zt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Ee.comparator(e.key,n.key)||Ue(e.Cr,n.Cr)}static pr(e,n){return Ue(e.Cr,n.Cr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Ot(zt.mr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,l){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new fk(c,n,a,l);this.mutationQueue.push(h);for(const g of l)this.Mr=this.Mr.add(new zt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return ie.resolve(h)}lookupMutationBatch(e,n){return ie.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,l=this.Nr(a),c=l<0?0:l;return ie.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Rg:this.Fr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new zt(n,0),l=new zt(n,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([a,l],h=>{const g=this.Or(h.Cr);c.push(g)}),ie.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Ot(Ue);return n.forEach(l=>{const c=new zt(l,0),h=new zt(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,h],g=>{a=a.add(g.Cr)})}),ie.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,l=a.length+1;let c=a;Ee.isDocumentKey(c)||(c=c.child(""));const h=new zt(new Ee(c),0);let g=new Ot(Ue);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(g=g.add(p.Cr)),!0)},h),ie.resolve(this.Br(g))}Br(e){const n=[];return e.forEach(a=>{const l=this.Or(a);l!==null&&n.push(l)}),n}removeMutationBatch(e,n){Ye(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return ie.forEach(n.mutations,l=>{const c=new zt(l.key,n.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,n){const a=new zt(n,0),l=this.Mr.firstAfterOrEqual(a);return ie.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.kr=e,this.docs=function(){return new ot(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,l=this.docs.get(a),c=l?l.size:0,h=this.kr(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return ie.resolve(a?a.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let a=hi();return n.forEach(l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():nn.newInvalidDocument(l))}),ie.resolve(a)}getDocumentsMatchingQuery(e,n,a,l){let c=hi();const h=n.path,g=new Ee(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||RR(NR(E),a)<=0||(l.has(E.key)||Wd(n,E))&&(c=c.insert(E.key,E.mutableCopy()))}return ie.resolve(c)}getAllFromCollectionGroup(e,n,a,l){Se()}qr(e,n){return ie.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new eC(this)}getSize(e){return ie.resolve(this.size)}}class eC extends Gk{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((a,l)=>{l.isValidDocument()?n.push(this.Ir.addEntry(e,l)):this.Ir.removeEntry(a)}),ie.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e){this.persistence=e,this.Qr=new gr(n=>Ig(n),jg),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Ug,this.targetCount=0,this.Ur=Al.Kn()}forEachTarget(e,n){return this.Qr.forEach((a,l)=>n(l)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.$r&&(this.$r=n),ie.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new Al(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.zn(n),ie.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,a){let l=0;const c=[];return this.Qr.forEach((h,g)=>{g.sequenceNumber<=n&&a.get(g.targetId)===null&&(this.Qr.delete(h),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)}),ie.waitFor(c).next(()=>l)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const a=this.Qr.get(n)||null;return ie.resolve(a)}addMatchingKeys(e,n,a){return this.Kr.yr(n,a),ie.resolve()}removeMatchingKeys(e,n,a){this.Kr.br(n,a);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(h=>{c.push(l.markPotentiallyOrphaned(e,h))}),ie.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const a=this.Kr.vr(n);return ie.resolve(a)}containsKey(e,n){return ie.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new $d(0),this.zr=!1,this.zr=!0,this.jr=new Wk,this.referenceDelegate=e(this),this.Hr=new tC(this),this.indexManager=new Uk,this.remoteDocumentCache=function(l){return new Jk(l)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new Vk(n),this.Yr=new Yk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Xk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.Wr[e.toKey()];return a||(a=new Zk(n,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,a){me("MemoryPersistence","Starting transaction:",e);const l=new nC(this.Gr.next());return this.referenceDelegate.Zr(),a(l).next(c=>this.referenceDelegate.Xr(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}ei(e,n){return ie.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,n)))}}class nC extends CR{constructor(e){super(),this.currentSequenceNumber=e}}class Bg{constructor(e){this.persistence=e,this.ti=new Ug,this.ni=null}static ri(e){return new Bg(e)}get ii(){if(this.ni)return this.ni;throw Se()}addReference(e,n,a){return this.ti.addReference(a,n),this.ii.delete(a.toString()),ie.resolve()}removeReference(e,n,a){return this.ti.removeReference(a,n),this.ii.add(a.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ie.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(l=>this.ii.add(l.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(c=>this.ii.add(c.toString()))}).next(()=>a.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.ii,a=>{const l=Ee.fromPath(a);return this.si(e,l).next(c=>{c||n.removeEntry(l,Ne.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(a=>{a?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ie.or([()=>ie.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Od{constructor(e,n){this.persistence=e,this.oi=new gr(a=>DR(a.path),(a,l)=>a.isEqual(l)),this.garbageCollector=Fk(this,n)}static ri(e,n){return new Od(e,n)}Zr(){}Xr(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(l=>a+l))}sr(e){let n=0;return this.rr(e,a=>{n++}).next(()=>n)}rr(e,n){return ie.forEach(this.oi,(a,l)=>this.ar(e,a,l).next(c=>c?ie.resolve():n(l)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.qr(e,h=>this.ar(e,h,n).next(g=>{g||(a++,c.removeEntry(h,Ne.min()))})).next(()=>c.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.oi.set(a,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,a){return this.oi.set(a,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ie.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=md(e.data.value)),n}ar(e,n,a){return ie.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.oi.get(n);return ie.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,n,a,l){this.targetId=e,this.fromCache=n,this.Hi=a,this.Ji=l}static Yi(e,n){let a=Ve(),l=Ve();for(const c of n.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Hg(e,n.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return ZS()?8:IR(sn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,a,l){const c={result:null};return this.rs(e,n).next(h=>{c.result=h}).next(()=>{if(!c.result)return this.ss(e,n,l,a).next(h=>{c.result=h})}).next(()=>{if(c.result)return;const h=new sC;return this._s(e,n,h).next(g=>{if(c.result=g,this.Xi)return this.us(e,n,h,g.size)})}).next(()=>c.result)}us(e,n,a,l){return a.documentReadCount<this.es?(dl()<=Le.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",hl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ie.resolve()):(dl()<=Le.DEBUG&&me("QueryEngine","Query:",hl(n),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ts*l?(dl()<=Le.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",hl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,As(n))):ie.resolve())}rs(e,n){if(p0(n))return ie.resolve(null);let a=As(n);return this.indexManager.getIndexType(e,a).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=Zm(n,null,"F"),a=As(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(c=>{const h=Ve(...c);return this.ns.getDocuments(e,h).next(g=>this.indexManager.getMinOffset(e,a).next(p=>{const y=this.cs(n,g);return this.ls(n,y,h,p.readTime)?this.rs(e,Zm(n,null,"F")):this.hs(e,y,n,p)}))})))}ss(e,n,a,l){return p0(n)||l.isEqual(Ne.min())?ie.resolve(null):this.ns.getDocuments(e,a).next(c=>{const h=this.cs(n,c);return this.ls(n,h,a,l)?ie.resolve(null):(dl()<=Le.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),hl(n)),this.hs(e,h,n,SR(l,uc)).next(g=>g))})}cs(e,n){let a=new Ot(EE(e));return n.forEach((l,c)=>{Wd(e,c)&&(a=a.add(c))}),a}ls(e,n,a,l){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}_s(e,n,a){return dl()<=Le.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",hl(n)),this.ns.getDocumentsMatchingQuery(e,n,ma.min(),a)}hs(e,n,a,l){return this.ns.getDocumentsMatchingQuery(e,a,l).next(c=>(n.forEach(h=>{c=c.insert(h.key,h)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg="LocalStore",aC=3e8;class rC{constructor(e,n,a,l){this.persistence=e,this.Ps=n,this.serializer=l,this.Ts=new ot(Ue),this.Is=new gr(c=>Ig(c),jg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Qk(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function lC(s,e,n,a){return new rC(s,e,n,a)}async function KE(s,e){const n=Ce(s);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let l;return n.mutationQueue.getAllMutationBatches(a).next(c=>(l=c,n.As(e),n.mutationQueue.getAllMutationBatches(a))).next(c=>{const h=[],g=[];let p=Ve();for(const y of l){h.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of c){g.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(a,p).next(y=>({Rs:y,removedBatchIds:h,addedBatchIds:g}))})})}function oC(s,e){const n=Ce(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const l=e.batch.keys(),c=n.ds.newChangeBuffer({trackRemovals:!0});return function(g,p,y,E){const A=y.batch,w=A.keys();let I=ie.resolve();return w.forEach(L=>{I=I.next(()=>E.getEntry(p,L)).next(z=>{const V=y.docVersions.get(L);Ye(V!==null),z.version.compareTo(V)<0&&(A.applyToRemoteDocument(z,y),z.isValidDocument()&&(z.setReadTime(y.commitVersion),E.addEntry(z)))})}),I.next(()=>g.mutationQueue.removeMutationBatch(p,A))}(n,a,e,c).next(()=>c.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let p=Ve();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(a,l))})}function FE(s){const e=Ce(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function cC(s,e){const n=Ce(s),a=e.snapshotVersion;let l=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=n.ds.newChangeBuffer({trackRemovals:!0});l=n.Ts;const g=[];e.targetChanges.forEach((E,A)=>{const w=l.get(A);if(!w)return;g.push(n.Hr.removeMatchingKeys(c,E.removedDocuments,A).next(()=>n.Hr.addMatchingKeys(c,E.addedDocuments,A)));let I=w.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?I=I.withResumeToken(Xt.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):E.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(E.resumeToken,a)),l=l.insert(A,I),function(z,V,B){return z.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=aC?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(w,I,E)&&g.push(n.Hr.updateTargetData(c,I))});let p=hi(),y=Ve();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))}),g.push(uC(c,h,e.documentUpdates).next(E=>{p=E.Vs,y=E.fs})),!a.isEqual(Ne.min())){const E=n.Hr.getLastRemoteSnapshotVersion(c).next(A=>n.Hr.setTargetsMetadata(c,c.currentSequenceNumber,a));g.push(E)}return ie.waitFor(g).next(()=>h.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,p,y)).next(()=>p)}).then(c=>(n.Ts=l,c))}function uC(s,e,n){let a=Ve(),l=Ve();return n.forEach(c=>a=a.add(c)),e.getEntries(s,a).next(c=>{let h=hi();return n.forEach((g,p)=>{const y=c.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(Ne.min())?(e.removeEntry(g,p.readTime),h=h.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),h=h.insert(g,p)):me(zg,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)}),{Vs:h,fs:l}})}function dC(s,e){const n=Ce(s);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=Rg),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function hC(s,e){const n=Ce(s);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let l;return n.Hr.getTargetData(a,e).next(c=>c?(l=c,ie.resolve(l)):n.Hr.allocateTargetId(a).next(h=>(l=new la(e,h,"TargetPurposeListen",a.currentSequenceNumber),n.Hr.addTargetData(a,l).next(()=>l))))}).then(a=>{const l=n.Ts.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(a.targetId,a),n.Is.set(e,a.targetId)),a})}async function sg(s,e,n){const a=Ce(s),l=a.Ts.get(e),c=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",c,h=>a.persistence.referenceDelegate.removeTarget(h,l))}catch(h){if(!Ol(h))throw h;me(zg,`Failed to update sequence numbers for target ${e}: ${h}`)}a.Ts=a.Ts.remove(e),a.Is.delete(l.target)}function k0(s,e,n){const a=Ce(s);let l=Ne.min(),c=Ve();return a.persistence.runTransaction("Execute query","readwrite",h=>function(p,y,E){const A=Ce(p),w=A.Is.get(E);return w!==void 0?ie.resolve(A.Ts.get(w)):A.Hr.getTargetData(y,E)}(a,h,As(e)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(h,g.targetId).next(p=>{c=p})}).next(()=>a.Ps.getDocumentsMatchingQuery(h,e,n?l:Ne.min(),n?c:Ve())).next(g=>(fC(a,ZR(e),g),{documents:g,gs:c})))}function fC(s,e,n){let a=s.Es.get(e)||Ne.min();n.forEach((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)}),s.Es.set(e,a)}class C0{constructor(){this.activeTargetIds=ik()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mC{constructor(){this.ho=new C0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,a){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new C0,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="ConnectivityMonitor";class j0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){me(I0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){me(I0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ad=null;function ig(){return ad===null?ad=function(){return 268435456+Math.round(2147483648*Math.random())}():ad++,"0x"+ad.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="RestConnection",pC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yC{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${a}/databases/${l}`,this.wo=this.databaseId.database===Rd?`project_id=${a}`:`project_id=${a}&database_id=${l}`}bo(e,n,a,l,c){const h=ig(),g=this.So(e,n.toUriEncodedString());me(jm,`Sending RPC '${e}' ${h}:`,g,a);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,l,c),this.vo(e,g,p,a).then(y=>(me(jm,`Received RPC '${e}' ${h}: `,y),y),y=>{throw xl(jm,`RPC '${e}' ${h} failed with error: `,y,"url: ",g,"request:",a),y})}Co(e,n,a,l,c,h){return this.bo(e,n,a,l,c)}Do(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,c)=>e[c]=l),a&&a.headers.forEach((l,c)=>e[c]=l)}So(e,n){const a=pC[e];return`${this.po}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class vC extends yC{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,a,l){const c=ig();return new Promise((h,g)=>{const p=new Xx;p.setWithCredentials(!0),p.listenOnce(Wx.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case fd.NO_ERROR:const E=p.getResponseJson();me(en,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),h(E);break;case fd.TIMEOUT:me(en,`RPC '${e}' ${c} timed out`),g(new ge(se.DEADLINE_EXCEEDED,"Request time out"));break;case fd.HTTP_ERROR:const A=p.getStatus();if(me(en,`RPC '${e}' ${c} failed with status:`,A,"response text:",p.getResponseText()),A>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const I=w==null?void 0:w.error;if(I&&I.status&&I.message){const L=function(V){const B=V.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(B)>=0?B:se.UNKNOWN}(I.status);g(new ge(L,I.message))}else g(new ge(se.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ge(se.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{me(en,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(l);me(en,`RPC '${e}' ${c} sending request:`,l),p.send(n,"POST",y,a,15)})}Wo(e,n,a){const l=ig(),c=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=eE(),g=Jx(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const E=c.join("");me(en,`Creating RPC '${e}' stream ${l}: ${E}`,p);const A=h.createWebChannel(E,p);let w=!1,I=!1;const L=new _C({Fo:V=>{I?me(en,`Not sending because RPC '${e}' stream ${l} is closed:`,V):(w||(me(en,`Opening RPC '${e}' stream ${l} transport.`),A.open(),w=!0),me(en,`RPC '${e}' stream ${l} sending:`,V),A.send(V))},Mo:()=>A.close()}),z=(V,B,F)=>{V.listen(B,G=>{try{F(G)}catch(Y){setTimeout(()=>{throw Y},0)}})};return z(A,Zo.EventType.OPEN,()=>{I||(me(en,`RPC '${e}' stream ${l} transport opened.`),L.Qo())}),z(A,Zo.EventType.CLOSE,()=>{I||(I=!0,me(en,`RPC '${e}' stream ${l} transport closed`),L.Ko())}),z(A,Zo.EventType.ERROR,V=>{I||(I=!0,xl(en,`RPC '${e}' stream ${l} transport errored:`,V),L.Ko(new ge(se.UNAVAILABLE,"The operation could not be completed")))}),z(A,Zo.EventType.MESSAGE,V=>{var B;if(!I){const F=V.data[0];Ye(!!F);const G=F,Y=(G==null?void 0:G.error)||((B=G[0])===null||B===void 0?void 0:B.error);if(Y){me(en,`RPC '${e}' stream ${l} received error:`,Y);const W=Y.status;let le=function(T){const N=At[T];if(N!==void 0)return jE(N)}(W),P=Y.message;le===void 0&&(le=se.INTERNAL,P="Unknown error status: "+W+" with message "+Y.message),I=!0,L.Ko(new ge(le,P)),A.close()}else me(en,`RPC '${e}' stream ${l} received:`,F),L.Uo(F)}}),z(g,Zx.STAT_EVENT,V=>{V.stat===Gm.PROXY?me(en,`RPC '${e}' stream ${l} detected buffering proxy`):V.stat===Gm.NOPROXY&&me(en,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{L.$o()},0),L}}function Dm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(s){return new bk(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,n,a=1e3,l=1.5,c=6e4){this.Ti=e,this.timerId=n,this.Go=a,this.zo=l,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),l=Math.max(0,n-a);l>0&&me("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="PersistentStream";class $E{constructor(e,n,a,l,c,h,g,p){this.Ti=e,this.n_=a,this.r_=l,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new GE(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(di(n.toString()),di("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,l])=>{this.i_===n&&this.V_(a,l)},a=>{e(()=>{const l=new ge(se.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(l)})})}V_(e,n){const a=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{a(()=>this.m_(l))}),this.stream.onMessage(l=>{a(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return me(D0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(me(D0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xC extends $E{constructor(e,n,a,l,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,l,h),this.serializer=c}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=Sk(this.serializer,e),a=function(c){if(!("targetChange"in c))return Ne.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Ne.min():h.readTime?ws(h.readTime):Ne.min()}(e);return this.listener.p_(n,a)}y_(e){const n={};n.database=ng(this.serializer),n.addTarget=function(c,h){let g;const p=h.target;if(g=Xm(p)?{documents:kk(c,p)}:{query:Ck(c,p).ht},g.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){g.resumeToken=ME(c,h.resumeToken);const y=Jm(c,h.expectedCount);y!==null&&(g.expectedCount=y)}else if(h.snapshotVersion.compareTo(Ne.min())>0){g.readTime=Dd(c,h.snapshotVersion.toTimestamp());const y=Jm(c,h.expectedCount);y!==null&&(g.expectedCount=y)}return g}(this.serializer,e);const a=jk(this.serializer,e);a&&(n.labels=a),this.I_(n)}w_(e){const n={};n.database=ng(this.serializer),n.removeTarget=e,this.I_(n)}}class EC extends $E{constructor(e,n,a,l,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,l,h),this.serializer=c}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=Rk(e.writeResults,e.commitTime),a=ws(e.commitTime);return this.listener.v_(a,n)}C_(){const e={};e.database=ng(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>Nk(this.serializer,a))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{}class bC extends TC{constructor(e,n,a,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new ge(se.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.bo(e,eg(n,a),l,c,h)).catch(c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(se.UNKNOWN,c.toString())})}Co(e,n,a,l,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,g])=>this.connection.Co(e,eg(n,a),l,h,g,c)).catch(h=>{throw h.name==="FirebaseError"?(h.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ge(se.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class AC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(di(n),this.N_=!1):me("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr="RemoteStore";class wC{constructor(e,n,a,l,c){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(h=>{a.enqueueAndForget(async()=>{pr(this)&&(me(cr,"Restarting streams for network reachability change."),await async function(p){const y=Ce(p);y.W_.add(4),await Ac(y),y.j_.set("Unknown"),y.W_.delete(4),await nh(y)}(this))})}),this.j_=new AC(a,l)}}async function nh(s){if(pr(s))for(const e of s.G_)await e(!0)}async function Ac(s){for(const e of s.G_)await e(!1)}function QE(s,e){const n=Ce(s);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Gg(n)?Fg(n):Ll(n).c_()&&Kg(n,e))}function qg(s,e){const n=Ce(s),a=Ll(n);n.U_.delete(e),a.c_()&&YE(n,e),n.U_.size===0&&(a.c_()?a.P_():pr(n)&&n.j_.set("Unknown"))}function Kg(s,e){if(s.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ll(s).y_(e)}function YE(s,e){s.H_.Ne(e),Ll(s).w_(e)}function Fg(s){s.H_=new vk({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>s.U_.get(e)||null,it:()=>s.datastore.serializer.databaseId}),Ll(s).start(),s.j_.B_()}function Gg(s){return pr(s)&&!Ll(s).u_()&&s.U_.size>0}function pr(s){return Ce(s).W_.size===0}function XE(s){s.H_=void 0}async function SC(s){s.j_.set("Online")}async function NC(s){s.U_.forEach((e,n)=>{Kg(s,e)})}async function RC(s,e){XE(s),Gg(s)?(s.j_.q_(e),Fg(s)):s.j_.set("Unknown")}async function kC(s,e,n){if(s.j_.set("Online"),e instanceof OE&&e.state===2&&e.cause)try{await async function(l,c){const h=c.cause;for(const g of c.targetIds)l.U_.has(g)&&(await l.remoteSyncer.rejectListen(g,h),l.U_.delete(g),l.H_.removeTarget(g))}(s,e)}catch(a){me(cr,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Md(s,a)}else if(e instanceof yd?s.H_.We(e):e instanceof DE?s.H_.Ze(e):s.H_.je(e),!n.isEqual(Ne.min()))try{const a=await FE(s.localStore);n.compareTo(a)>=0&&await function(c,h){const g=c.H_.ot(h);return g.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=c.U_.get(y);E&&c.U_.set(y,E.withResumeToken(p.resumeToken,h))}}),g.targetMismatches.forEach((p,y)=>{const E=c.U_.get(p);if(!E)return;c.U_.set(p,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),YE(c,p);const A=new la(E.target,p,y,E.sequenceNumber);Kg(c,A)}),c.remoteSyncer.applyRemoteEvent(g)}(s,n)}catch(a){me(cr,"Failed to raise snapshot:",a),await Md(s,a)}}async function Md(s,e,n){if(!Ol(e))throw e;s.W_.add(1),await Ac(s),s.j_.set("Offline"),n||(n=()=>FE(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{me(cr,"Retrying IndexedDB access"),await n(),s.W_.delete(1),await nh(s)})}function WE(s,e){return e().catch(n=>Md(s,n,e))}async function sh(s){const e=Ce(s),n=_a(e);let a=e.K_.length>0?e.K_[e.K_.length-1].batchId:Rg;for(;CC(e);)try{const l=await dC(e.localStore,a);if(l===null){e.K_.length===0&&n.P_();break}a=l.batchId,IC(e,l)}catch(l){await Md(e,l)}ZE(e)&&JE(e)}function CC(s){return pr(s)&&s.K_.length<10}function IC(s,e){s.K_.push(e);const n=_a(s);n.c_()&&n.b_&&n.S_(e.mutations)}function ZE(s){return pr(s)&&!_a(s).u_()&&s.K_.length>0}function JE(s){_a(s).start()}async function jC(s){_a(s).C_()}async function DC(s){const e=_a(s);for(const n of s.K_)e.S_(n.mutations)}async function OC(s,e,n){const a=s.K_.shift(),l=Lg.from(a,e,n);await WE(s,()=>s.remoteSyncer.applySuccessfulWrite(l)),await sh(s)}async function MC(s,e){e&&_a(s).b_&&await async function(a,l){if(function(h){return pk(h)&&h!==se.ABORTED}(l.code)){const c=a.K_.shift();_a(a).h_(),await WE(a,()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l)),await sh(a)}}(s,e),ZE(s)&&JE(s)}async function O0(s,e){const n=Ce(s);n.asyncQueue.verifyOperationInProgress(),me(cr,"RemoteStore received new credentials");const a=pr(n);n.W_.add(3),await Ac(n),a&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await nh(n)}async function LC(s,e){const n=Ce(s);e?(n.W_.delete(2),await nh(n)):e||(n.W_.add(2),await Ac(n),n.j_.set("Unknown"))}function Ll(s){return s.J_||(s.J_=function(n,a,l){const c=Ce(n);return c.M_(),new xC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(s.datastore,s.asyncQueue,{xo:SC.bind(null,s),No:NC.bind(null,s),Lo:RC.bind(null,s),p_:kC.bind(null,s)}),s.G_.push(async e=>{e?(s.J_.h_(),Gg(s)?Fg(s):s.j_.set("Unknown")):(await s.J_.stop(),XE(s))})),s.J_}function _a(s){return s.Y_||(s.Y_=function(n,a,l){const c=Ce(n);return c.M_(),new EC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:jC.bind(null,s),Lo:MC.bind(null,s),D_:DC.bind(null,s),v_:OC.bind(null,s)}),s.G_.push(async e=>{e?(s.Y_.h_(),await sh(s)):(await s.Y_.stop(),s.K_.length>0&&(me(cr,`Stopping write stream with ${s.K_.length} pending writes`),s.K_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n,a,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,l,c){const h=Date.now()+a,g=new $g(e,n,h,l,c);return g.start(a),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qg(s,e){if(di("AsyncQueue",`${e}: ${s}`),Ol(s))return new ge(se.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{static emptySet(e){return new pl(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||Ee.comparator(n.key,a.key):(n,a)=>Ee.comparator(n.key,a.key),this.keyedMap=Jo(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new pl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(){this.Z_=new ot(Ee.comparator)}track(e){const n=e.doc.key,a=this.Z_.get(n);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(n):e.type===1&&a.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Se():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,a)=>{e.push(a)}),e}}class wl{constructor(e,n,a,l,c,h,g,p,y){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,a,l,c){const h=[];return n.forEach(g=>{h.push({type:0,doc:g})}),new wl(e,n,pl.emptySet(n),h,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==a[l].type||!n[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class PC{constructor(){this.queries=L0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,a){const l=Ce(n),c=l.queries;l.queries=L0(),c.forEach((h,g)=>{for(const p of g.ta)p.onError(a)})})(this,new ge(se.ABORTED,"Firestore shutting down"))}}function L0(){return new gr(s=>xE(s),Xd)}async function eT(s,e){const n=Ce(s);let a=3;const l=e.query;let c=n.queries.get(l);c?!c.na()&&e.ra()&&(a=2):(c=new VC,a=e.ra()?0:1);try{switch(a){case 0:c.ea=await n.onListen(l,!0);break;case 1:c.ea=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(h){const g=Qg(h,`Initialization of query '${hl(e.query)}' failed`);return void e.onError(g)}n.queries.set(l,c),c.ta.push(e),e.sa(n.onlineState),c.ea&&e.oa(c.ea)&&Yg(n)}async function tT(s,e){const n=Ce(s),a=e.query;let l=3;const c=n.queries.get(a);if(c){const h=c.ta.indexOf(e);h>=0&&(c.ta.splice(h,1),c.ta.length===0?l=e.ra()?0:1:!c.na()&&e.ra()&&(l=2))}switch(l){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function UC(s,e){const n=Ce(s);let a=!1;for(const l of e){const c=l.query,h=n.queries.get(c);if(h){for(const g of h.ta)g.oa(l)&&(a=!0);h.ea=l}}a&&Yg(n)}function BC(s,e,n){const a=Ce(s),l=a.queries.get(e);if(l)for(const c of l.ta)c.onError(n);a.queries.delete(e)}function Yg(s){s.ia.forEach(e=>{e.next()})}var ag,V0;(V0=ag||(ag={}))._a="default",V0.Cache="cache";class nT{constructor(e,n,a){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new wl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const a=n!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=wl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==ag.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e){this.key=e}}class iT{constructor(e){this.key=e}}class HC{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ve(),this.mutatedKeys=Ve(),this.ya=EE(e),this.wa=new pl(this.ya)}get ba(){return this.fa}Sa(e,n){const a=n?n.Da:new M0,l=n?n.wa:this.wa;let c=n?n.mutatedKeys:this.mutatedKeys,h=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((E,A)=>{const w=l.get(E),I=Wd(this.query,A)?A:null,L=!!w&&this.mutatedKeys.has(w.key),z=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let V=!1;w&&I?w.data.isEqual(I.data)?L!==z&&(a.track({type:3,doc:I}),V=!0):this.va(w,I)||(a.track({type:2,doc:I}),V=!0,(p&&this.ya(I,p)>0||y&&this.ya(I,y)<0)&&(g=!0)):!w&&I?(a.track({type:0,doc:I}),V=!0):w&&!I&&(a.track({type:1,doc:w}),V=!0,(p||y)&&(g=!0)),V&&(I?(h=h.add(I),c=z?c.add(E):c.delete(E)):(h=h.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{wa:h,Da:a,ls:g,mutatedKeys:c}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,l){const c=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((E,A)=>function(I,L){const z=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return z(I)-z(L)}(E.type,A.type)||this.ya(E.doc,A.doc)),this.Ca(a),l=l!=null&&l;const g=n&&!l?this.Fa():[],p=this.pa.size===0&&this.current&&!l?1:0,y=p!==this.ga;return this.ga=p,h.length!==0||y?{snapshot:new wl(this.query,e.wa,c,h,e.mutatedKeys,p===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new M0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ve(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const n=[];return e.forEach(a=>{this.pa.has(a)||n.push(new iT(a))}),this.pa.forEach(a=>{e.has(a)||n.push(new sT(a))}),n}Oa(e){this.fa=e.gs,this.pa=Ve();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return wl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Xg="SyncEngine";class zC{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class qC{constructor(e){this.key=e,this.Ba=!1}}class KC{constructor(e,n,a,l,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new gr(g=>xE(g),Xd),this.qa=new Map,this.Qa=new Set,this.$a=new ot(Ee.comparator),this.Ka=new Map,this.Ua=new Ug,this.Wa={},this.Ga=new Map,this.za=Al.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function FC(s,e,n=!0){const a=uT(s);let l;const c=a.ka.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.Na()):l=await aT(a,e,n,!0),l}async function GC(s,e){const n=uT(s);await aT(n,e,!0,!1)}async function aT(s,e,n,a){const l=await hC(s.localStore,As(e)),c=l.targetId,h=s.sharedClientState.addLocalQueryTarget(c,n);let g;return a&&(g=await $C(s,e,c,h==="current",l.resumeToken)),s.isPrimaryClient&&n&&QE(s.remoteStore,l),g}async function $C(s,e,n,a,l){s.Ha=(A,w,I)=>async function(z,V,B,F){let G=V.view.Sa(B);G.ls&&(G=await k0(z.localStore,V.query,!1).then(({documents:P})=>V.view.Sa(P,G)));const Y=F&&F.targetChanges.get(V.targetId),W=F&&F.targetMismatches.get(V.targetId)!=null,le=V.view.applyChanges(G,z.isPrimaryClient,Y,W);return U0(z,V.targetId,le.Ma),le.snapshot}(s,A,w,I);const c=await k0(s.localStore,e,!0),h=new HC(e,c.gs),g=h.Sa(c.documents),p=bc.createSynthesizedTargetChangeForCurrentChange(n,a&&s.onlineState!=="Offline",l),y=h.applyChanges(g,s.isPrimaryClient,p);U0(s,n,y.Ma);const E=new zC(e,n,h);return s.ka.set(e,E),s.qa.has(n)?s.qa.get(n).push(e):s.qa.set(n,[e]),y.snapshot}async function QC(s,e,n){const a=Ce(s),l=a.ka.get(e),c=a.qa.get(l.targetId);if(c.length>1)return a.qa.set(l.targetId,c.filter(h=>!Xd(h,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await sg(a.localStore,l.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(l.targetId),n&&qg(a.remoteStore,l.targetId),rg(a,l.targetId)}).catch(Dl)):(rg(a,l.targetId),await sg(a.localStore,l.targetId,!0))}async function YC(s,e){const n=Ce(s),a=n.ka.get(e),l=n.qa.get(a.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),qg(n.remoteStore,a.targetId))}async function XC(s,e,n){const a=sI(s);try{const l=await function(h,g){const p=Ce(h),y=Dt.now(),E=g.reduce((I,L)=>I.add(L.key),Ve());let A,w;return p.persistence.runTransaction("Locally write mutations","readwrite",I=>{let L=hi(),z=Ve();return p.ds.getEntries(I,E).next(V=>{L=V,L.forEach((B,F)=>{F.isValidDocument()||(z=z.add(B))})}).next(()=>p.localDocuments.getOverlayedDocuments(I,L)).next(V=>{A=V;const B=[];for(const F of g){const G=dk(F,A.get(F.key).overlayedDocument);G!=null&&B.push(new Ta(F.key,G,hE(G.value.mapValue),Fn.exists(!0)))}return p.mutationQueue.addMutationBatch(I,y,B,g)}).next(V=>{w=V;const B=V.applyToLocalDocumentSet(A,z);return p.documentOverlayCache.saveOverlays(I,V.batchId,B)})}).then(()=>({batchId:w.batchId,changes:bE(A)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),function(h,g,p){let y=h.Wa[h.currentUser.toKey()];y||(y=new ot(Ue)),y=y.insert(g,p),h.Wa[h.currentUser.toKey()]=y}(a,l.batchId,n),await wc(a,l.changes),await sh(a.remoteStore)}catch(l){const c=Qg(l,"Failed to persist write");n.reject(c)}}async function rT(s,e){const n=Ce(s);try{const a=await cC(n.localStore,e);e.targetChanges.forEach((l,c)=>{const h=n.Ka.get(c);h&&(Ye(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?h.Ba=!0:l.modifiedDocuments.size>0?Ye(h.Ba):l.removedDocuments.size>0&&(Ye(h.Ba),h.Ba=!1))}),await wc(n,a,e)}catch(a){await Dl(a)}}function P0(s,e,n){const a=Ce(s);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const l=[];a.ka.forEach((c,h)=>{const g=h.view.sa(e);g.snapshot&&l.push(g.snapshot)}),function(h,g){const p=Ce(h);p.onlineState=g;let y=!1;p.queries.forEach((E,A)=>{for(const w of A.ta)w.sa(g)&&(y=!0)}),y&&Yg(p)}(a.eventManager,e),l.length&&a.La.p_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function WC(s,e,n){const a=Ce(s);a.sharedClientState.updateQueryState(e,"rejected",n);const l=a.Ka.get(e),c=l&&l.key;if(c){let h=new ot(Ee.comparator);h=h.insert(c,nn.newNoDocument(c,Ne.min()));const g=Ve().add(c),p=new eh(Ne.min(),new Map,new ot(Ue),h,g);await rT(a,p),a.$a=a.$a.remove(c),a.Ka.delete(e),Wg(a)}else await sg(a.localStore,e,!1).then(()=>rg(a,e,n)).catch(Dl)}async function ZC(s,e){const n=Ce(s),a=e.batch.batchId;try{const l=await oC(n.localStore,e);oT(n,a,null),lT(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await wc(n,l)}catch(l){await Dl(l)}}async function JC(s,e,n){const a=Ce(s);try{const l=await function(h,g){const p=Ce(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,g).next(A=>(Ye(A!==null),E=A.keys(),p.mutationQueue.removeMutationBatch(y,A))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(a.localStore,e);oT(a,e,n),lT(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await wc(a,l)}catch(l){await Dl(l)}}function lT(s,e){(s.Ga.get(e)||[]).forEach(n=>{n.resolve()}),s.Ga.delete(e)}function oT(s,e,n){const a=Ce(s);let l=a.Wa[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),a.Wa[a.currentUser.toKey()]=l}}function rg(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.qa.get(e))s.ka.delete(a),n&&s.La.Ja(a,n);s.qa.delete(e),s.isPrimaryClient&&s.Ua.Sr(e).forEach(a=>{s.Ua.containsKey(a)||cT(s,a)})}function cT(s,e){s.Qa.delete(e.path.canonicalString());const n=s.$a.get(e);n!==null&&(qg(s.remoteStore,n),s.$a=s.$a.remove(e),s.Ka.delete(n),Wg(s))}function U0(s,e,n){for(const a of n)a instanceof sT?(s.Ua.addReference(a.key,e),eI(s,a)):a instanceof iT?(me(Xg,"Document no longer in limbo: "+a.key),s.Ua.removeReference(a.key,e),s.Ua.containsKey(a.key)||cT(s,a.key)):Se()}function eI(s,e){const n=e.key,a=n.path.canonicalString();s.$a.get(n)||s.Qa.has(a)||(me(Xg,"New document in limbo: "+n),s.Qa.add(a),Wg(s))}function Wg(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const e=s.Qa.values().next().value;s.Qa.delete(e);const n=new Ee(nt.fromString(e)),a=s.za.next();s.Ka.set(a,new qC(n)),s.$a=s.$a.insert(n,a),QE(s.remoteStore,new la(As(Dg(n.path)),a,"TargetPurposeLimboResolution",$d.ae))}}async function wc(s,e,n){const a=Ce(s),l=[],c=[],h=[];a.ka.isEmpty()||(a.ka.forEach((g,p)=>{h.push(a.Ha(p,e,n).then(y=>{var E;if((y||n)&&a.isPrimaryClient){const A=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;a.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(y){l.push(y);const A=Hg.Yi(p.targetId,y);c.push(A)}}))}),await Promise.all(h),a.La.p_(l),await async function(p,y){const E=Ce(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ie.forEach(y,w=>ie.forEach(w.Hi,I=>E.persistence.referenceDelegate.addReference(A,w.targetId,I)).next(()=>ie.forEach(w.Ji,I=>E.persistence.referenceDelegate.removeReference(A,w.targetId,I)))))}catch(A){if(!Ol(A))throw A;me(zg,"Failed to update sequence numbers: "+A)}for(const A of y){const w=A.targetId;if(!A.fromCache){const I=E.Ts.get(w),L=I.snapshotVersion,z=I.withLastLimboFreeSnapshotVersion(L);E.Ts=E.Ts.insert(w,z)}}}(a.localStore,c))}async function tI(s,e){const n=Ce(s);if(!n.currentUser.isEqual(e)){me(Xg,"User change. New user:",e.toKey());const a=await KE(n.localStore,e);n.currentUser=e,function(c,h){c.Ga.forEach(g=>{g.forEach(p=>{p.reject(new ge(se.CANCELLED,h))})}),c.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await wc(n,a.Rs)}}function nI(s,e){const n=Ce(s),a=n.Ka.get(e);if(a&&a.Ba)return Ve().add(a.key);{let l=Ve();const c=n.qa.get(e);if(!c)return l;for(const h of c){const g=n.ka.get(h);l=l.unionWith(g.view.ba)}return l}}function uT(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=rT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WC.bind(null,e),e.La.p_=UC.bind(null,e.eventManager),e.La.Ja=BC.bind(null,e.eventManager),e}function sI(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JC.bind(null,e),e}class Ld{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=th(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return lC(this.persistence,new iC,e.initialUser,this.serializer)}Xa(e){return new qE(Bg.ri,this.serializer)}Za(e){return new mC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ld.provider={build:()=>new Ld};class iI extends Ld{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ye(this.persistence.referenceDelegate instanceof Od);const a=this.persistence.referenceDelegate.garbageCollector;return new qk(a,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new qE(a=>Od.ri(a,n),this.serializer)}}class lg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>P0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=tI.bind(null,this.syncEngine),await LC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new PC}()}createDatastore(e){const n=th(e.databaseInfo.databaseId),a=function(c){return new vC(c)}(e.databaseInfo);return function(c,h,g,p){return new bC(c,h,g,p)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,l,c,h,g){return new wC(a,l,c,h,g)}(this.localStore,this.datastore,e.asyncQueue,n=>P0(this.syncEngine,n,0),function(){return j0.D()?new j0:new gC}())}createSyncEngine(e,n){return function(l,c,h,g,p,y,E){const A=new KC(l,c,h,g,p,y);return E&&(A.ja=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(l){const c=Ce(l);me(cr,"RemoteStore shutting down."),c.W_.add(5),await Ac(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}lg.provider={build:()=>new lg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):di("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="FirestoreClient";class aI{constructor(e,n,a,l,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=l,this.user=tn.UNAUTHENTICATED,this.clientId=nE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,async h=>{me(va,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(a,h=>(me(va,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Qg(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Om(s,e){s.asyncQueue.verifyOperationInProgress(),me(va,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let a=n.initialUser;s.setCredentialChangeListener(async l=>{a.isEqual(l)||(await KE(e.localStore,l),a=l)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function B0(s,e){s.asyncQueue.verifyOperationInProgress();const n=await rI(s);me(va,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener(a=>O0(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,l)=>O0(e.remoteStore,l)),s._onlineComponents=e}async function rI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){me(va,"Using user provided OfflineComponentProvider");try{await Om(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(l){return l.name==="FirebaseError"?l.code===se.FAILED_PRECONDITION||l.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;xl("Error using user provided cache. Falling back to memory cache: "+n),await Om(s,new Ld)}}else me(va,"Using default OfflineComponentProvider"),await Om(s,new iI(void 0));return s._offlineComponents}async function hT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(me(va,"Using user provided OnlineComponentProvider"),await B0(s,s._uninitializedComponentsProvider._online)):(me(va,"Using default OnlineComponentProvider"),await B0(s,new lg))),s._onlineComponents}function lI(s){return hT(s).then(e=>e.syncEngine)}async function fT(s){const e=await hT(s),n=e.eventManager;return n.onListen=FC.bind(null,e.syncEngine),n.onUnlisten=QC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=GC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=YC.bind(null,e.syncEngine),n}function oI(s,e,n={}){const a=new oi;return s.asyncQueue.enqueueAndForget(async()=>function(c,h,g,p,y){const E=new dT({next:w=>{E.su(),h.enqueueAndForget(()=>tT(c,A));const I=w.docs.has(g);!I&&w.fromCache?y.reject(new ge(se.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&w.fromCache&&p&&p.source==="server"?y.reject(new ge(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),A=new nT(Dg(g.path),E,{includeMetadataChanges:!0,Ta:!0});return eT(c,A)}(await fT(s),s.asyncQueue,e,n,a)),a.promise}function cI(s,e,n={}){const a=new oi;return s.asyncQueue.enqueueAndForget(async()=>function(c,h,g,p,y){const E=new dT({next:w=>{E.su(),h.enqueueAndForget(()=>tT(c,A)),w.fromCache&&p.source==="server"?y.reject(new ge(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),A=new nT(g,E,{includeMetadataChanges:!0,Ta:!0});return eT(c,A)}(await fT(s),s.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(s,e,n){if(!n)throw new ge(se.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function uI(s,e,n,a){if(e===!0&&a===!0)throw new ge(se.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function z0(s){if(!Ee.isDocumentKey(s))throw new ge(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function q0(s){if(Ee.isDocumentKey(s))throw new ge(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function ih(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Se()}function ts(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ge(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ih(s);throw new ge(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="firestore.googleapis.com",K0=!0;class F0{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pT,this.ssl=K0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:K0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Hk)throw new ge(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mT((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ge(se.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ge(se.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ge(se.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,l){return a.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ah{constructor(e,n,a,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new _R;switch(a.type){case"firstParty":return new TR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ge(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=H0.get(n);a&&(me("ComponentProvider","Removing Datastore"),H0.delete(n),a.terminate())}(this),Promise.resolve()}}function dI(s,e,n,a={}){var l;const c=(s=ts(s,ah))._getSettings(),h=Object.assign(Object.assign({},c),{emulatorOptions:s._getEmulatorOptions()}),g=`${e}:${n}`;c.host!==pT&&c.host!==g&&xl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:g,ssl:!1,emulatorOptions:a});if(!rr(p,h)&&(s._setSettings(p),a.mockUserToken)){let y,E;if(typeof a.mockUserToken=="string")y=a.mockUserToken,E=tn.MOCK_USER;else{y=qx(a.mockUserToken,(l=s._app)===null||l===void 0?void 0:l.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new ge(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new tn(A)}s._authCredentials=new vR(new tE(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new yr(this.firestore,e,this._query)}}class hn{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}}class da extends yr{constructor(e,n,a){super(e,n,Dg(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new Ee(e))}withConverter(e){return new da(this.firestore,e,this._path)}}function Zn(s,e,...n){if(s=it(s),gT("collection","path",e),s instanceof ah){const a=nt.fromString(e,...n);return q0(a),new da(s,null,a)}{if(!(s instanceof hn||s instanceof da))throw new ge(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(nt.fromString(e,...n));return q0(a),new da(s.firestore,null,a)}}function Yt(s,e,...n){if(s=it(s),arguments.length===1&&(e=nE.newId()),gT("doc","path",e),s instanceof ah){const a=nt.fromString(e,...n);return z0(a),new hn(s,null,new Ee(a))}{if(!(s instanceof hn||s instanceof da))throw new ge(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(nt.fromString(e,...n));return z0(a),new hn(s.firestore,s instanceof da?s.converter:null,new Ee(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="AsyncQueue";class $0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new GE(this,"async_queue_retry"),this.bu=()=>{const a=Dm();a&&me(G0,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.Su=e;const n=Dm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Dm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new oi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ol(e))throw e;me(G0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const l=function(h){let g=h.message||"";return h.stack&&(g=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),g}(a);throw di("INTERNAL UNHANDLED ERROR: ",l),a}).then(a=>(this.pu=!1,a))));return this.Su=n,n}enqueueAfterDelay(e,n,a){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const l=$g.createAndSchedule(this,e,n,a,c=>this.Fu(c));return this.fu.push(l),l}Du(){this.gu&&Se()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class _r extends ah{constructor(e,n,a,l){super(e,n,a,l),this.type="firestore",this._queue=new $0,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $0(e),this._firestoreClient=void 0,await e}}}function hI(s,e){const n=typeof s=="object"?s:Sg(),a=typeof s=="string"?s:Rd,l=Gd(n,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Bx("firestore");c&&dI(l,...c)}return l}function Zg(s){if(s._terminated)throw new ge(se.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||fI(s),s._firestoreClient}function fI(s){var e,n,a;const l=s._freezeSettings(),c=function(g,p,y,E){return new LR(g,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,mT(E.experimentalLongPollingOptions),E.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,l);s._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=l.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),s._firestoreClient=new aI(s._authCredentials,s._appCheckCredentials,s._queue,c,s._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sl(Xt.fromBase64String(e))}catch(n){throw new ge(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Sl(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=/^__.*__$/;class gI{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Ta(e,this.data,this.fieldMask,n,this.fieldTransforms):new Tc(e,this.data,n,this.fieldTransforms)}}class yT{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new Ta(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _T(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class np{constructor(e,n,a,l,c,h){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new np(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.ku({path:a,Qu:!1});return l.$u(e),l}Ku(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.ku({path:a,Qu:!1});return l.Bu(),l}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Vd(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(_T(this.Lu)&&mI.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class pI{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||th(e)}ju(e,n,a,l=!1){return new np({Lu:e,methodName:n,zu:a,path:Qt.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lh(s){const e=s._freezeSettings(),n=th(s._databaseId);return new pI(s._databaseId,!!e.ignoreUndefinedProperties,n)}function vT(s,e,n,a,l,c={}){const h=s.ju(c.merge||c.mergeFields?2:0,e,n,l);sp("Data must be an object, but it was:",h,a);const g=xT(a,h);let p,y;if(c.merge)p=new Sn(h.fieldMask),y=h.fieldTransforms;else if(c.mergeFields){const E=[];for(const A of c.mergeFields){const w=og(e,A,n);if(!h.contains(w))throw new ge(se.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);TT(E,w)||E.push(w)}p=new Sn(E),y=h.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,y=h.fieldTransforms;return new gI(new yn(g),p,y)}class oh extends Jg{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof oh}}function yI(s,e,n,a){const l=s.ju(1,e,n);sp("Data must be an object, but it was:",l,a);const c=[],h=yn.empty();Ea(a,(p,y)=>{const E=ip(e,p,n);y=it(y);const A=l.Ku(E);if(y instanceof oh)c.push(E);else{const w=Sc(y,A);w!=null&&(c.push(E),h.set(E,w))}});const g=new Sn(c);return new yT(h,g,l.fieldTransforms)}function _I(s,e,n,a,l,c){const h=s.ju(1,e,n),g=[og(e,a,n)],p=[l];if(c.length%2!=0)throw new ge(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)g.push(og(e,c[w])),p.push(c[w+1]);const y=[],E=yn.empty();for(let w=g.length-1;w>=0;--w)if(!TT(y,g[w])){const I=g[w];let L=p[w];L=it(L);const z=h.Ku(I);if(L instanceof oh)y.push(I);else{const V=Sc(L,z);V!=null&&(y.push(I),E.set(I,V))}}const A=new Sn(y);return new yT(E,A,h.fieldTransforms)}function vI(s,e,n,a=!1){return Sc(n,s.ju(a?4:3,e))}function Sc(s,e){if(ET(s=it(s)))return sp("Unsupported field value:",e,s),xT(s,e);if(s instanceof Jg)return function(a,l){if(!_T(l.Lu))throw l.Wu(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,l){const c=[];let h=0;for(const g of a){let p=Sc(g,l.Uu(h));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),h++}return{arrayValue:{values:c}}}(s,e)}return function(a,l){if((a=it(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return ak(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Dt.fromDate(a);return{timestampValue:Dd(l.serializer,c)}}if(a instanceof Dt){const c=new Dt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Dd(l.serializer,c)}}if(a instanceof ep)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Sl)return{bytesValue:ME(l.serializer,a._byteString)};if(a instanceof hn){const c=l.databaseId,h=a.firestore._databaseId;if(!h.isEqual(c))throw l.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Pg(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof tp)return function(h,g){return{mapValue:{fields:{[uE]:{stringValue:dE},[kd]:{arrayValue:{values:h.toArray().map(y=>{if(typeof y!="number")throw g.Wu("VectorValues must only contain numeric values.");return Og(g.serializer,y)})}}}}}}(a,l);throw l.Wu(`Unsupported field value: ${ih(a)}`)}(s,e)}function xT(s,e){const n={};return iE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ea(s,(a,l)=>{const c=Sc(l,e.qu(a));c!=null&&(n[a]=c)}),{mapValue:{fields:n}}}function ET(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Dt||s instanceof ep||s instanceof Sl||s instanceof hn||s instanceof Jg||s instanceof tp)}function sp(s,e,n){if(!ET(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const a=ih(n);throw a==="an object"?e.Wu(s+" a custom object"):e.Wu(s+" "+a)}}function og(s,e,n){if((e=it(e))instanceof rh)return e._internalPath;if(typeof e=="string")return ip(s,e);throw Vd("Field path arguments must be of type string or ",s,!1,void 0,n)}const xI=new RegExp("[~\\*/\\[\\]]");function ip(s,e,n){if(e.search(xI)>=0)throw Vd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new rh(...e.split("."))._internalPath}catch{throw Vd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Vd(s,e,n,a,l){const c=a&&!a.isEmpty(),h=l!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||h)&&(p+=" (found",c&&(p+=` in field ${a}`),h&&(p+=` in document ${l}`),p+=")"),new ge(se.INVALID_ARGUMENT,g+s+p)}function TT(s,e){return s.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,n,a,l,c){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new EI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ch("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class EI extends bT{data(){return super.data()}}function ch(s,e){return typeof e=="string"?ip(s,e):e instanceof rh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ge(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ap{}class AT extends ap{}function sr(s,e,...n){let a=[];e instanceof ap&&a.push(e),a=a.concat(n),function(c){const h=c.filter(p=>p instanceof rp).length,g=c.filter(p=>p instanceof uh).length;if(h>1||h>0&&g>0)throw new ge(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const l of a)s=l._apply(s);return s}class uh extends AT{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new uh(e,n,a)}_apply(e){const n=this._parse(e);return wT(e._query,n),new yr(e.firestore,e.converter,Wm(e._query,n))}_parse(e){const n=lh(e.firestore);return function(c,h,g,p,y,E,A){let w;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ge(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){X0(A,E);const L=[];for(const z of A)L.push(Y0(p,c,z));w={arrayValue:{values:L}}}else w=Y0(p,c,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||X0(A,E),w=vI(g,h,A,E==="in"||E==="not-in");return wt.create(y,E,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function rd(s,e,n){const a=e,l=ch("where",s);return uh._create(l,a,n)}class rp extends ap{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new rp(e,n)}_parse(e){const n=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return n.length===1?n[0]:es.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(l,c){let h=l;const g=c.getFlattenedFilters();for(const p of g)wT(h,p),h=Wm(h,p)}(e._query,n),new yr(e.firestore,e.converter,Wm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class lp extends AT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new lp(e,n)}_apply(e){const n=function(l,c,h){if(l.startAt!==null)throw new ge(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new ge(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mc(c,h)}(e._query,this._field,this._direction);return new yr(e.firestore,e.converter,function(l,c){const h=l.explicitOrderBy.concat([c]);return new Ml(l.path,l.collectionGroup,h,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,n))}}function Q0(s,e="asc"){const n=e,a=ch("orderBy",s);return lp._create(a,n)}function Y0(s,e,n){if(typeof(n=it(n))=="string"){if(n==="")throw new ge(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vE(e)&&n.indexOf("/")!==-1)throw new ge(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(nt.fromString(n));if(!Ee.isDocumentKey(a))throw new ge(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return u0(s,new Ee(a))}if(n instanceof hn)return u0(s,n._key);throw new ge(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ih(n)}.`)}function X0(s,e){if(!Array.isArray(s)||s.length===0)throw new ge(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wT(s,e){const n=function(l,c){for(const h of l)for(const g of h.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(s.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ge(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class bI{convertValue(e,n="none"){switch(ya(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(pa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return Ea(e,(l,c)=>{a[l]=this.convertValue(c,n)}),a}convertVectorValue(e){var n,a,l;const c=(l=(a=(n=e.fields)===null||n===void 0?void 0:n[kd].arrayValue)===null||a===void 0?void 0:a.values)===null||l===void 0?void 0:l.map(h=>vt(h.doubleValue));return new tp(c)}convertGeoPoint(e){return new ep(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Yd(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(dc(e));default:return null}}convertTimestamp(e){const n=ga(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=nt.fromString(e);Ye(HE(a));const l=new hc(a.get(1),a.get(3)),c=new Ee(a.popFirst(5));return l.isEqual(n)||di(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(s,e,n){let a;return a=s?s.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class NT extends bT{constructor(e,n,a,l,c,h){super(e,n,a,l,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _d(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(ch("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class _d extends NT{data(e={}){return super.data(e)}}class AI{constructor(e,n,a,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new tc(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new _d(this._firestore,this._userDataWriter,a.key,a,new tc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let h=0;return l._snapshot.docChanges.map(g=>{const p=new _d(l._firestore,l._userDataWriter,g.doc.key,g.doc,new tc(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new _d(l._firestore,l._userDataWriter,g.doc.key,g.doc,new tc(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,E=-1;return g.type!==0&&(y=h.indexOf(g.doc.key),h=h.delete(g.doc.key)),g.type!==1&&(h=h.add(g.doc),E=h.indexOf(g.doc.key)),{type:wI(g.type),doc:p,oldIndex:y,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function wI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(s){s=ts(s,hn);const e=ts(s.firestore,_r);return oI(Zg(e),s._key).then(n=>NI(e,s,n))}class RT extends bI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function ur(s){s=ts(s,yr);const e=ts(s.firestore,_r),n=Zg(e),a=new RT(e);return TI(s._query),cI(n,s._query).then(l=>new AI(e,a,s,l))}function xa(s,e,n){s=ts(s,hn);const a=ts(s.firestore,_r),l=ST(s.converter,e);return dh(a,[vT(lh(a),"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,Fn.none())])}function SI(s,e,n,...a){s=ts(s,hn);const l=ts(s.firestore,_r),c=lh(l);let h;return h=typeof(e=it(e))=="string"||e instanceof rh?_I(c,"updateDoc",s._key,e,n,a):yI(c,"updateDoc",s._key,e),dh(l,[h.toMutation(s._key,Fn.exists(!0))])}function op(s){return dh(ts(s.firestore,_r),[new Mg(s._key,Fn.none())])}function kT(s,e){const n=ts(s.firestore,_r),a=Yt(s),l=ST(s.converter,e);return dh(n,[vT(lh(s.firestore),"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,Fn.exists(!1))]).then(()=>a)}function dh(s,e){return function(a,l){const c=new oi;return a.asyncQueue.enqueueAndForget(async()=>XC(await lI(a),l,c)),c.promise}(Zg(s),e)}function NI(s,e,n){const a=n.docs.get(e._key),l=new RT(s);return new NT(s,l,e._key,a,new tc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(l){jl=l})(mr),lr(new fa("firestore",(a,{instanceIdentifier:l,options:c})=>{const h=a.getProvider("app").getImmediate(),g=new _r(new xR(a.getProvider("auth-internal")),new bR(h,a.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ge(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hc(y.options.projectId,E)}(h,l),h);return c=Object.assign({useFetchStreams:n},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),bs(Jv,e0,e),bs(Jv,e0,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="firebasestorage.googleapis.com",IT="storageBucket",RI=2*60*1e3,kI=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt extends ks{constructor(e,n,a=0){super(Mm(e),`Firebase Storage: ${n} (${Mm(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Mm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gt;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gt||(gt={}));function Mm(s){return"storage/"+s}function cp(){const s="An unknown error occurred, please check the error payload for server response.";return new pt(gt.UNKNOWN,s)}function CI(s){return new pt(gt.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function II(s){return new pt(gt.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function jI(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new pt(gt.UNAUTHENTICATED,s)}function DI(){return new pt(gt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function OI(s){return new pt(gt.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function MI(){return new pt(gt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function LI(){return new pt(gt.CANCELED,"User canceled the upload/download.")}function VI(s){return new pt(gt.INVALID_URL,"Invalid URL '"+s+"'.")}function PI(s){return new pt(gt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function UI(){return new pt(gt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+IT+"' property when initializing the app?")}function BI(){return new pt(gt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function HI(){return new pt(gt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function zI(s){return new pt(gt.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function cg(s){return new pt(gt.INVALID_ARGUMENT,s)}function jT(){return new pt(gt.APP_DELETED,"The Firebase app was deleted.")}function qI(s){return new pt(gt.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function rc(s,e){return new pt(gt.INVALID_FORMAT,"String does not match format '"+s+"': "+e)}function Yo(s){throw new pt(gt.INTERNAL_ERROR,"Internal error: "+s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let a;try{a=Nn.makeFromUrl(e,n)}catch{return new Nn(e,"")}if(a.path==="")return a;throw PI(e)}static makeFromUrl(e,n){let a=null;const l="([A-Za-z0-9.\\-_]+)";function c(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}const h="(/(.*))?$",g=new RegExp("^gs://"+l+h,"i"),p={bucket:1,path:3};function y(Y){Y.path_=decodeURIComponent(Y.path)}const E="v[A-Za-z0-9_]+",A=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",I=new RegExp(`^https?://${A}/${E}/b/${l}/o${w}`,"i"),L={bucket:1,path:3},z=n===CT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,V="([^?#]*)",B=new RegExp(`^https?://${z}/${l}/${V}`,"i"),G=[{regex:g,indices:p,postModify:c},{regex:I,indices:L,postModify:y},{regex:B,indices:{bucket:1,path:2},postModify:y}];for(let Y=0;Y<G.length;Y++){const W=G[Y],le=W.regex.exec(e);if(le){const P=le[W.indices.bucket];let k=le[W.indices.path];k||(k=""),a=new Nn(P,k),W.postModify(a);break}}if(a==null)throw VI(e);return a}}class KI{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(s,e,n){let a=1,l=null,c=null,h=!1,g=0;function p(){return g===2}let y=!1;function E(...V){y||(y=!0,e.apply(null,V))}function A(V){l=setTimeout(()=>{l=null,s(I,p())},V)}function w(){c&&clearTimeout(c)}function I(V,...B){if(y){w();return}if(V){w(),E.call(null,V,...B);return}if(p()||h){w(),E.call(null,V,...B);return}a<64&&(a*=2);let G;g===1?(g=2,G=0):G=(a+Math.random())*1e3,A(G)}let L=!1;function z(V){L||(L=!0,w(),!y&&(l!==null?(V||(g=2),clearTimeout(l),A(0)):V||(g=1)))}return A(0),c=setTimeout(()=>{h=!0,z(!0)},n),z}function GI(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(s){return s!==void 0}function QI(s){return typeof s=="object"&&!Array.isArray(s)}function up(s){return typeof s=="string"||s instanceof String}function W0(s){return dp()&&s instanceof Blob}function dp(){return typeof Blob<"u"}function Z0(s,e,n,a){if(a<e)throw cg(`Invalid value for '${s}'. Expected ${e} or greater.`);if(a>n)throw cg(`Invalid value for '${s}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(s,e,n){let a=e;return n==null&&(a=`https://${e}`),`${n}://${a}/v0${s}`}function DT(s){const e=encodeURIComponent;let n="?";for(const a in s)if(s.hasOwnProperty(a)){const l=e(a)+"="+e(s[a]);n=n+l+"&"}return n=n.slice(0,-1),n}var ar;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(ar||(ar={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(s,e){const n=s>=500&&s<600,l=[408,429].indexOf(s)!==-1,c=e.indexOf(s)!==-1;return n||l||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,n,a,l,c,h,g,p,y,E,A,w=!0){this.url_=e,this.method_=n,this.headers_=a,this.body_=l,this.successCodes_=c,this.additionalRetryCodes_=h,this.callback_=g,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=E,this.connectionFactory_=A,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,L)=>{this.resolve_=I,this.reject_=L,this.start_()})}start_(){const e=(a,l)=>{if(l){a(!1,new ld(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const h=g=>{const p=g.loaded,y=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&c.addUploadProgressListener(h),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(h),this.pendingConnection_=null;const g=c.getErrorCode()===ar.NO_ERROR,p=c.getStatus();if(!g||YI(p,this.additionalRetryCodes_)&&this.retry){const E=c.getErrorCode()===ar.ABORT;a(!1,new ld(!1,null,E));return}const y=this.successCodes_.indexOf(p)!==-1;a(!0,new ld(y,c))})},n=(a,l)=>{const c=this.resolve_,h=this.reject_,g=l.connection;if(l.wasSuccessCode)try{const p=this.callback_(g,g.getResponse());$I(p)?c(p):c()}catch(p){h(p)}else if(g!==null){const p=cp();p.serverResponse=g.getErrorText(),this.errorCallback_?h(this.errorCallback_(g,p)):h(p)}else if(l.canceled){const p=this.appDelete_?jT():LI();h(p)}else{const p=MI();h(p)}};this.canceled_?n(!1,new ld(!1,null,!0)):this.backoffId_=FI(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&GI(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ld{constructor(e,n,a){this.wasSuccessCode=e,this.connection=n,this.canceled=!!a}}function WI(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function ZI(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function JI(s,e){e&&(s["X-Firebase-GMPID"]=e)}function ej(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function tj(s,e,n,a,l,c,h=!0){const g=DT(s.urlParams),p=s.url+g,y=Object.assign({},s.headers);return JI(y,e),WI(y,n),ZI(y,c),ej(y,a),new XI(p,s.method,y,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,l,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function sj(...s){const e=nj();if(e!==void 0){const n=new e;for(let a=0;a<s.length;a++)n.append(s[a]);return n.getBlob()}else{if(dp())return new Blob(s);throw new pt(gt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function ij(s,e,n){return s.webkitSlice?s.webkitSlice(e,n):s.mozSlice?s.mozSlice(e,n):s.slice?s.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aj(s){if(typeof atob>"u")throw zI("base-64");return atob(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Lm{constructor(e,n){this.data=e,this.contentType=n||null}}function rj(s,e){switch(s){case Ts.RAW:return new Lm(OT(e));case Ts.BASE64:case Ts.BASE64URL:return new Lm(MT(s,e));case Ts.DATA_URL:return new Lm(oj(e),cj(e))}throw cp()}function OT(s){const e=[];for(let n=0;n<s.length;n++){let a=s.charCodeAt(n);if(a<=127)e.push(a);else if(a<=2047)e.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(n<s.length-1&&(s.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const c=a,h=s.charCodeAt(++n);a=65536|(c&1023)<<10|h&1023,e.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?e.push(239,191,189):e.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(e)}function lj(s){let e;try{e=decodeURIComponent(s)}catch{throw rc(Ts.DATA_URL,"Malformed data URL.")}return OT(e)}function MT(s,e){switch(s){case Ts.BASE64:{const l=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(l||c)throw rc(s,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case Ts.BASE64URL:{const l=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(l||c)throw rc(s,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=aj(e)}catch(l){throw l.message.includes("polyfill")?l:rc(s,"Invalid character found")}const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a}class LT{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw rc(Ts.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=n[1]||null;a!=null&&(this.base64=uj(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=e.substring(e.indexOf(",")+1)}}function oj(s){const e=new LT(s);return e.base64?MT(Ts.BASE64,e.rest):lj(e.rest)}function cj(s){return new LT(s).contentType}function uj(s,e){return s.length>=e.length?s.substring(s.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n){let a=0,l="";W0(e)?(this.data_=e,a=e.size,l=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),a=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),a=e.length),this.size_=a,this.type_=l}size(){return this.size_}type(){return this.type_}slice(e,n){if(W0(this.data_)){const a=this.data_,l=ij(a,e,n);return l===null?null:new na(l)}else{const a=new Uint8Array(this.data_.buffer,e,n-e);return new na(a,!0)}}static getBlob(...e){if(dp()){const n=e.map(a=>a instanceof na?a.data_:a);return new na(sj.apply(null,n))}else{const n=e.map(h=>up(h)?rj(Ts.RAW,h).data:h.data_);let a=0;n.forEach(h=>{a+=h.byteLength});const l=new Uint8Array(a);let c=0;return n.forEach(h=>{for(let g=0;g<h.length;g++)l[c++]=h[g]}),new na(l,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(s){let e;try{e=JSON.parse(s)}catch{return null}return QI(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function hj(s,e){const n=e.split("/").filter(a=>a.length>0).join("/");return s.length===0?n:s+"/"+n}function PT(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fj(s,e){return e}class dn{constructor(e,n,a,l){this.server=e,this.local=n||e,this.writable=!!a,this.xform=l||fj}}let od=null;function mj(s){return!up(s)||s.length<2?s:PT(s)}function UT(){if(od)return od;const s=[];s.push(new dn("bucket")),s.push(new dn("generation")),s.push(new dn("metageneration")),s.push(new dn("name","fullPath",!0));function e(c,h){return mj(h)}const n=new dn("name");n.xform=e,s.push(n);function a(c,h){return h!==void 0?Number(h):h}const l=new dn("size");return l.xform=a,s.push(l),s.push(new dn("timeCreated")),s.push(new dn("updated")),s.push(new dn("md5Hash",null,!0)),s.push(new dn("cacheControl",null,!0)),s.push(new dn("contentDisposition",null,!0)),s.push(new dn("contentEncoding",null,!0)),s.push(new dn("contentLanguage",null,!0)),s.push(new dn("contentType",null,!0)),s.push(new dn("metadata","customMetadata",!0)),od=s,od}function gj(s,e){function n(){const a=s.bucket,l=s.fullPath,c=new Nn(a,l);return e._makeStorageReference(c)}Object.defineProperty(s,"ref",{get:n})}function pj(s,e,n){const a={};a.type="file";const l=n.length;for(let c=0;c<l;c++){const h=n[c];a[h.local]=h.xform(a,e[h.server])}return gj(a,s),a}function BT(s,e,n){const a=VT(e);return a===null?null:pj(s,a,n)}function yj(s,e,n,a){const l=VT(e);if(l===null||!up(l.downloadTokens))return null;const c=l.downloadTokens;if(c.length===0)return null;const h=encodeURIComponent;return c.split(",").map(y=>{const E=s.bucket,A=s.fullPath,w="/b/"+h(E)+"/o/"+h(A),I=hh(w,n,a),L=DT({alt:"media",token:y});return I+L})[0]}function _j(s,e){const n={},a=e.length;for(let l=0;l<a;l++){const c=e[l];c.writable&&(n[c.server]=s[c.local])}return JSON.stringify(n)}class hp{constructor(e,n,a,l){this.url=e,this.method=n,this.handler=a,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(s){if(!s)throw cp()}function vj(s,e){function n(a,l){const c=BT(s,l,e);return HT(c!==null),c}return n}function xj(s,e){function n(a,l){const c=BT(s,l,e);return HT(c!==null),yj(c,l,s.host,s._protocol)}return n}function zT(s){function e(n,a){let l;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?l=DI():l=jI():n.getStatus()===402?l=II(s.bucket):n.getStatus()===403?l=OI(s.path):l=a,l.status=n.getStatus(),l.serverResponse=a.serverResponse,l}return e}function qT(s){const e=zT(s);function n(a,l){let c=e(a,l);return a.getStatus()===404&&(c=CI(s.path)),c.serverResponse=l.serverResponse,c}return n}function Ej(s,e,n){const a=e.fullServerUrl(),l=hh(a,s.host,s._protocol),c="GET",h=s.maxOperationRetryTime,g=new hp(l,c,xj(s,n),h);return g.errorHandler=qT(e),g}function Tj(s,e){const n=e.fullServerUrl(),a=hh(n,s.host,s._protocol),l="DELETE",c=s.maxOperationRetryTime;function h(p,y){}const g=new hp(a,l,h,c);return g.successCodes=[200,204],g.errorHandler=qT(e),g}function bj(s,e){return s&&s.contentType||e&&e.type()||"application/octet-stream"}function Aj(s,e,n){const a=Object.assign({},n);return a.fullPath=s.path,a.size=e.size(),a.contentType||(a.contentType=bj(null,e)),a}function wj(s,e,n,a,l){const c=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function g(){let G="";for(let Y=0;Y<2;Y++)G=G+Math.random().toString().slice(2);return G}const p=g();h["Content-Type"]="multipart/related; boundary="+p;const y=Aj(e,a,l),E=_j(y,n),A="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+p+`\r
Content-Type: `+y.contentType+`\r
\r
`,w=`\r
--`+p+"--",I=na.getBlob(A,a,w);if(I===null)throw BI();const L={name:y.fullPath},z=hh(c,s.host,s._protocol),V="POST",B=s.maxUploadRetryTime,F=new hp(z,V,vj(s,n),B);return F.urlParams=L,F.headers=h,F.body=I.uploadData(),F.errorHandler=zT(e),F}class Sj{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ar.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ar.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ar.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,a,l){if(this.sent_)throw Yo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Yo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Yo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Yo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Yo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Nj extends Sj{initXhr(){this.xhr_.responseType="text"}}function fp(){return new Nj}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n){this._service=e,n instanceof Nn?this._location=n:this._location=Nn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new dr(e,n)}get root(){const e=new Nn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return PT(this._location.path)}get storage(){return this._service}get parent(){const e=dj(this._location.path);if(e===null)return null;const n=new Nn(this._location.bucket,e);return new dr(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw qI(e)}}function Rj(s,e,n){s._throwIfRoot("uploadBytes");const a=wj(s.storage,s._location,UT(),new na(e,!0),n);return s.storage.makeRequestWithTokens(a,fp).then(l=>({metadata:l,ref:s}))}function kj(s){s._throwIfRoot("getDownloadURL");const e=Ej(s.storage,s._location,UT());return s.storage.makeRequestWithTokens(e,fp).then(n=>{if(n===null)throw HI();return n})}function Cj(s){s._throwIfRoot("deleteObject");const e=Tj(s.storage,s._location);return s.storage.makeRequestWithTokens(e,fp)}function Ij(s,e){const n=hj(s._location.path,e),a=new Nn(s._location.bucket,n);return new dr(s.storage,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(s){return/^[A-Za-z]+:\/\//.test(s)}function Dj(s,e){return new dr(s,e)}function KT(s,e){if(s instanceof mp){const n=s;if(n._bucket==null)throw UI();const a=new dr(n,n._bucket);return e!=null?KT(a,e):a}else return e!==void 0?Ij(s,e):s}function Oj(s,e){if(e&&jj(e)){if(s instanceof mp)return Dj(s,e);throw cg("To use ref(service, url), the first argument must be a Storage instance.")}else return KT(s,e)}function J0(s,e){const n=e==null?void 0:e[IT];return n==null?null:Nn.makeFromBucketSpec(n,s)}function Mj(s,e,n,a={}){s.host=`${e}:${n}`,s._protocol="http";const{mockUserToken:l}=a;l&&(s._overrideAuthToken=typeof l=="string"?l:qx(l,s.app.options.projectId))}class mp{constructor(e,n,a,l,c){this.app=e,this._authProvider=n,this._appCheckProvider=a,this._url=l,this._firebaseVersion=c,this._bucket=null,this._host=CT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=RI,this._maxUploadRetryTime=kI,this._requests=new Set,l!=null?this._bucket=Nn.makeFromBucketSpec(l,this._host):this._bucket=J0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Nn.makeFromBucketSpec(this._url,e):this._bucket=J0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Z0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Z0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new dr(this,e)}_makeRequest(e,n,a,l,c=!0){if(this._deleted)return new KI(jT());{const h=tj(e,this._appId,a,l,n,this._firebaseVersion,c);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[a,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,a,l).getPromise()}}const ex="@firebase/storage",tx="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="storage";function Nc(s,e,n){return s=it(s),Rj(s,e,n)}function fh(s){return s=it(s),kj(s)}function mh(s){return s=it(s),Cj(s)}function fi(s,e){return s=it(s),Oj(s,e)}function GT(s=Sg(),e){s=it(s);const a=Gd(s,FT).getImmediate({identifier:e}),l=Bx("storage");return l&&Lj(a,...l),a}function Lj(s,e,n,a={}){Mj(s,e,n,a)}function Vj(s,{instanceIdentifier:e}){const n=s.getProvider("app").getImmediate(),a=s.getProvider("auth-internal"),l=s.getProvider("app-check-internal");return new mp(n,a,l,e,mr)}function Pj(){lr(new fa(FT,Vj,"PUBLIC").setMultipleInstances(!0)),bs(ex,tx,""),bs(ex,tx,"esm2017")}Pj();function gp(s,e){var n={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&e.indexOf(a)<0&&(n[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(s);l<a.length;l++)e.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(s,a[l])&&(n[a[l]]=s[a[l]]);return n}function $T(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Uj=$T,QT=new xc("auth","Firebase",$T());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd=new Ag("@firebase/auth");function Bj(s,...e){Pd.logLevel<=Le.WARN&&Pd.warn(`Auth (${mr}): ${s}`,...e)}function vd(s,...e){Pd.logLevel<=Le.ERROR&&Pd.error(`Auth (${mr}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(s,...e){throw pp(s,...e)}function Ss(s,...e){return pp(s,...e)}function YT(s,e,n){const a=Object.assign(Object.assign({},Uj()),{[e]:n});return new xc("auth","Firebase",a).create(e,{appName:s.name})}function ci(s){return YT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pp(s,...e){if(typeof s!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(n,...a)}return QT.create(s,...e)}function we(s,e,...n){if(!s)throw pp(e,...n)}function ii(s){const e="INTERNAL ASSERTION FAILED: "+s;throw vd(e),new Error(e)}function mi(s,e){s||ii(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function Hj(){return nx()==="http:"||nx()==="https:"}function nx(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Hj()||YS()||"connection"in navigator)?navigator.onLine:!0}function qj(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n){this.shortDelay=e,this.longDelay=n,mi(n>e,"Short delay should be less than long delay!"),this.isMobile=GS()||XS()}get(){return zj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(s,e){mi(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=new Rc(3e4,6e4);function ba(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function yi(s,e,n,a,l={}){return WT(s,l,async()=>{let c={},h={};a&&(e==="GET"?h=a:c={body:JSON.stringify(a)});const g=Ec(Object.assign({key:s.config.apiKey},h)).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const y=Object.assign({method:e,headers:p},c);return QS()||(y.referrerPolicy="no-referrer"),XT.fetch()(ZT(s,s.config.apiHost,n,g),y)})}async function WT(s,e,n){s._canInitEmulator=!1;const a=Object.assign(Object.assign({},Kj),e);try{const l=new $j(s),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw cd(s,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const g=c.ok?h.errorMessage:h.error.message,[p,y]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw cd(s,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw cd(s,"email-already-in-use",h);if(p==="USER_DISABLED")throw cd(s,"user-disabled",h);const E=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw YT(s,E,y);ns(s,E)}}catch(l){if(l instanceof ks)throw l;ns(s,"network-request-failed",{message:String(l)})}}async function kc(s,e,n,a,l={}){const c=await yi(s,e,n,a,l);return"mfaPendingCredential"in c&&ns(s,"multi-factor-auth-required",{_serverResponse:c}),c}function ZT(s,e,n,a){const l=`${e}${n}?${a}`;return s.config.emulator?yp(s.config,l):`${s.config.apiScheme}://${l}`}function Gj(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $j{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Ss(this.auth,"network-request-failed")),Fj.get())})}}function cd(s,e,n){const a={appName:s.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const l=Ss(s,e,a);return l.customData._tokenResponse=n,l}function sx(s){return s!==void 0&&s.enterprise!==void 0}class Qj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Gj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Yj(s,e){return yi(s,"GET","/v2/recaptchaConfig",ba(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xj(s,e){return yi(s,"POST","/v1/accounts:delete",e)}async function JT(s,e){return yi(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Wj(s,e=!1){const n=it(s),a=await n.getIdToken(e),l=_p(a);we(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,h=c==null?void 0:c.sign_in_provider;return{claims:l,token:a,authTime:lc(Vm(l.auth_time)),issuedAtTime:lc(Vm(l.iat)),expirationTime:lc(Vm(l.exp)),signInProvider:h||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Vm(s){return Number(s)*1e3}function _p(s){const[e,n,a]=s.split(".");if(e===void 0||n===void 0||a===void 0)return vd("JWT malformed, contained fewer than 3 sections"),null;try{const l=Px(n);return l?JSON.parse(l):(vd("Failed to decode base64 JWT payload"),null)}catch(l){return vd("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function ix(s){const e=_p(s);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(s,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof ks&&Zj(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function Zj({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=lc(this.lastLoginAt),this.creationTime=lc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ud(s){var e;const n=s.auth,a=await s.getIdToken(),l=await Nl(s,JT(n,{idToken:a}));we(l==null?void 0:l.users.length,n,"internal-error");const c=l.users[0];s._notifyReloadListener(c);const h=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?eb(c.providerUserInfo):[],g=t1(s.providerData,h),p=s.isAnonymous,y=!(s.email&&c.passwordHash)&&!(g!=null&&g.length),E=p?y:!1,A={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new dg(c.createdAt,c.lastLoginAt),isAnonymous:E};Object.assign(s,A)}async function e1(s){const e=it(s);await Ud(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function t1(s,e){return[...s.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function eb(s){return s.map(e=>{var{providerId:n}=e,a=gp(e,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n1(s,e){const n=await WT(s,{},async()=>{const a=Ec({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,h=ZT(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",XT.fetch()(h,{method:"POST",headers:g,body:a})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function s1(s,e){return yi(s,"POST","/v2/accounts:revokeToken",ba(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ix(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=ix(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:l,expiresIn:c}=await n1(e,n);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:l,expirationTime:c}=n,h=new yl;return a&&(we(typeof a=="string","internal-error",{appName:e}),h.refreshToken=a),l&&(we(typeof l=="string","internal-error",{appName:e}),h.accessToken=l),c&&(we(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yl,this.toJSON())}_performRefresh(){return ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ta(s,e){we(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ai{constructor(e){var{uid:n,auth:a,stsTokenManager:l}=e,c=gp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new dg(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const n=await Nl(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Wj(this,e)}reload(){return e1(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ai(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Ud(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wn(this.auth.app))return Promise.reject(ci(this.auth));const e=await this.getIdToken();return await Nl(this,Xj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var a,l,c,h,g,p,y,E;const A=(a=n.displayName)!==null&&a!==void 0?a:void 0,w=(l=n.email)!==null&&l!==void 0?l:void 0,I=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,L=(h=n.photoURL)!==null&&h!==void 0?h:void 0,z=(g=n.tenantId)!==null&&g!==void 0?g:void 0,V=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,B=(y=n.createdAt)!==null&&y!==void 0?y:void 0,F=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:G,emailVerified:Y,isAnonymous:W,providerData:le,stsTokenManager:P}=n;we(G&&P,e,"internal-error");const k=yl.fromJSON(this.name,P);we(typeof G=="string",e,"internal-error"),ta(A,e.name),ta(w,e.name),we(typeof Y=="boolean",e,"internal-error"),we(typeof W=="boolean",e,"internal-error"),ta(I,e.name),ta(L,e.name),ta(z,e.name),ta(V,e.name),ta(B,e.name),ta(F,e.name);const T=new ai({uid:G,auth:e,email:w,emailVerified:Y,displayName:A,isAnonymous:W,photoURL:L,phoneNumber:I,tenantId:z,stsTokenManager:k,createdAt:B,lastLoginAt:F});return le&&Array.isArray(le)&&(T.providerData=le.map(N=>Object.assign({},N))),V&&(T._redirectEventId=V),T}static async _fromIdTokenResponse(e,n,a=!1){const l=new yl;l.updateFromServerResponse(n);const c=new ai({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Ud(c),c}static async _fromGetAccountInfoResponse(e,n,a){const l=n.users[0];we(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?eb(l.providerUserInfo):[],h=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new yl;g.updateFromIdToken(a);const p=new ai({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:h}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new dg(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=new Map;function ri(s){mi(s instanceof Function,"Expected a class definition");let e=ax.get(s);return e?(mi(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,ax.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}tb.type="NONE";const rx=tb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(s,e,n){return`firebase:${s}:${e}:${n}`}class _l{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=xd(this.userKey,l.apiKey,c),this.fullPersistenceKey=xd("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ai._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new _l(ri(rx),e,a);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||ri(rx);const h=xd(a,e.config.apiKey,e.name);let g=null;for(const y of n)try{const E=await y._get(h);if(E){const A=ai._fromJSON(e,E);y!==c&&(g=A),c=y;break}}catch{}const p=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new _l(c,e,a):(c=p[0],g&&await c._set(h,g.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(h)}catch{}})),new _l(c,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ab(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lb(e))return"Blackberry";if(ob(e))return"Webos";if(sb(e))return"Safari";if((e.includes("chrome/")||ib(e))&&!e.includes("edge/"))return"Chrome";if(rb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function nb(s=sn()){return/firefox\//i.test(s)}function sb(s=sn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ib(s=sn()){return/crios\//i.test(s)}function ab(s=sn()){return/iemobile/i.test(s)}function rb(s=sn()){return/android/i.test(s)}function lb(s=sn()){return/blackberry/i.test(s)}function ob(s=sn()){return/webos/i.test(s)}function vp(s=sn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function i1(s=sn()){var e;return vp(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function a1(){return WS()&&document.documentMode===10}function cb(s=sn()){return vp(s)||rb(s)||ob(s)||lb(s)||/windows phone/i.test(s)||ab(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(s,e=[]){let n;switch(s){case"Browser":n=lx(sn());break;case"Worker":n=`${lx(sn())}-${s}`;break;default:n=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mr}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=c=>new Promise((h,g)=>{try{const p=e(c);h(p)}catch(p){g(p)}});a.onAbort=n,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l1(s,e={}){return yi(s,"GET","/v2/passwordPolicy",ba(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=6;class c1{constructor(e){var n,a,l,c;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=h.minPasswordLength)!==null&&n!==void 0?n:o1,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,a,l,c,h,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,n,a,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ox(this),this.idTokenSubscription=new ox(this),this.beforeStateQueue=new r1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ri(n)),this._initializationPromise=this.queue(async()=>{var a,l;if(!this._deleted&&(this.persistenceManager=await _l.create(this,e),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await JT(this,{idToken:e}),a=await ai._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(wn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(g,g))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let l=a,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===g)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(h){l=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ud(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wn(this.app))return Promise.reject(ci(this));const n=e?it(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wn(this.app)?Promise.reject(ci(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wn(this.app)?Promise.reject(ci(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await l1(this),n=new c1(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xc("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await s1(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ri(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await _l.create(this,[ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let h=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(g,this,"internal-error"),g.then(()=>{h||c(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,a,l);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ub(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var e;if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Bj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function vr(s){return it(s)}class ox{constructor(e){this.auth=e,this.observer=null,this.addObserver=aN(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function d1(s){gh=s}function db(s){return gh.loadJS(s)}function h1(){return gh.recaptchaEnterpriseScript}function f1(){return gh.gapiScript}function m1(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class g1{constructor(){this.enterprise=new p1}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class p1{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const y1="recaptcha-enterprise",hb="NO_RECAPTCHA";class _1{constructor(e){this.type=y1,this.auth=vr(e)}async verify(e="verify",n=!1){async function a(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,g)=>{Yj(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const y=new Qj(p);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,h(y.siteKey)}}).catch(p=>{g(p)})})}function l(c,h,g){const p=window.grecaptcha;sx(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(y=>{h(y)}).catch(()=>{h(hb)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new g1().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{a(this.auth).then(g=>{if(!n&&sx(window.grecaptcha))l(g,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=h1();p.length!==0&&(p+=g),db(p).then(()=>{l(g,c,h)}).catch(y=>{h(y)})}}).catch(g=>{h(g)})})}}async function cx(s,e,n,a=!1,l=!1){const c=new _1(s);let h;if(l)h=hb;else try{h=await c.verify(n)}catch{h=await c.verify(n,!0)}const g=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,y=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return a?Object.assign(g,{captchaResp:h}):Object.assign(g,{captchaResponse:h}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function hg(s,e,n,a,l){var c;if(!((c=s._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await cx(s,e,n,n==="getOobCode");return a(s,h)}else return a(s,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await cx(s,e,n,n==="getOobCode");return a(s,g)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(s,e){const n=Gd(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(rr(c,e??{}))return l;ns(l,"already-initialized")}return n.initialize({options:e})}function x1(s,e){const n=(e==null?void 0:e.persistence)||[],a=(Array.isArray(n)?n:[n]).map(ri);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function E1(s,e,n){const a=vr(s);we(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=fb(e),{host:h,port:g}=T1(e),p=g===null?"":`:${g}`,y={url:`${c}//${h}${p}/`},E=Object.freeze({host:h,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){we(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),we(rr(y,a.config.emulator)&&rr(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,b1()}function fb(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function T1(s){const e=fb(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:ux(a.substr(c.length+1))}}else{const[c,h]=a.split(":");return{host:c,port:ux(h)}}}function ux(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function b1(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ii("not implemented")}_getIdTokenResponse(e){return ii("not implemented")}_linkToIdToken(e,n){return ii("not implemented")}_getReauthenticationResolver(e){return ii("not implemented")}}async function A1(s,e){return yi(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w1(s,e){return kc(s,"POST","/v1/accounts:signInWithPassword",ba(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S1(s,e){return kc(s,"POST","/v1/accounts:signInWithEmailLink",ba(s,e))}async function N1(s,e){return kc(s,"POST","/v1/accounts:signInWithEmailLink",ba(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends xp{constructor(e,n,a,l=null){super("password",a),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new yc(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new yc(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hg(e,n,"signInWithPassword",w1);case"emailLink":return S1(e,{email:this._email,oobCode:this._password});default:ns(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hg(e,a,"signUpPassword",A1);case"emailLink":return N1(e,{idToken:n,email:this._email,oobCode:this._password});default:ns(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vl(s,e){return kc(s,"POST","/v1/accounts:signInWithIdp",ba(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="http://localhost";class hr extends xp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new hr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ns("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l}=n,c=gp(n,["providerId","signInMethod"]);if(!a||!l)return null;const h=new hr(a,l);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return vl(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,vl(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vl(e,n)}buildRequest(){const e={requestUri:R1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ec(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function C1(s){const e=Xo(Wo(s)).link,n=e?Xo(Wo(e)).deep_link_id:null,a=Xo(Wo(s)).deep_link_id;return(a?Xo(Wo(a)).link:null)||a||n||e||s}class Ep{constructor(e){var n,a,l,c,h,g;const p=Xo(Wo(e)),y=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(a=p.oobCode)!==null&&a!==void 0?a:null,A=k1((l=p.mode)!==null&&l!==void 0?l:null);we(y&&E&&A,"argument-error"),this.apiKey=y,this.operation=A,this.code=E,this.continueUrl=(c=p.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(g=p.tenantId)!==null&&g!==void 0?g:null}static parseLink(e){const n=C1(e);try{return new Ep(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(){this.providerId=Pl.PROVIDER_ID}static credential(e,n){return yc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=Ep.parseLink(n);return we(a,"argument-error"),yc._fromEmailAndCode(e,a.code,a.tenantId)}}Pl.PROVIDER_ID="password";Pl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc extends mb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa extends Cc{constructor(){super("facebook.com")}static credential(e){return hr._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sa.credential(e.oauthAccessToken)}catch{return null}}}sa.FACEBOOK_SIGN_IN_METHOD="facebook.com";sa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends Cc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return hr._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return ia.credential(n,a)}catch{return null}}}ia.GOOGLE_SIGN_IN_METHOD="google.com";ia.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends Cc{constructor(){super("github.com")}static credential(e){return hr._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return aa.credential(e.oauthAccessToken)}catch{return null}}}aa.GITHUB_SIGN_IN_METHOD="github.com";aa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra extends Cc{constructor(){super("twitter.com")}static credential(e,n){return hr._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return ra.credential(n,a)}catch{return null}}}ra.TWITTER_SIGN_IN_METHOD="twitter.com";ra.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I1(s,e){return kc(s,"POST","/v1/accounts:signUp",ba(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,l=!1){const c=await ai._fromIdTokenResponse(e,a,l),h=dx(a);return new fr({user:c,providerId:h,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const l=dx(a);return new fr({user:e,providerId:l,_tokenResponse:a,operationType:n})}}function dx(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd extends ks{constructor(e,n,a,l){var c;super(n.code,n.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Bd.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,l){return new Bd(e,n,a,l)}}function gb(s,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Bd._fromErrorAndOperation(s,c,e,a):c})}async function j1(s,e,n=!1){const a=await Nl(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return fr._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D1(s,e,n=!1){const{auth:a}=s;if(wn(a.app))return Promise.reject(ci(a));const l="reauthenticate";try{const c=await Nl(s,gb(a,l,e,s),n);we(c.idToken,a,"internal-error");const h=_p(c.idToken);we(h,a,"internal-error");const{sub:g}=h;return we(s.uid===g,a,"user-mismatch"),fr._forOperation(s,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&ns(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pb(s,e,n=!1){if(wn(s.app))return Promise.reject(ci(s));const a="signIn",l=await gb(s,a,e),c=await fr._fromIdTokenResponse(s,a,l);return n||await s._updateCurrentUser(c.user),c}async function O1(s,e){return pb(vr(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yb(s){const e=vr(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function M1(s,e,n){if(wn(s.app))return Promise.reject(ci(s));const a=vr(s),h=await hg(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",I1).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&yb(s),p}),g=await fr._fromIdTokenResponse(a,"signIn",h);return await a._updateCurrentUser(g.user),g}function L1(s,e,n){return wn(s.app)?Promise.reject(ci(s)):O1(it(s),Pl.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&yb(s),a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V1(s,e){return yi(s,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P1(s,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const a=it(s),c={idToken:await a.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},h=await Nl(a,V1(a.auth,c));a.displayName=h.displayName||null,a.photoURL=h.photoUrl||null;const g=a.providerData.find(({providerId:p})=>p==="password");g&&(g.displayName=a.displayName,g.photoURL=a.photoURL),await a._updateTokensIfNecessary(h)}function U1(s,e,n,a){return it(s).onIdTokenChanged(e,n,a)}function B1(s,e,n){return it(s).beforeAuthStateChanged(e,n)}function H1(s,e,n,a){return it(s).onAuthStateChanged(e,n,a)}function z1(s){return it(s).signOut()}const Hd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hd,"1"),this.storage.removeItem(Hd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=1e3,K1=10;class vb extends _b{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),l=this.localCache[n];a!==l&&e(n,l,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,g,p)=>{this.notifyListeners(h,p)});return}const a=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const h=this.storage.getItem(a);!n&&this.localCache[a]===h||this.notifyListeners(a,h)},c=this.storage.getItem(a);a1()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,K1):l()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},q1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vb.type="LOCAL";const F1=vb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb extends _b{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}xb.type="SESSION";const Eb=xb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const a=new ph(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:l,data:c}=n.data,h=this.handlersMap[l];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(h).map(async y=>y(n.origin,c)),p=await G1(g);n.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ph.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(s="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,h;return new Promise((g,p)=>{const y=Tp("",20);l.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},a);h={messageChannel:l,onMessage(A){const w=A;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(w.data.response);break;default:clearTimeout(E),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(h),l.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(){return window}function Q1(s){Ns().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(){return typeof Ns().WorkerGlobalScope<"u"&&typeof Ns().importScripts=="function"}async function Y1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function X1(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function W1(){return Tb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="firebaseLocalStorageDb",Z1=1,zd="firebaseLocalStorage",Ab="fbase_key";class Ic{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yh(s,e){return s.transaction([zd],e?"readwrite":"readonly").objectStore(zd)}function J1(){const s=indexedDB.deleteDatabase(bb);return new Ic(s).toPromise()}function fg(){const s=indexedDB.open(bb,Z1);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(zd,{keyPath:Ab})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(zd)?e(a):(a.close(),await J1(),e(await fg()))})})}async function hx(s,e,n){const a=yh(s,!0).put({[Ab]:e,value:n});return new Ic(a).toPromise()}async function e2(s,e){const n=yh(s,!1).get(e),a=await new Ic(n).toPromise();return a===void 0?null:a.value}function fx(s,e){const n=yh(s,!0).delete(e);return new Ic(n).toPromise()}const t2=800,n2=3;class wb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>n2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Tb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ph._getInstance(W1()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Y1(),!this.activeServiceWorker)return;this.sender=new $1(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||X1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fg();return await hx(e,Hd,"1"),await fx(e,Hd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>hx(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>e2(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=yh(l,!1).getAll();return new Ic(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),t2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wb.type="LOCAL";const s2=wb;new Rc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(s,e){return e?ri(e):(we(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp extends xp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function a2(s){return pb(s.auth,new bp(s),s.bypassAuthState)}function r2(s){const{auth:e,user:n}=s;return we(n,e,"internal-error"),D1(n,new bp(s),s.bypassAuthState)}async function l2(s){const{auth:e,user:n}=s;return we(n,e,"internal-error"),j1(n,new bp(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,n,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:l,tenantId:c,error:h,type:g}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return a2;case"linkViaPopup":case"linkViaRedirect":return l2;case"reauthViaPopup":case"reauthViaRedirect":return r2;default:ns(this.auth,"internal-error")}}resolve(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=new Rc(2e3,1e4);class gl extends Sb{constructor(e,n,a,l,c){super(e,n,l,c),this.provider=a,this.authWindow=null,this.pollId=null,gl.currentPopupAction&&gl.currentPopupAction.cancel(),gl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){mi(this.filter.length===1,"Popup operations only handle one event");const e=Tp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ss(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ss(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ss(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,o2.get())};e()}}gl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2="pendingRedirect",Ed=new Map;class u2 extends Sb{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=Ed.get(this.auth._key());if(!e){try{const a=await d2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}Ed.set(this.auth._key(),e)}return this.bypassAuthState||Ed.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function d2(s,e){const n=m2(e),a=f2(s);if(!await a._isAvailable())return!1;const l=await a._get(n)==="true";return await a._remove(n),l}function h2(s,e){Ed.set(s._key(),e)}function f2(s){return ri(s._redirectPersistence)}function m2(s){return xd(c2,s.config.apiKey,s.name)}async function g2(s,e,n=!1){if(wn(s.app))return Promise.reject(ci(s));const a=vr(s),l=i2(a,e),h=await new u2(a,l,n).execute();return h&&!n&&(delete h.user._redirectEventId,await a._persistUserIfCurrent(h.user),await a._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=10*60*1e3;class y2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!Nb(e)){const l=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError(Ss(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=p2&&this.cachedEventUids.clear(),this.cachedEventUids.has(mx(e))}saveEventToCache(e){this.cachedEventUids.add(mx(e)),this.lastProcessedEventTime=Date.now()}}function mx(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Nb({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nb(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v2(s,e={}){return yi(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,E2=/^https?/;async function T2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await v2(s);for(const n of e)try{if(b2(n))return}catch{}ns(s,"unauthorized-domain")}function b2(s){const e=ug(),{protocol:n,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&a===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===a}if(!E2.test(n))return!1;if(x2.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=new Rc(3e4,6e4);function gx(){const s=Ns().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function w2(s){return new Promise((e,n)=>{var a,l,c;function h(){gx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gx(),n(Ss(s,"network-request-failed"))},timeout:A2.get()})}if(!((l=(a=Ns().gapi)===null||a===void 0?void 0:a.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((c=Ns().gapi)===null||c===void 0)&&c.load)h();else{const g=m1("iframefcb");return Ns()[g]=()=>{gapi.load?h():n(Ss(s,"network-request-failed"))},db(`${f1()}?onload=${g}`).catch(p=>n(p))}}).catch(e=>{throw Td=null,e})}let Td=null;function S2(s){return Td=Td||w2(s),Td}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=new Rc(5e3,15e3),R2="__/auth/iframe",k2="emulator/auth/iframe",C2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},I2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function j2(s){const e=s.config;we(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?yp(e,k2):`https://${s.config.authDomain}/${R2}`,a={apiKey:e.apiKey,appName:s.name,v:mr},l=I2.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${n}?${Ec(a).slice(1)}`}async function D2(s){const e=await S2(s),n=Ns().gapi;return we(n,s,"internal-error"),e.open({where:document.body,url:j2(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:C2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const h=Ss(s,"network-request-failed"),g=Ns().setTimeout(()=>{c(h)},N2.get());function p(){Ns().clearTimeout(g),l(a)}a.ping(p).then(p,()=>{c(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},M2=500,L2=600,V2="_blank",P2="http://localhost";class px{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function U2(s,e,n,a=M2,l=L2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),h=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const p=Object.assign(Object.assign({},O2),{width:a.toString(),height:l.toString(),top:c,left:h}),y=sn().toLowerCase();n&&(g=ib(y)?V2:n),nb(y)&&(e=e||P2,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[I,L])=>`${w}${I}=${L},`,"");if(i1(y)&&g!=="_self")return B2(e||"",g),new px(null);const A=window.open(e||"",g,E);we(A,s,"popup-blocked");try{A.focus()}catch{}return new px(A)}function B2(s,e){const n=document.createElement("a");n.href=s,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2="__/auth/handler",z2="emulator/auth/handler",q2=encodeURIComponent("fac");async function yx(s,e,n,a,l,c){we(s.config.authDomain,s,"auth-domain-config-required"),we(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:a,v:mr,eventId:l};if(e instanceof mb){e.setDefaultLanguage(s.languageCode),h.providerId=e.providerId||"",iN(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))h[E]=A}if(e instanceof Cc){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(h.scopes=E.join(","))}s.tenantId&&(h.tid=s.tenantId);const g=h;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const p=await s._getAppCheckToken(),y=p?`#${q2}=${encodeURIComponent(p)}`:"";return`${K2(s)}?${Ec(g).slice(1)}${y}`}function K2({config:s}){return s.emulator?yp(s,z2):`https://${s.authDomain}/${H2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="webStorageSupport";class F2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Eb,this._completeRedirectFn=g2,this._overrideRedirectResult=h2}async _openPopup(e,n,a,l){var c;mi((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const h=await yx(e,n,a,ug(),l);return U2(e,h,Tp())}async _openRedirect(e,n,a,l){await this._originValidation(e);const c=await yx(e,n,a,ug(),l);return Q1(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(mi(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await D2(e),a=new y2(e);return n.register("authEvent",l=>(we(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pm,{type:Pm},l=>{var c;const h=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[Pm];h!==void 0&&n(!!h),ns(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=T2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return cb()||sb()||vp()}}const G2=F2;var _x="@firebase/auth",vx="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Y2(s){lr(new fa("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:g}=a.options;we(h&&!h.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:h,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ub(s)},y=new u1(a,l,c,p);return x1(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),lr(new fa("auth-internal",e=>{const n=vr(e.getProvider("auth").getImmediate());return(a=>new $2(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),bs(_x,vx,Q2(s)),bs(_x,vx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=5*60,W2=zx("authIdTokenMaxAge")||X2;let xx=null;const Z2=s=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>W2)return;const l=n==null?void 0:n.token;xx!==l&&(xx=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function J2(s=Sg()){const e=Gd(s,"auth");if(e.isInitialized())return e.getImmediate();const n=v1(s,{popupRedirectResolver:G2,persistence:[s2,F1,Eb]}),a=zx("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const h=Z2(c.toString());B1(n,h,()=>h(n.currentUser)),U1(n,g=>h(g))}}const l=Ux("auth");return l&&E1(n,`http://${l}`),n}function eD(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}d1({loadJS(s){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=l=>{const c=Ss("internal-error");c.customData=l,n(c)},a.type="text/javascript",a.charset="UTF-8",eD().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Y2("Browser");const tD={apiKey:"AIzaSyB0zBdnr_ZBmmokxvgLiHWU52QhnFnoymU",authDomain:"aimchallange-67039.firebaseapp.com",projectId:"aimchallange-67039",storageBucket:"aimchallange-67039.appspot.com",messagingSenderId:"109617578227",appId:"1:109617578227:web:8f09f705f248bbdaf07786",measurementId:"G-42PJQ2LB6T"},_h=Gx(tD),bd=J2(_h),mt=hI(_h),gi=GT(_h,"gs://aimchallange-67039.appspot.com");GT(_h,"gs://aimchallange-67039.appspot.com");const Rb=O.createContext(),xr=()=>O.useContext(Rb),nD=({children:s})=>{const[e,n]=O.useState(null),[a,l]=O.useState(!1),[c,h]=O.useState(!0);O.useEffect(()=>H1(bd,async A=>{if(A){const w={uid:A.uid,email:A.email,displayName:A.displayName||A.email.split("@")[0],role:"admin"};n(w),l(!0)}else n(null),l(!1);h(!1)}),[]);const y={currentUser:e,isAuthenticated:a,login:async(E,A)=>{try{return await L1(bd,E,A),{success:!0}}catch(w){return console.error("Login error:",w),{success:!1,error:w.message}}},logout:async()=>{try{return await z1(bd),{success:!0}}catch(E){return console.error("Logout error:",E),{success:!1,error:E.message}}}};return u.jsx(Rb.Provider,{value:y,children:!c&&s})},mg=Yt(mt,"settings","textContent"),sD=async()=>{try{const s=await Vl(mg);return s.exists()?s.data():(await xa(mg,{}),{})}catch(s){return console.error("Error getting text content:",s),{}}},iD=async(s,e)=>{try{const n={};return n[s]=e,await SI(mg,n),!0}catch(n){return console.error("Error updating text content:",n),!1}};Yt(mt,"settings","backgroundImages");const kb=O.createContext(),Cs=()=>O.useContext(kb),aD=({children:s})=>{const[e,n]=O.useState({}),[a,l]=O.useState(!1),[c,h]=O.useState([]),{currentUser:g,isAuthenticated:p}=xr(),y=(g==null?void 0:g.role)==="admin";O.useEffect(()=>{(async()=>{try{const G=await sD();n(G)}catch(G){console.error("Error fetching text content:",G);const Y=localStorage.getItem("textContent");if(Y)try{n(JSON.parse(Y))}catch(W){console.error("Error parsing saved content:",W),n({})}}})()},[]),O.useEffect(()=>{l(!!(p&&y))},[p,y]);const B={getText:(F,G)=>e[F]||G,updateText:async(F,G)=>{try{await iD(F,G);const Y={...e,[F]:G};n(Y),h(W=>[...W,{content:{...e},timestamp:new Date().toISOString(),changedKey:F}]),localStorage.setItem("textContent",JSON.stringify(Y))}catch(Y){console.error("Error updating text content:",Y);const W={...e,[F]:G};localStorage.setItem("textContent",JSON.stringify(W)),n(W)}},isEditing:a,toggleEditing:()=>{console.log("Edit mode is always on for admin users")},isAdmin:y,textContent:e,resetAllContent:()=>{h(F=>[...F,{content:{...e},timestamp:new Date().toISOString(),action:"reset-all"}]),n({}),localStorage.removeItem("textContent"),console.log("All content has been reset")},removeContentItem:F=>{h(Y=>[...Y,{content:{...e},timestamp:new Date().toISOString(),changedKey:F,action:"remove"}]);const G={...e};delete G[F],n(G),localStorage.setItem("textContent",JSON.stringify(G)),console.log(`Content item '${F}' has been removed`)},undoLastChange:()=>{if(c.length>1){const F=[...c];F.pop();const G=F[F.length-1].content;return n(G),localStorage.setItem("textContent",JSON.stringify(G)),h(F),console.log("Last change undone"),!0}return console.log("No changes to undo"),!1},getEditHistory:()=>c,editHistory:c};return u.jsx(kb.Provider,{value:B,children:s})},rD=()=>{const[s,e]=O.useState(!1),[n,a]=O.useState(!1),[l,c]=O.useState(!1),{isAuthenticated:h,currentUser:g,logout:p}=xr(),{isEditing:y,getText:E,updateText:A}=Cs(),w=Il(),I=()=>{e(!1)},L=()=>{a(!1)},z=()=>{c(!l),e(!1),a(!1)},V=()=>{p(),w("/")};return O.useEffect(()=>{const B=F=>{const G=document.querySelector(".mobile-menu"),Y=document.querySelector(".hamburger-menu");l&&G&&!G.contains(F.target)&&!Y.contains(F.target)&&c(!1)};return document.addEventListener("mousedown",B),()=>{document.removeEventListener("mousedown",B)}},[l]),O.useEffect(()=>{console.log("Navbar auth state:",{isAuthenticated:h,currentUser:g,isAdmin:(g==null?void 0:g.role)==="admin"})},[h,g]),u.jsx("div",{className:"flex flex_col navbar-container",children:u.jsxs("div",{className:"navbar  flex flex_j_SA MaxWH location font_white",children:[u.jsx("div",{className:"navim MaxWH location",children:u.jsx(Te,{to:"/",children:u.jsx("img",{src:"/images/Aim Blue.svg",alt:"aim challenge logo",className:"custom-image navim"})})}),u.jsxs("div",{className:"hamburger-menu",onClick:z,children:[u.jsx("span",{}),u.jsx("span",{}),u.jsx("span",{})]}),u.jsxs("div",{className:"navbside",children:[u.jsxs("div",{className:"nav-button",children:[u.jsx("a",{href:"#",className:"dropdown-trigger",onClick:B=>{B.preventDefault(),e(!s)},children:"Tävlingar"}),s&&u.jsxs("div",{className:"drop-down",children:[u.jsx(Te,{to:"/ulricehamn",onClick:I,className:"drop-item",children:"ULRICEHAMN"}),u.jsx(Te,{to:"/salen",onClick:I,className:"drop-item",children:"SÄLEN"}),u.jsx(Te,{to:"/hemsedal",onClick:I,className:"drop-item",children:"HEMSEDAL"}),u.jsx(Te,{to:"/kolmarden",onClick:I,className:"drop-item",children:"KOLMÅRDEN"}),u.jsx(Te,{to:"/trippeln",onClick:I,className:"drop-item",children:"TRIPPELN"})]})]}),u.jsxs("div",{className:"nav-button",children:[u.jsx("a",{href:"#",className:"dropdown-trigger",onClick:B=>{B.preventDefault(),a(!n)},children:"Om oss"}),n&&u.jsxs("div",{className:"drop-down",children:[u.jsx(Te,{to:"/om-oss",onClick:L,className:"drop-item",children:"Om oss"}),u.jsx(Te,{to:"/regler",onClick:L,className:"drop-item",children:"Regler"}),u.jsx(Te,{to:"/faq",onClick:L,className:"drop-item",children:"FAQ"}),u.jsx(Te,{to:"/historien-om-aim",onClick:L,className:"drop-item",children:"Historien om AIM"})]})]}),u.jsx("div",{className:"nav-button",children:u.jsx("a",{href:"#sponsors-section",onClick:B=>{B.preventDefault();const F=document.getElementById("sponsors-section");F&&F.scrollIntoView({behavior:"smooth"})},children:"Sponsorer"})}),u.jsx("div",{className:"nav-button",children:u.jsx(Te,{to:"/senaste-nytt",children:"Senaste nytt"})}),u.jsx("div",{className:"nav-button",children:u.jsx(Te,{to:"#",children:"Kontakta oss"})}),u.jsx("div",{className:"nav-button",children:u.jsx("a",{href:"#",children:"SV|NO|EN"})}),h&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"nav-button",children:u.jsx(Te,{to:"/content-manager",children:"Innehåll"})}),u.jsx("div",{className:"nav-button",children:u.jsx("a",{href:"#",onClick:B=>{B.preventDefault(),V()},children:"Logga ut"})})]})]}),l&&u.jsxs("div",{className:"mobile-menu",children:[u.jsxs("div",{className:"mobile-menu-item",children:[u.jsxs("div",{className:"mobile-menu-header",onClick:()=>e(!s),children:["Tävlingar ",s?"▲":"▼"]}),s&&u.jsxs("div",{className:"mobile-submenu",children:[u.jsx(Te,{to:"/ulricehamn",onClick:z,className:"mobile-submenu-item",children:"ULRICEHAMN"}),u.jsx(Te,{to:"/salen",onClick:z,className:"mobile-submenu-item",children:"SÄLEN"}),u.jsx(Te,{to:"/hemsedal",onClick:z,className:"mobile-submenu-item",children:"HEMSEDAL"}),u.jsx(Te,{to:"/kolmarden",onClick:z,className:"mobile-submenu-item",children:"KOLMÅRDEN"}),u.jsx(Te,{to:"/trippeln",onClick:z,className:"mobile-submenu-item",children:"TRIPPELN"})]})]}),u.jsxs("div",{className:"mobile-menu-item",children:[u.jsxs("div",{className:"mobile-menu-header",onClick:()=>a(!n),children:["Om oss ",n?"▲":"▼"]}),n&&u.jsxs("div",{className:"mobile-submenu",children:[u.jsx(Te,{to:"/om-oss",onClick:z,className:"mobile-submenu-item",children:"Om oss"}),u.jsx(Te,{to:"/regler",onClick:z,className:"mobile-submenu-item",children:"Regler"}),u.jsx(Te,{to:"/faq",onClick:z,className:"mobile-submenu-item",children:"FAQ"}),u.jsx(Te,{to:"/historien-om-aim",onClick:z,className:"mobile-submenu-item",children:"Historien om AIM"})]})]}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx("a",{href:"#sponsors-section",onClick:B=>{B.preventDefault();const F=document.getElementById("sponsors-section");F&&F.scrollIntoView({behavior:"smooth"}),z()},className:"mobile-menu-link",children:"Sponsorer"})}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx(Te,{to:"/senaste-nytt",onClick:z,className:"mobile-menu-link",children:"Senaste nytt"})}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx(Te,{to:"#",onClick:z,className:"mobile-menu-link",children:"Kontakta oss"})}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx("a",{href:"#",className:"mobile-menu-link",children:"SV|NO|EN"})}),h&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mobile-menu-item",children:u.jsx(Te,{to:"/content-manager",onClick:z,className:"mobile-menu-link",children:"Innehåll"})}),u.jsx("div",{className:"mobile-menu-item",children:u.jsx("a",{href:"#",onClick:B=>{B.preventDefault(),V(),z()},className:"mobile-menu-link",children:"Logga ut"})})]})]})]})})},lD=()=>u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"footer-wrapper",children:u.jsx("div",{className:"container",children:u.jsx("div",{className:"footer-grid",children:u.jsxs("div",{className:"grid-item sponsors",children:[u.jsx("h1",{className:"footer-heading",id:"sponsors-section",children:"Sponsorer & Partners"}),u.jsxs("div",{className:"sponsors-grid",children:[u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/Artboard 1@4x.png",alt:"Artboard",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/Camelbak_vit.svg",alt:"Camelbak",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/Hedghog_vit.svg",alt:"Hedghog",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/Kona_vit.png",alt:"Kona",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/Mareld_svart.svg",alt:"Mareld",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/ODD_white_RGB.png",alt:"ODD",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/Oofos.png",alt:"Oofos",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/Ortovox_svart.svg",alt:"Ortovox",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/UD Logo.png",alt:"UD",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/Upplev.png",alt:"Upplev Norrköping",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/holdut_logo_sort_1.png",alt:"Hold ut",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/h%C3%A4llmark logga sv_v.svg",alt:"Hällmark",className:"sponsor-logo"})}),u.jsx("div",{className:"sponsor-item",children:u.jsx("img",{src:"/images/injinji_black.svg",alt:"Injinji",className:"sponsor-logo"})})]})]})})})}),u.jsx("footer",{className:"footer-section",children:u.jsxs("div",{className:"footer-container",children:[u.jsxs("div",{className:"footer-top",children:[u.jsxs("div",{className:"footer-left",children:[u.jsx("div",{className:"footer-logo",children:u.jsx("img",{src:"/images/Aim_Challenge_logo_white.svg",alt:"AIM Challenge"})}),u.jsxs("div",{className:"footer-info",children:[u.jsx("p",{children:"Loftsdalian 108, 30129 Halmstad"}),u.jsx("p",{children:u.jsx("a",{href:"mailto:info@aimchallenge.com",children:"info@aimchallenge.com"})}),u.jsx("p",{children:"+46 (0) 73-81 87 54"})]}),u.jsxs("div",{className:"footer-social",children:[u.jsx("a",{href:"#",className:"social-icon",children:u.jsx("i",{className:"fa fa-instagram"})}),u.jsx("a",{href:"#",className:"social-icon",children:u.jsx("i",{className:"fa fa-facebook"})}),u.jsx("a",{href:"#",className:"social-icon",children:u.jsx("i",{className:"fa fa-twitter"})})]})]}),u.jsxs("div",{className:"footer-columns",children:[u.jsxs("div",{className:"footer-column footer-column-center",children:[u.jsx("h3",{className:"footer-title",children:"INFORMATION"}),u.jsxs("ul",{className:"footer-links",children:[u.jsx("li",{children:u.jsx("a",{href:"#",children:"Anmälningsvillkor"})}),u.jsx("li",{children:u.jsx("a",{href:"#",children:"Integritetspolicy"})}),u.jsx("li",{children:u.jsx("a",{href:"#",children:"FAQ"})})]})]}),u.jsxs("div",{className:"footer-column footer-column-right",children:[u.jsx("h3",{className:"footer-title",children:"NYHETSBREV"}),u.jsx("p",{className:"footer-newsletter-text",children:"Åtext om nyhetsbrev, samt en optin ruta för att fylla i sin epostadress. Integration mot mailchimp."})]})]})]}),u.jsx("div",{className:"footer-copyright-wrapper",children:u.jsx("div",{className:"footer-copyright",children:u.jsx("p",{children:"© 2023 Copyright AIM Challenge."})})})]})})]}),q=({textKey:s,defaultText:e,tag:n="p",className:a="",style:l={},placeholder:c="Skriv text här...",onClick:h})=>{const{getText:g,updateText:p,isAdmin:y}=Cs(),[E,A]=O.useState(!1),[w,I]=O.useState(""),[L,z]=O.useState(!1),[V,B]=O.useState(""),[F,G]=O.useState(""),Y=O.useRef(null),W=O.useRef(null),le=O.useRef(null),P=["span","a","em","strong","i","b","code","small"].includes(n);O.useEffect(()=>{const M=g(s);I(M||e)},[s,e,g]),O.useEffect(()=>{const M=te=>{te.key==="Escape"&&E&&N()};return document.addEventListener("keydown",M),()=>{document.removeEventListener("keydown",M)}},[E]);const k=M=>{M&&(M.preventDefault(),M.stopPropagation()),A(!0)},T=()=>{p(s,w),A(!1),z(!1)},N=()=>{const M=g(s);I(M||e),A(!1),z(!1)},j=M=>{I(M.target.value)},C=()=>{z(!L),G(""),B("")},R=()=>{if(F&&V){let M=V;!M.startsWith("http://")&&!M.startsWith("https://")&&(M="https://"+M);const te=`<a href="${M}" target="_blank" rel="noopener noreferrer">${F}</a>`,fe=Y.current,ue=fe.selectionStart,de=w.substring(0,ue),Ie=w.substring(fe.selectionEnd);I(de+te+Ie),G(""),B(""),setTimeout(()=>{fe.focus();const Re=ue+te.length;fe.setSelectionRange(Re,Re)},0)}},ye=M=>{G(M.target.value)},Ae=M=>{B(M.target.value)},ae=M=>{M.key==="Enter"&&M.ctrlKey?(M.preventDefault(),T()):M.key==="Escape"&&(M.preventDefault(),N())},ve=()=>E?LS.createPortal(u.jsx("div",{className:"edit-modal",children:u.jsxs("div",{className:"edit-modal__content",children:[u.jsx("textarea",{ref:Y,value:w,onChange:j,onKeyDown:ae,placeholder:c,className:"edit-modal__textarea"}),u.jsx("button",{type:"button",onClick:C,className:"modal-action-button modal-action-button--secondary",children:L?"Dölj länkverktyg":"Lägg till länk"}),L&&u.jsxs("div",{className:"edit-modal__link-tools",children:[u.jsxs("div",{className:"edit-modal__form-group",children:[u.jsx("label",{htmlFor:"linkText",className:"edit-modal__label",children:"Länktext:"}),u.jsx("input",{ref:W,type:"text",id:"linkText",value:F,onChange:ye,className:"edit-modal__input",placeholder:"Text som ska visas"})]}),u.jsxs("div",{className:"edit-modal__form-group",children:[u.jsx("label",{htmlFor:"linkUrl",className:"edit-modal__label",children:"URL:"}),u.jsx("input",{ref:le,type:"text",id:"linkUrl",value:V,onChange:Ae,className:"edit-modal__input",placeholder:"https://example.com"})]}),u.jsx("button",{type:"button",onClick:R,disabled:!F||!V,className:"modal-action-button modal-action-button--primary",children:"Infoga länk"})]}),u.jsxs("div",{className:"edit-modal__actions",children:[u.jsx("button",{type:"button",onClick:N,className:"modal-action-button modal-action-button--secondary",children:"Avbryt"}),u.jsx("button",{type:"button",onClick:T,className:"modal-action-button modal-action-button--primary",children:"Spara"})]})]})}),document.body):null,oe=()=>{const M=n,te={className:`editable-text ${a}`,style:l,dangerouslySetInnerHTML:{__html:w||c},onClick:h};return u.jsx(M,{...te})},he=P?"span":"div";return u.jsxs(u.Fragment,{children:[u.jsxs(he,{className:"editable-text-wrapper",children:[oe(),y&&u.jsx("button",{type:"button",onClick:k,className:"edit-button edit-button-primary",title:"Redigera text",children:"Redigera"})]}),ve()]})},oD=({instanceId:s})=>{const[e,n]=O.useState([]),[a,l]=O.useState([]),[c,h]=O.useState(0),[g,p]=O.useState("Alla"),[y,E]=O.useState(["Alla"]),[A,w]=O.useState(!1),{isAdmin:I}=Cs();O.useEffect(()=>{(async()=>{try{const W=Zn(mt,"posts"),le=sr(W,Q0("createdAt","desc")),P=await ur(le),k=new Set(["Alla"]);P.forEach(T=>{const N=T.data();N.category&&N.category.trim()!==""&&k.add(N.category)}),E(Array.from(k))}catch(W){console.error("Error fetching categories:",W)}})()},[]),O.useEffect(()=>{s&&(async()=>{try{const W=Yt(mt,"carouselSettings",s),le=await Vl(W);if(le.exists()){const P=le.data();p(P.category||"Alla")}}catch(W){console.error("Error fetching carousel settings:",W)}})()},[s]),O.useEffect(()=>{(async()=>{try{const W=Zn(mt,"posts"),le=sr(W,Q0("createdAt","desc")),P=await ur(le),k=[];P.forEach(T=>{k.push({id:T.id,...T.data()})}),n(k)}catch(W){console.error("Error fetching posts:",W)}})()},[]),O.useEffect(()=>{if(g==="Alla")l(e);else{const Y=e.filter(W=>W.category===g);l(Y)}h(0)},[g,e]);const L=async Y=>{try{const W=Yt(mt,"carouselSettings",s);await xa(W,{category:Y,updatedAt:new Date().toISOString(),updatedBy:"admin"}),console.log("Carousel settings saved successfully")}catch(W){console.error("Error saving carousel settings:",W)}},z=Y=>{p(Y),L(Y),w(!1)},V=()=>{c>0&&h(c-1)},B=()=>{c<a.length-1&&h(c+1)},F=()=>{w(!A)},G=[];for(let Y=c;Y<c+3&&Y<a.length;Y++)a[Y]&&G.push(a[Y]);for(;G.length<3;)G.push(null);return u.jsxs("div",{className:"news-carousel",children:[I&&u.jsxs("div",{className:"news-carousel-admin",children:[u.jsxs("button",{className:"category-selector-button",onClick:F,children:[g," ▼"]}),A&&u.jsx("div",{className:"category-selector",children:y.map(Y=>u.jsx("div",{className:`category-option ${Y===g?"selected":""}`,onClick:()=>z(Y),children:Y},Y))})]}),u.jsx("div",{className:"news-carousel-container",children:G.map((Y,W)=>Y?u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:Y.image?u.jsx("img",{src:Y.image,alt:Y.title}):u.jsx("div",{className:"news-image-placeholder"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:Y.title}),u.jsx("p",{className:"news-description",children:Y.content.length>100?`${Y.content.substring(0,100)}...`:Y.content}),u.jsx("div",{className:"news-button",children:u.jsx("button",{className:"news-read-more-btn",onClick:()=>window.location.href=`/news/${Y.id}`,children:u.jsx("span",{children:"LÄS MER"})})})]})]},Y.id):u.jsxs("div",{className:"news-card empty",children:[u.jsx("div",{className:"news-image-placeholder"}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"Inga fler nyheter"}),u.jsx("p",{className:"news-description",children:"Det finns inga fler nyheter i denna kategori."})]})]},`empty-${W}`))}),u.jsxs("div",{className:"news-carousel-controls",children:[u.jsx("button",{className:"carousel-control prev",onClick:V,disabled:c===0,children:"◀"}),u.jsx("button",{className:"carousel-control next",onClick:B,disabled:c>=a.length-3,children:"▶"})]})]})},cD=()=>{const{isAdmin:s}=Cs();return u.jsxs("div",{className:"flex flex_col MaxWH location",children:[u.jsx("section",{id:"page_01",className:"page_01 dynamic-background background-editable",children:u.jsx("div",{className:" page_01box flex flex_col flex_j_SA MaxWH",children:u.jsx(q,{textKey:"main-multisport-sedan",defaultText:"MUTLISPORT SEDAN 2004",tag:"p",className:"font_white fonts_large"})})}),u.jsxs("section",{id:"page_02",className:"page_02 flex flex_j_E MaxWH location",children:[u.jsx("h2",{className:"page_02-title",children:"ÅRETS TÄVLINGAR"}),u.jsxs("div",{className:"page_02box  flex flex_col MaxWH location",children:[u.jsx("div",{id:"page_02-ulricehamn-image",className:"page_02-image background-editable",style:{backgroundImage:"url('images/EE-AIMChallenge24-Uhamn-0171-high.jpg')"}}),u.jsx("div",{className:"page_02-content",children:u.jsxs("div",{className:"page_02-header",children:[u.jsx(q,{textKey:"main-ulricehamn-title",defaultText:"ULRICEHAMN 10/5",tag:"p",className:"font_white fonts_medium_B"}),u.jsx(q,{textKey:"ulricehamn-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),u.jsx("div",{className:"page_02-button",children:u.jsx(Te,{to:"/ulricehamn",className:"location button-2",children:u.jsx("span",{children:"Läs mer"})})})]}),u.jsxs("div",{className:"page_02box  flex flex_col MaxWH location",children:[u.jsx("div",{id:"page_02-salen-image",className:"page_02-image background-editable",style:{backgroundImage:"url('/images/AIM_lindvallen_2024_AnkiGrothe_highres_155.jpg')"}}),u.jsx("div",{className:"page_02-content",children:u.jsxs("div",{className:"page_02-header",children:[u.jsx(q,{textKey:"main-salen-title",defaultText:"SÄLEN 10/5",tag:"p",className:"font_white fonts_medium_B"}),u.jsx(q,{textKey:"salen-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),u.jsx("div",{className:"page_02-button",children:u.jsx(Te,{to:"/salen",className:"location button-2",children:u.jsx("span",{children:"Läs mer"})})})]}),u.jsxs("div",{className:"page_02box flex flex_col MaxWH location",children:[u.jsx("div",{id:"page_02-hemsedal-image",className:"page_02-image background-editable",style:{backgroundImage:"url('/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg')"}}),u.jsx("div",{className:"page_02-content",children:u.jsxs("div",{className:"page_02-header",children:[u.jsx(q,{textKey:"main-hemsedal-title",defaultText:"HEMSEDAL 10/5",tag:"p",className:"font_white fonts_medium_B"}),u.jsx(q,{textKey:"hemsedal-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),u.jsx("div",{className:"page_02-button",children:u.jsx(Te,{to:"/hemsedal",className:"location button-2",children:u.jsx("span",{children:"Läs mer"})})})]}),u.jsxs("div",{className:"page_02box  flex flex_col MaxWH location",children:[u.jsx("div",{id:"page_02-kolmarden-image",className:"page_02-image background-editable",style:{backgroundImage:"url('/images/kolmarden.jpg')"}}),u.jsx("div",{className:"page_02-content",children:u.jsxs("div",{className:"page_02-header",children:[u.jsx(q,{textKey:"main-kolmarden-title",defaultText:"KOLMÅRDEN 10/5",tag:"p",className:"font_white fonts_medium_B"}),u.jsx(q,{textKey:"kolmarden-date",defaultText:"datum insert",tag:"p",className:"font_white fonts_medium"})]})}),u.jsx("div",{className:"page_02-button",children:u.jsx(Te,{to:"/kolmarden",className:"location button-2",children:u.jsx("span",{children:"Läs mer"})})})]})]}),u.jsx("section",{id:"page_03",className:"page_03 flex MaxWH",children:u.jsxs("div",{className:"page_03-content flex",children:[u.jsxs("div",{className:"page_03-text",children:[u.jsx("h2",{className:"page_03-title",children:"OM AIM CHALLENGE"}),u.jsx(q,{textKey:"aim-challenge-desc-1",defaultText:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",tag:"p",className:"font_white"}),u.jsx(q,{textKey:"aim-challenge-desc-2",defaultText:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",tag:"p",className:"font_white"}),u.jsx("div",{className:"page_03-button",children:u.jsx(Te,{to:"/about",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]}),u.jsx("div",{className:"page_03-image",children:u.jsx("div",{id:"page_03-aim-image",className:"background-editable","data-editable":"true",style:{width:"90%",height:"90%",backgroundImage:"url('images/AIM_lindvallen_2024_AnkiGrothe_highres_155.jpg')",backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"}})})]})}),u.jsx("section",{className:"ad-section",children:u.jsx("div",{className:"ad-container",children:u.jsx("div",{className:"ad-content",children:u.jsx("div",{className:"ad-carousel ad-editable",id:"main-ad-section",children:u.jsx("div",{className:"annons-text",children:"ANNONS"})})})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx("h2",{className:"latest-news-title",children:"SENASTE NYTT"}),u.jsx("div",{className:"latest-news-container",children:u.jsx(oD,{instanceId:"main-page-carousel"})})]})]})},uD=()=>u.jsxs("div",{className:"competitions-container flex flex_col MaxWH location",children:[u.jsx("div",{className:"competitions-spacer"}),u.jsxs("div",{className:"competitions-grid",children:[u.jsxs("div",{className:"competitions-card competitions-card-ulricehamn flex flex_col flex_j_SB location simple-background",children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",children:[u.jsx(q,{textKey:"competitions-ulricehamn-title",defaultText:"ULRICEHAMN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(q,{textKey:"ulricehamn-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:u.jsx(Te,{to:"/ulricehamn",className:"location button-2 competitions-button",children:u.jsx("span",{children:"Läs mer"})})})]}),u.jsxs("div",{className:"competitions-card competitions-card-salen flex flex_col flex_j_SB location simple-background",children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",children:[u.jsx(q,{textKey:"competitions-salen-title",defaultText:"SÄLEN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(q,{textKey:"salen-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:u.jsx(Te,{to:"/salen",className:"location button-2 competitions-button",children:u.jsx("span",{children:"Läs mer"})})})]})]}),u.jsxs("div",{className:"competitions-grid",children:[u.jsxs("div",{className:"competitions-card competitions-card-hemsedal flex flex_col flex_j_SB location simple-background",children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",children:[u.jsx(q,{textKey:"competitions-hemsedal-title",defaultText:"HEMSEDAL",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(q,{textKey:"hemsedal-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:u.jsx(Te,{to:"/hemsedal",className:"location button-2 competitions-button",children:u.jsx("span",{children:"Läs mer"})})})]}),u.jsxs("div",{className:"competitions-card competitions-card-kolmarden flex flex_col flex_j_SB location simple-background",children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",children:[u.jsx(q,{textKey:"competitions-kolmarden-title",defaultText:"KOLMÅRDEN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(q,{textKey:"kolmarden-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:u.jsx(Te,{to:"/kolmarden",className:"location button-2 competitions-button",children:u.jsx("span",{children:"Läs mer"})})})]})]}),u.jsx("div",{className:"competitions-grid",children:u.jsxs("div",{className:"competitions-card competitions-card-trippeln flex flex_col flex_j_SB location simple-background",style:{gridColumn:"span 2"},children:[u.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_C flex_a_C flex_text_C MaxWH",children:[u.jsx(q,{textKey:"competitions-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN",tag:"p",className:"font_blue fonts_medium_B competitions-title text-center",style:{textAlign:"center"}}),u.jsx(q,{textKey:"trippeln-description",defaultText:"Tävla i alla tre deltävlingar och bli en del av AIM Challenge Trippeln",tag:"p",className:"font_blue fonts_medium competitions-date text-center",style:{textAlign:"center"}})]}),u.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:u.jsx(Te,{to:"/trippeln",className:"location button-2 competitions-button",children:u.jsx("span",{children:"Läs mer"})})})]})})]}),dD=()=>u.jsxs("div",{className:"ulricehamn-container",children:[u.jsx("section",{className:"ulricehamn-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container",children:u.jsx("img",{src:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Ulricehamn Event"})})})}),u.jsx("section",{className:"ulricehamn-title-section",children:u.jsxs("div",{className:"title-container",children:[u.jsx(q,{textKey:"ulricehamn-title",defaultText:"ULRICEHAMN",tag:"h1",className:"location-title"}),u.jsx(q,{textKey:"ulricehamn-date",defaultText:"10 MAJ 2025",tag:"h2",className:"location-date"})]})}),u.jsx("section",{className:"ulricehamn-button-section",children:u.jsx("div",{className:"button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMÄLAN"})})})}),u.jsx("section",{className:"ulricehamn-program-section",children:u.jsx("div",{className:"program-container",children:u.jsxs("div",{className:"program-cards",children:[u.jsx("div",{className:"program-card image-card",children:u.jsx("img",{src:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Ulricehamn Event"})}),u.jsxs("div",{className:"program-card info-card",children:[u.jsx(q,{textKey:"ulricehamn-program-title",defaultText:"PROGRAM",tag:"h2",className:"program-title"}),u.jsxs("div",{className:"program-schedule",children:[u.jsxs("div",{className:"program-day",children:[u.jsx(q,{textKey:"ulricehamn-friday-title",defaultText:"Fredag 9/5",tag:"h3",className:"day-title"}),u.jsx(q,{textKey:"ulricehamn-friday-schedule",defaultText:"17:00 - 19:00 Nummerlappsutdelning på XCC",tag:"p",className:"schedule-item"})]}),u.jsxs("div",{className:"program-day",children:[u.jsx(q,{textKey:"ulricehamn-saturday-title",defaultText:"Lördag 10/5",tag:"h3",className:"day-title"}),u.jsx(q,{textKey:"ulricehamn-saturday-schedule1",defaultText:"08:30 - 10:15 Registrering för alla tävlande som ej registrerat sig under fredagen på 157 XCC, på Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(q,{textKey:"ulricehamn-saturday-schedule2",defaultText:"10:30 Obligatoriskt informationsmöte vid starten på Lassalyckan stadion.",tag:"p",className:"schedule-item"}),u.jsx(q,{textKey:"ulricehamn-saturday-schedule3",defaultText:"11:00 Start AIM Challenge, på Lassalyckan stadion. Gemensam start för 3 & 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(q,{textKey:"ulricehamn-saturday-schedule4",defaultText:"14:00 Målgång för 3-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(q,{textKey:"ulricehamn-saturday-schedule5",defaultText:"ca 15:30 Prisutdelning 3-timmars tävlingen",tag:"p",className:"schedule-item"}),u.jsx(q,{textKey:"ulricehamn-saturday-schedule6",defaultText:"16:30 - 20:00 After AIM med mat och dryck på Hotell Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(q,{textKey:"ulricehamn-saturday-schedule7",defaultText:"17:00 Målgång för 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(q,{textKey:"ulricehamn-saturday-schedule8",defaultText:"19:00 Prisutdelning utanför Hotell Lassalyckan.",tag:"p",className:"schedule-item"})]})]})]})]})})}),u.jsx("section",{className:"ulricehamn-price-section",children:u.jsx("div",{className:"price-container",children:u.jsxs("div",{className:"price-image-container",children:[u.jsx("img",{src:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Climbing in Ulricehamn",className:"price-background-image"}),u.jsx("div",{className:"price-overlay",children:u.jsxs("div",{className:"price-content",children:[u.jsx(q,{textKey:"ulricehamn-price-title",defaultText:"PRIS",tag:"h2",className:"section-title"}),u.jsx(q,{textKey:"ulricehamn-price-subtitle",defaultText:"ULRICEHAMN 10/5-2025",tag:"h3",className:"price-subtitle"}),u.jsxs("div",{className:"price-categories",children:[u.jsxs("div",{className:"price-category",children:[u.jsx(q,{textKey:"ulricehamn-price-3h-title",defaultText:"3-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(q,{textKey:"ulricehamn-price-3h-1",defaultText:"1500 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(q,{textKey:"ulricehamn-price-3h-2",defaultText:"1700 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(q,{textKey:"ulricehamn-price-3h-3",defaultText:"1900 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(q,{textKey:"ulricehamn-price-3h-4",defaultText:"2100 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]}),u.jsxs("div",{className:"price-category",children:[u.jsx(q,{textKey:"ulricehamn-price-6h-title",defaultText:"6-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(q,{textKey:"ulricehamn-price-6h-1",defaultText:"1900 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(q,{textKey:"ulricehamn-price-6h-2",defaultText:"2100 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(q,{textKey:"ulricehamn-price-6h-3",defaultText:"2300 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(q,{textKey:"ulricehamn-price-6h-4",defaultText:"2500 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]})]}),u.jsxs("div",{className:"price-category trippeln-category",children:[u.jsx(q,{textKey:"ulricehamn-price-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"h4",className:"category-title"}),u.jsx(q,{textKey:"ulricehamn-price-trippeln-1",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari.",tag:"p",className:"price-item"}),u.jsx(q,{textKey:"ulricehamn-price-trippeln-2",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari.",tag:"p",className:"price-item"}),u.jsx(q,{textKey:"ulricehamn-price-trippeln-3",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(q,{textKey:"ulricehamn-price-trippeln-4",defaultText:"6250 SEK / lag för anmälan efter den 25 april.",tag:"p",className:"price-item"})]}),u.jsx("div",{className:"price-button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"price-anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMÄLAN"})})})]})})]})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx("h2",{className:"latest-news-title",children:"SENASTE NYTT ULRICEHAMN"}),u.jsxs("div",{className:"latest-news-container",children:[u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 1"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Te,{to:"/news/1",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 2"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Te,{to:"/news/2",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 3"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Te,{to:"/news/3",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]})]})]}),u.jsx("section",{className:"useful-links-section",children:u.jsxs("div",{className:"useful-links-container",children:[u.jsx("h2",{className:"useful-links-title",children:"NYTTIGA LÄNKAR"}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Cykeluthyrning"}),u.jsxs("p",{className:"links-text",children:["Cykeluthyrning med in- och utlämning på Lassalyckan Stadion."," ",u.jsx("a",{href:"#",className:"links-link",children:"Läs mer och boka här."})]})]}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Boende"}),u.jsx("p",{className:"links-text",children:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten."}),u.jsx("a",{href:"https://www.hotell-lassalyckan.se",className:"links-link",target:"_blank",rel:"noopener noreferrer",children:"https://www.hotell-lassalyckan.se"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Mat"}),u.jsx("p",{className:"links-text",children:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten."})]})]})}),u.jsxs("section",{className:"sponsors-section",children:[u.jsx("h2",{className:"sponsors-title",children:"LOKALA SPONSORER"}),u.jsxs("div",{className:"sponsors-container",children:[u.jsx("div",{className:"s-sponsor-logo side-logo",children:u.jsx("img",{src:"images/UD Logo.png",alt:"UD Logo"})}),u.jsx("div",{className:"s-sponsor-logo main-logo",children:u.jsx("img",{src:"images/Aim_Challenge_logo_white.svg",alt:"AIM Challenge"})}),u.jsx("div",{className:"s-sponsor-logo side-logo",children:u.jsx("img",{src:"images/holdut_logo_sort_1.png",alt:"Holdut Logo"})})]})]})]}),hD=()=>u.jsxs("div",{className:"salen-container",children:[u.jsx("section",{className:"salen-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"Sälen Event"})})})}),u.jsx("section",{className:"salen-title-section",children:u.jsxs("div",{className:"title-container",children:[u.jsx(q,{textKey:"salen-title",defaultText:"SÄLEN",tag:"h1",className:"location-title"}),u.jsx(q,{textKey:"salen-date",defaultText:"1 AUGUSTI 2025",tag:"h2",className:"location-date"})]})}),u.jsx("section",{className:"salen-program-section",children:u.jsx("div",{className:"program-container",children:u.jsxs("div",{className:"program-cards",children:[u.jsx("div",{className:"program-card image-card",children:u.jsx("img",{src:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Sälen Event"})}),u.jsxs("div",{className:"program-card info-card",children:[u.jsx(q,{textKey:"salen-program-title",defaultText:"PROGRAM",tag:"h2",className:"program-title"}),u.jsxs("div",{className:"program-schedule",children:[u.jsxs("div",{className:"program-day",children:[u.jsx(q,{textKey:"salen-friday-title",defaultText:"Fredag 9/5",tag:"h3",className:"day-title"}),u.jsx(q,{textKey:"salen-friday-schedule",defaultText:"17:00 - 19:00 Nummerlappsutdelning på XCC",tag:"p",className:"schedule-item"})]}),u.jsxs("div",{className:"program-day",children:[u.jsx(q,{textKey:"salen-saturday-title",defaultText:"Lördag 10/5",tag:"h3",className:"day-title"}),u.jsx(q,{textKey:"salen-saturday-schedule1",defaultText:"08:30 - 10:15 Registrering för alla tävlande som ej registrerat sig under fredagen på 157 XCC, på Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(q,{textKey:"salen-saturday-schedule2",defaultText:"10:30 Obligatoriskt informationsmöte vid starten på Lassalyckan stadion.",tag:"p",className:"schedule-item"}),u.jsx(q,{textKey:"salen-saturday-schedule3",defaultText:"11:00 Start AIM Challenge, på Lassalyckan stadion. Gemensam start för 3 & 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(q,{textKey:"salen-saturday-schedule4",defaultText:"14:00 Målgång för 3-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(q,{textKey:"salen-saturday-schedule5",defaultText:"ca 15:30 Prisutdelning 3-timmars tävlingen",tag:"p",className:"schedule-item"}),u.jsx(q,{textKey:"salen-saturday-schedule6",defaultText:"16:30 - 20:00 After AIM med mat och dryck på Hotell Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(q,{textKey:"salen-saturday-schedule7",defaultText:"17:00 Målgång för 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(q,{textKey:"salen-saturday-schedule8",defaultText:"19:00 Prisutdelning utanför Hotell Lassalyckan.",tag:"p",className:"schedule-item"})]})]})]})]})})}),u.jsx("section",{className:"salen-price-section",children:u.jsx("div",{className:"price-container",children:u.jsxs("div",{className:"price-image-container",children:[u.jsx("img",{src:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_34.jpg",alt:"Climbing in Lindvallen",className:"price-background-image"}),u.jsx("div",{className:"price-overlay",children:u.jsxs("div",{className:"price-content",children:[u.jsx(q,{textKey:"salen-price-title",defaultText:"PRIS",tag:"h2",className:"section-title"}),u.jsx(q,{textKey:"salen-price-subtitle",defaultText:"ULRICEHAMN 10/5-2025",tag:"h3",className:"price-subtitle"}),u.jsxs("div",{className:"price-categories",children:[u.jsxs("div",{className:"price-category",children:[u.jsx(q,{textKey:"salen-price-3h-title",defaultText:"3-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(q,{textKey:"salen-price-3h-1",defaultText:"1500 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(q,{textKey:"salen-price-3h-2",defaultText:"1700 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(q,{textKey:"salen-price-3h-3",defaultText:"1900 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(q,{textKey:"salen-price-3h-4",defaultText:"2100 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]}),u.jsxs("div",{className:"price-category",children:[u.jsx(q,{textKey:"salen-price-6h-title",defaultText:"6-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(q,{textKey:"salen-price-6h-1",defaultText:"1900 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(q,{textKey:"salen-price-6h-2",defaultText:"2100 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(q,{textKey:"salen-price-6h-3",defaultText:"2300 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(q,{textKey:"salen-price-6h-4",defaultText:"2500 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]})]}),u.jsxs("div",{className:"price-category trippeln-category",children:[u.jsx(q,{textKey:"salen-price-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"h4",className:"category-title"}),u.jsx(q,{textKey:"salen-price-trippeln-1",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari.",tag:"p",className:"price-item"}),u.jsx(q,{textKey:"salen-price-trippeln-2",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari.",tag:"p",className:"price-item"}),u.jsx(q,{textKey:"salen-price-trippeln-3",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(q,{textKey:"salen-price-trippeln-4",defaultText:"6250 SEK / lag för anmälan efter den 25 april.",tag:"p",className:"price-item"})]}),u.jsx("div",{className:"price-button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"price-anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMÄLAN"})})})]})})]})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx("h2",{className:"latest-news-title",children:"SENASTE NYTT SÄLEN"}),u.jsxs("div",{className:"latest-news-container",children:[u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 1"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Te,{to:"/news/1",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 2"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Te,{to:"/news/2",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 3"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Te,{to:"/news/3",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]})]})]}),u.jsx("section",{className:"useful-links-section",children:u.jsxs("div",{className:"useful-links-container",children:[u.jsx("h2",{className:"useful-links-title",children:"NYTTIGA LÄNKAR"}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Cykeluthyrning"}),u.jsxs("p",{className:"links-text",children:["Cykeluthyrning med in- och utlämning på Lassalyckan Stadion."," ",u.jsx("a",{href:"#",className:"links-link",children:"Läs mer och boka här."})]})]}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Boende"}),u.jsx("p",{className:"links-text",children:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten."}),u.jsx("a",{href:"https://www.hotell-lassalyckan.se",className:"links-link",target:"_blank",rel:"noopener noreferrer",children:"https://www.hotell-lassalyckan.se"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Mat"}),u.jsx("p",{className:"links-text",children:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten."})]})]})}),u.jsxs("section",{className:"sponsors-section",children:[u.jsx("h2",{className:"sponsors-title",children:"LOKALA SPONSORER"}),u.jsxs("div",{className:"sponsors-container",children:[u.jsx("div",{className:"s-sponsor-logo side-logo",children:u.jsx("img",{src:"images/UD Logo.png",alt:"UD Logo"})}),u.jsx("div",{className:"s-sponsor-logo main-logo",children:u.jsx("img",{src:"images/Aim_Challenge_logo_white.svg",alt:"AIM Challenge"})}),u.jsx("div",{className:"s-sponsor-logo side-logo",children:u.jsx("img",{src:"images/holdut_logo_sort_1.png",alt:"Holdut Logo"})})]})]})]}),fD=()=>u.jsxs("div",{className:"hemsedal-container",children:[u.jsx("section",{className:"hemsedal-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_025.jpg",alt:"Hemsedal Event"})})})}),u.jsx("section",{className:"hemsedal-title-section",children:u.jsxs("div",{className:"title-container",children:[u.jsx(q,{textKey:"hemsedal-title",defaultText:"HEMSEDAL",tag:"h1",className:"location-title"}),u.jsx(q,{textKey:"hemsedal-date",defaultText:"10 MAJ 2025",tag:"h2",className:"location-date"})]})}),u.jsx("section",{className:"hemsedal-button-section",children:u.jsx("div",{className:"button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/13015/about",target:"_blank",rel:"noopener noreferrer",className:"anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMÄLAN"})})})}),u.jsx("section",{className:"hemsedal-program-section",children:u.jsx("div",{className:"program-container",children:u.jsxs("div",{className:"program-cards",children:[u.jsx("div",{className:"program-card image-card",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_025.jpg",alt:"Hemsedal Event"})}),u.jsxs("div",{className:"program-card info-card",children:[u.jsx(q,{textKey:"hemsedal-program-title",defaultText:"PROGRAM",tag:"h2",className:"program-title"}),u.jsxs("div",{className:"program-schedule",children:[u.jsxs("div",{className:"program-day",children:[u.jsx(q,{textKey:"hemsedal-friday-title",defaultText:"Fredag 9/5",tag:"h3",className:"day-title"}),u.jsx(q,{textKey:"hemsedal-friday-schedule",defaultText:"17:00 - 19:00 Nummerlappsutdelning på XCC",tag:"p",className:"schedule-item"})]}),u.jsxs("div",{className:"program-day",children:[u.jsx(q,{textKey:"hemsedal-saturday-title",defaultText:"Lördag 10/5",tag:"h3",className:"day-title"}),u.jsx(q,{textKey:"hemsedal-saturday-schedule1",defaultText:"08:30 - 10:15 Registrering för alla tävlande som ej registrerat sig under fredagen på 157 XCC, på Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(q,{textKey:"hemsedal-saturday-schedule2",defaultText:"10:30 Obligatoriskt informationsmöte vid starten på Lassalyckan stadion.",tag:"p",className:"schedule-item"}),u.jsx(q,{textKey:"hemsedal-saturday-schedule3",defaultText:"11:00 Start AIM Challenge, på Lassalyckan stadion. Gemensam start för 3 & 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(q,{textKey:"hemsedal-saturday-schedule4",defaultText:"14:00 Målgång för 3-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(q,{textKey:"hemsedal-saturday-schedule5",defaultText:"ca 15:30 Prisutdelning 3-timmars tävlingen",tag:"p",className:"schedule-item"}),u.jsx(q,{textKey:"hemsedal-saturday-schedule6",defaultText:"16:30 - 20:00 After AIM med mat och dryck på Hotell Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(q,{textKey:"hemsedal-saturday-schedule7",defaultText:"17:00 Målgång för 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(q,{textKey:"hemsedal-saturday-schedule8",defaultText:"19:00 Prisutdelning utanför Hotell Lassalyckan.",tag:"p",className:"schedule-item"})]})]})]})]})})}),u.jsx("section",{className:"hemsedal-price-section",children:u.jsx("div",{className:"price-container",children:u.jsxs("div",{className:"price-image-container",children:[u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg",alt:"Climbing in Hemsedal",className:"price-background-image"}),u.jsx("div",{className:"price-overlay",children:u.jsxs("div",{className:"price-content",children:[u.jsx(q,{textKey:"hemsedal-price-title",defaultText:"PRIS",tag:"h2",className:"section-title"}),u.jsx(q,{textKey:"hemsedal-price-subtitle",defaultText:"HEMSEDAL 24/8-2024",tag:"h3",className:"price-subtitle"}),u.jsxs("div",{className:"price-categories",children:[u.jsxs("div",{className:"price-category",children:[u.jsx(q,{textKey:"hemsedal-price-3h-title",defaultText:"3-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(q,{textKey:"hemsedal-price-3h-1",defaultText:"1500 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(q,{textKey:"hemsedal-price-3h-2",defaultText:"1700 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(q,{textKey:"hemsedal-price-3h-3",defaultText:"1900 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(q,{textKey:"hemsedal-price-3h-4",defaultText:"2100 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]}),u.jsxs("div",{className:"price-category",children:[u.jsx(q,{textKey:"hemsedal-price-6h-title",defaultText:"6-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(q,{textKey:"hemsedal-price-6h-1",defaultText:"1900 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(q,{textKey:"hemsedal-price-6h-2",defaultText:"2100 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(q,{textKey:"hemsedal-price-6h-3",defaultText:"2300 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(q,{textKey:"hemsedal-price-6h-4",defaultText:"2500 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]})]}),u.jsxs("div",{className:"price-category trippeln-category",children:[u.jsx(q,{textKey:"hemsedal-price-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"h4",className:"category-title"}),u.jsx(q,{textKey:"hemsedal-price-trippeln-1",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari.",tag:"p",className:"price-item"}),u.jsx(q,{textKey:"hemsedal-price-trippeln-2",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari.",tag:"p",className:"price-item"}),u.jsx(q,{textKey:"hemsedal-price-trippeln-3",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(q,{textKey:"hemsedal-price-trippeln-4",defaultText:"6250 SEK / lag för anmälan efter den 25 april.",tag:"p",className:"price-item"})]}),u.jsx("div",{className:"price-button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/13015/about",target:"_blank",rel:"noopener noreferrer",className:"price-anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMÄLAN"})})})]})})]})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx("h2",{className:"latest-news-title",children:"SENASTE NYTT HEMSEDAL"}),u.jsxs("div",{className:"latest-news-container",children:[u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 1"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Te,{to:"/news/1",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 2"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Te,{to:"/news/2",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 3"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Te,{to:"/news/3",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]})]})]}),u.jsx("section",{className:"useful-links-section",children:u.jsxs("div",{className:"useful-links-container",children:[u.jsx("h2",{className:"useful-links-title",children:"NYTTIGA LÄNKAR"}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Cykeluthyrning"}),u.jsxs("p",{className:"links-text",children:["Cykeluthyrning med in- och utlämning på Lassalyckan Stadion."," ",u.jsx("a",{href:"#",className:"links-link",children:"Läs mer och boka här."})]})]}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Boende"}),u.jsx("p",{className:"links-text",children:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten."}),u.jsx("a",{href:"https://www.hotell-lassalyckan.se",className:"links-link",target:"_blank",rel:"noopener noreferrer",children:"https://www.hotell-lassalyckan.se"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Mat"}),u.jsx("p",{className:"links-text",children:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten."})]})]})}),u.jsxs("section",{className:"sponsors-section",children:[u.jsx("h2",{className:"sponsors-title",children:"LOKALA SPONSORER"}),u.jsxs("div",{className:"sponsors-container",children:[u.jsx("div",{className:"s-sponsor-logo side-logo",children:u.jsx("img",{src:"images/UD Logo.png",alt:"UD Logo"})}),u.jsx("div",{className:"s-sponsor-logo main-logo",children:u.jsx("img",{src:"images/Aim_Challenge_logo_white.svg",alt:"AIM Challenge"})}),u.jsx("div",{className:"s-sponsor-logo side-logo",children:u.jsx("img",{src:"images/holdut_logo_sort_1.png",alt:"Holdut Logo"})})]})]})]}),mD=()=>u.jsxs("div",{className:"kolmarden-container",children:[u.jsx("section",{className:"kolmarden-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container",children:u.jsx("img",{src:"/images/Kolmarden_1.jpg",alt:"Kolmarden Event"})})})}),u.jsx("section",{className:"kolmarden-title-section",children:u.jsxs("div",{className:"title-container",children:[u.jsx(q,{textKey:"kolmarden-title",defaultText:"KOLMÅRDEN",tag:"h1",className:"location-title"}),u.jsx(q,{textKey:"kolmarden-date",defaultText:"10 MAJ 2025",tag:"h2",className:"location-date"})]})}),u.jsx("section",{className:"kolmarden-button-section",children:u.jsx("div",{className:"button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMÄLAN"})})})}),u.jsx("section",{className:"kolmarden-program-section",children:u.jsx("div",{className:"program-container",children:u.jsxs("div",{className:"program-cards",children:[u.jsx("div",{className:"program-card image-card",children:u.jsx("img",{src:"/images/Kolmarden_2.jpg",alt:"Kolmarden Event"})}),u.jsxs("div",{className:"program-card info-card",children:[u.jsx(q,{textKey:"kolmarden-program-title",defaultText:"PROGRAM",tag:"h2",className:"program-title"}),u.jsxs("div",{className:"program-schedule",children:[u.jsxs("div",{className:"program-day",children:[u.jsx(q,{textKey:"kolmarden-friday-title",defaultText:"Fredag 9/5",tag:"h3",className:"day-title"}),u.jsx(q,{textKey:"kolmarden-friday-schedule",defaultText:"17:00 - 19:00 Nummerlappsutdelning på XCC",tag:"p",className:"schedule-item"})]}),u.jsxs("div",{className:"program-day",children:[u.jsx(q,{textKey:"kolmarden-saturday-title",defaultText:"Lördag 10/5",tag:"h3",className:"day-title"}),u.jsx(q,{textKey:"kolmarden-saturday-schedule1",defaultText:"08:30 - 10:15 Registrering för alla tävlande som ej registrerat sig under fredagen på 157 XCC, på Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(q,{textKey:"kolmarden-saturday-schedule2",defaultText:"10:30 Obligatoriskt informationsmöte vid starten på Lassalyckan stadion.",tag:"p",className:"schedule-item"}),u.jsx(q,{textKey:"kolmarden-saturday-schedule3",defaultText:"11:00 Start AIM Challenge, på Lassalyckan stadion. Gemensam start för 3 & 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(q,{textKey:"kolmarden-saturday-schedule4",defaultText:"14:00 Målgång för 3-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(q,{textKey:"kolmarden-saturday-schedule5",defaultText:"ca 15:30 Prisutdelning 3-timmars tävlingen",tag:"p",className:"schedule-item"}),u.jsx(q,{textKey:"kolmarden-saturday-schedule6",defaultText:"16:30 - 20:00 After AIM med mat och dryck på Hotell Lassalyckan.",tag:"p",className:"schedule-item"}),u.jsx(q,{textKey:"kolmarden-saturday-schedule7",defaultText:"17:00 Målgång för 6-timmars tävlingen.",tag:"p",className:"schedule-item"}),u.jsx(q,{textKey:"kolmarden-saturday-schedule8",defaultText:"19:00 Prisutdelning utanför Hotell Lassalyckan.",tag:"p",className:"schedule-item"})]})]})]})]})})}),u.jsx("section",{className:"kolmarden-price-section",children:u.jsx("div",{className:"price-container",children:u.jsxs("div",{className:"price-image-container",children:[u.jsx("img",{src:"/images/Kolmarden_1.jpg",alt:"Climbing in Kolmarden",className:"price-background-image"}),u.jsx("div",{className:"price-overlay",children:u.jsxs("div",{className:"price-content",children:[u.jsx(q,{textKey:"kolmarden-price-title",defaultText:"PRIS",tag:"h2",className:"section-title"}),u.jsx(q,{textKey:"kolmarden-price-subtitle",defaultText:"KOLMADERN 10/5-2025",tag:"h3",className:"price-subtitle"}),u.jsxs("div",{className:"price-categories",children:[u.jsxs("div",{className:"price-category",children:[u.jsx(q,{textKey:"kolmarden-price-3h-title",defaultText:"3-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(q,{textKey:"kolmarden-price-3h-1",defaultText:"1500 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(q,{textKey:"kolmarden-price-3h-2",defaultText:"1700 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(q,{textKey:"kolmarden-price-3h-3",defaultText:"1900 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(q,{textKey:"kolmarden-price-3h-4",defaultText:"2100 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]}),u.jsxs("div",{className:"price-category",children:[u.jsx(q,{textKey:"kolmarden-price-6h-title",defaultText:"6-TIMMARS",tag:"h4",className:"category-title"}),u.jsx(q,{textKey:"kolmarden-price-6h-1",defaultText:"1900 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"price-item"}),u.jsx(q,{textKey:"kolmarden-price-6h-2",defaultText:"2100 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"price-item"}),u.jsx(q,{textKey:"kolmarden-price-6h-3",defaultText:"2300 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(q,{textKey:"kolmarden-price-6h-4",defaultText:"2500 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"price-item"})]})]}),u.jsxs("div",{className:"price-category trippeln-category",children:[u.jsx(q,{textKey:"kolmarden-price-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"h4",className:"category-title"}),u.jsx(q,{textKey:"kolmarden-price-trippeln-1",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari.",tag:"p",className:"price-item"}),u.jsx(q,{textKey:"kolmarden-price-trippeln-2",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari.",tag:"p",className:"price-item"}),u.jsx(q,{textKey:"kolmarden-price-trippeln-3",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"price-item"}),u.jsx(q,{textKey:"kolmarden-price-trippeln-4",defaultText:"6250 SEK / lag för anmälan efter den 25 april.",tag:"p",className:"price-item"})]}),u.jsx("div",{className:"price-button-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"price-anmalan-button",children:u.jsx("p",{children:"TA MIG TILL ANMÄLAN"})})})]})})]})})}),u.jsxs("section",{id:"latest-news",className:"latest-news-section",children:[u.jsx("h2",{className:"latest-news-title",children:"SENASTE NYTT KOLMADERN"}),u.jsxs("div",{className:"latest-news-container",children:[u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/Kolmarden_2.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 1"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Te,{to:"/news/1",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 2"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Te,{to:"/news/2",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]}),u.jsxs("div",{className:"news-card",children:[u.jsx("div",{className:"news-image",children:u.jsx("img",{src:"/images/Kolmarden_3.jpg",alt:"News"})}),u.jsxs("div",{className:"news-content",children:[u.jsx("h3",{className:"news-location",children:"NYHETSARTIKEL 3"}),u.jsx("p",{className:"news-description",children:"Brödtext om tävlingen, 2 korta em-ningar"}),u.jsx("div",{className:"news-button",children:u.jsx(Te,{to:"/news/3",className:"button-2",children:u.jsx("span",{children:"LÄS MER"})})})]})]})]})]}),u.jsx("section",{className:"useful-links-section",children:u.jsxs("div",{className:"useful-links-container",children:[u.jsx("h2",{className:"useful-links-title",children:"NYTTIGA LÄNKAR"}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Cykeluthyrning"}),u.jsxs("p",{className:"links-text",children:["Cykeluthyrning med in- och utlämning på Lassalyckan Stadion."," ",u.jsx("a",{href:"#",className:"links-link",children:"Läs mer och boka här."})]})]}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Boende"}),u.jsx("p",{className:"links-text",children:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten."}),u.jsx("a",{href:"https://www.hotell-lassalyckan.se",className:"links-link",target:"_blank",rel:"noopener noreferrer",children:"https://www.hotell-lassalyckan.se"})]}),u.jsxs("div",{className:"links-category",children:[u.jsx("h3",{className:"links-category-title",children:"Mat"}),u.jsx("p",{className:"links-text",children:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten."})]})]})}),u.jsxs("section",{className:"sponsors-section",children:[u.jsx("h2",{className:"sponsors-title",children:"LOKALA SPONSORER"}),u.jsxs("div",{className:"sponsors-container",children:[u.jsx("div",{className:"s-sponsor-logo side-logo",children:u.jsx("img",{src:"images/UD Logo.png",alt:"UD Logo"})}),u.jsx("div",{className:"s-sponsor-logo main-logo",children:u.jsx("img",{src:"images/Aim_Challenge_logo_white.svg",alt:"AIM Challenge"})}),u.jsx("div",{className:"s-sponsor-logo side-logo",children:u.jsx("img",{src:"images/holdut_logo_sort_1.png",alt:"Holdut Logo"})})]})]})]}),jc=({imageKey:s,defaultSrc:e,alt:n,className:a="",style:l={}})=>{const{getText:c,updateText:h,isAdmin:g}=Cs(),[p,y]=O.useState(!1),[E,A]=O.useState(""),[w,I]=O.useState(""),L=c(s,e),z=()=>{!p&&g&&(y(!0),A(L),I(""))},V=()=>{if(E.trim()===""){I("Please enter an image URL");return}try{new URL(E),h(s,E),y(!1)}catch{E.startsWith("/")||E.includes("./")?(h(s,E),y(!1)):I("Please enter a valid URL or path")}},B=()=>{y(!1),I("")},F=G=>{const Y=G.target.files[0];if(!Y)return;if(!Y.type.startsWith("image/")){I("Please select an image file");return}const W=new FileReader;W.onload=le=>{A(le.target.result)},W.readAsDataURL(Y)};return p?u.jsxs("div",{className:"editable-image-container",style:{position:"relative",margin:"10px 0"},children:[u.jsx("div",{style:{marginBottom:"10px"},children:u.jsx("img",{src:E||L,alt:n,className:a,style:{maxWidth:"300px",border:"2px solid #00a6fb",...l}})}),u.jsxs("div",{style:{marginBottom:"10px"},children:[u.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Image URL:"}),u.jsx("input",{type:"text",value:E,onChange:G=>A(G.target.value),style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:"4px"},placeholder:"Enter image URL or upload a file"}),w&&u.jsx("p",{style:{color:"red",margin:"5px 0"},children:w})]}),u.jsxs("div",{style:{marginBottom:"10px"},children:[u.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Or upload an image:"}),u.jsx("input",{type:"file",accept:"image/*",onChange:F,style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:"4px"}})]}),u.jsxs("div",{style:{display:"flex",gap:"8px"},children:[u.jsx("button",{onClick:V,style:{padding:"8px 16px",background:"#00a6fb",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Spara"}),u.jsx("button",{onClick:B,style:{padding:"8px 16px",background:"#ccc",color:"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Avbryt"})]})]}):u.jsx("img",{src:L,alt:n,className:`${a} ${g?"editable":""}`,onClick:z,style:{...l,cursor:g?"pointer":"default",border:g?"2px dashed #00a6fb":"none"}})},gD=()=>u.jsxs("div",{className:"trippeln-container",children:[u.jsx("section",{className:"trippeln-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container",children:u.jsx(jc,{imageKey:"trippeln-hero-image",defaultSrc:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_057.jpg",alt:"Trippeln Hero"})})})}),u.jsx("section",{className:"trippeln-title-section",children:u.jsx("div",{className:"title-container",children:u.jsx(q,{textKey:"trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN",tag:"h1",className:"location-title"})})}),u.jsx("section",{className:"trippeln-content-section",children:u.jsx("div",{className:"trippeln-content-container",children:u.jsxs("div",{className:"trippeln-content",children:[u.jsx("p",{className:"trippeln-text",children:"Trippeln är en tävling i tävlingen där de som deltar i minst tre av årets deltävlingar är med och tävlar om den mycket hedervärda titeln Vinnare av AIM Challenge Trippeln!"}),u.jsx("p",{className:"trippeln-text",children:"AIM Challenge Trippeln ersätter Landskampen som sedan 2010 har varit en tävling i tävlingen för de som genomfört AIM Challenge både i Lindvallen och Hemsedal. En tävling där det tävlats för antingen Sverige eller Norge, där det vinnande landet har hyllats och den som bidragit mest till sitt land har prisats."}),u.jsx("p",{className:"trippeln-text",children:"Med AIM Challenge Trippeln lägger vi ner stridsyxan mellan Sverige och Norge och gör det därmed möjligt att även köra mixade lag mellan olika nationer utan att detta skapar en konflikt."}),u.jsx("h2",{className:"trippeln-subheading",children:"Hur går AIM Challenge Trippeln till:"}),u.jsx("p",{className:"trippeln-text",children:"AIM Challenge Trippeln är en tävling i tävlingen för de lag som deltar på minst tre deltävlingar under ett och samma år. Tävlingarna som ingår är Ulricehamn, Sälen, Hemsedal och Kolmården. Det är fritt för laget att välja om ni önskar att delta i 3- eller 6-timmars tävlingen i Ulricehamn och Kolmården, båda anses att vara likvärdiga för Trippeln."}),u.jsx("p",{className:"trippeln-text",children:"Vid anmälan till Trippeln blir man per automatik anmäld till alla fyra deltävlingar och väljer själv om man vill delta i tre eller fyra tävlingar. Priset för att anmäla sig till trippeln är rabatterat och blir billigare redan vid start i tre deltävlingar. Skulle ett lag delta i alla fyra deltävlingarna så räknas de tre bästa resultaten till Trippeln."}),u.jsx("p",{className:"trippeln-text",children:"Det gäller att samla så många poäng som möjligt under årets tävlingar där varje lag får räkna in sina tre bästa resultat från det gångna året. Vinnaren av AIM Challenge Trippeln kommer att utses genom ett poängsystem som bygger på hur många poäng laget fått procentuellt i förhållande till vinnarlaget i respektive klass. Varje lag kommer då få en poängsumma mellan 1 och 100 per tävling och efter alla deltävlingarna kommer dessa poäng att adderas och det lag med högst sammanlagda poäng kommer att stå på prispallen! Skulle två lag få samma sammanlagda poäng så kommer vi se på placeringar i de enskilda loppen för att utse en vinnare."}),u.jsx("p",{className:"trippeln-text",children:"Vid anmälan till AIM Challenge Trippeln så anmäler sig laget till alla fyra deltävlingarna, varav minst tre måste genomföras för att få ett resultat i Trippeln. Ett lag består av två personer, men om någon i laget skulle få förhinder inför någon av tävlingarna så gäller följande: För att resultatet i Trippeln skall bli godkänt så måste minst en i laget delta i alla tre tävlingarna, samt att deltagare 2 deltar vid minst två deltävlingar. Det vill säga att det är möjligt att ta in en reserv under en av deltävlingarna och fortfarande tävla som lag om den hedervärda titeln! I det fall deltagare 1 tävlat med tre olika lagkompisar under året är det enbart den som deltagit vid alla tre tävlingarna som kommer att premieras."}),u.jsx("p",{className:"trippeln-text",children:"Det är inte möjligt att sälja sin startplats i Trippeln vidare för den tävling som laget eventuellt inte deltar i."})]})})}),u.jsx("section",{className:"trippeln-cta-section",children:u.jsx("div",{className:"cta-container",children:u.jsx("a",{href:"https://raceid.com/sv/races/13016/about",target:"_blank",rel:"noopener noreferrer",className:"trippeln-cta-button",children:"TA MIG TILL ANMÄLAN"})})}),u.jsx("div",{className:"locked-background"})]}),pD=({onClose:s,onUploadSuccess:e,years:n=["2023","2022","2021","2020","2019","2018","2017","2016","2015"],categories:a=["Herrar","Damer","Mixed"],durations:l=["3 timmar","6 timmar","12 timmar","24 timmar"],locations:c=["Ulricehamn","Borås","Göteborg","Jönköping","Stockholm"],year:h})=>{const{currentUser:g}=xr(),[p,y]=O.useState("Ulricehamn"),[E,A]=O.useState(h||"2023"),[w,I]=O.useState("Herrar"),[L,z]=O.useState("3 timmar"),[V,B]=O.useState(null),[F,G]=O.useState(""),[Y,W]=O.useState(!1),le=k=>{const T=k.target.files[0];T&&(B(T),G(""))},P=async k=>{if(k.preventDefault(),!V){G("Please select a file to upload");return}W(!0),G("");try{const T=fi(gi,`results/${V.name}`),N=await Nc(T,V),j=`https://firebasestorage.googleapis.com/v0/b/${N.ref.bucket}/o/${encodeURIComponent(N.ref.fullPath)}?alt=media`,C={year:parseInt(E),location:p,category:w,duration:L,fileName:V.name,fileUrl:j,uploadedAt:new Date().toISOString(),uploadedBy:g.uid},R=`${E}_${p}_${w}_${Date.now()}`;await xa(Yt(mt,"results",R),{...C,id:R}),B(null),e({...C,id:R}),s()}catch(T){console.error("Upload failed:",T),G("Upload failed: "+T.message)}finally{W(!1)}};return u.jsx("div",{className:"result-upload-modal-overlay",children:u.jsxs("div",{className:"result-upload-modal",children:[u.jsxs("div",{className:"result-upload-modal-header",children:[u.jsx("h2",{children:"Ladda upp resultat"}),u.jsx("button",{className:"result-upload-modal-close",onClick:s,children:"×"})]}),u.jsx("div",{className:"result-upload-modal-body",children:u.jsxs("form",{className:"result-upload-modal-form",onSubmit:P,children:[u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"Plats"}),u.jsx("select",{className:"result-upload-modal-select",value:p,onChange:k=>y(k.target.value),children:c.map((k,T)=>u.jsx("option",{value:k,children:k},T))})]}),u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"År"}),u.jsx("select",{className:"result-upload-modal-select",value:E,onChange:k=>A(k.target.value),children:n.map((k,T)=>u.jsx("option",{value:k,children:k},T))})]}),u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"Kategori"}),u.jsx("select",{className:"result-upload-modal-select",value:w,onChange:k=>I(k.target.value),children:a.map((k,T)=>u.jsx("option",{value:k,children:k},T))})]}),u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"Distans"}),u.jsx("select",{className:"result-upload-modal-select",value:L,onChange:k=>z(k.target.value),children:l.map((k,T)=>u.jsx("option",{value:k,children:k},T))})]}),u.jsxs("div",{className:"result-upload-modal-field",children:[u.jsx("label",{children:"Fil"}),u.jsx("input",{type:"file",className:"result-upload-modal-file-input",onChange:le,accept:".txt,.pdf,.doc,.docx,.xls,.xlsx"})]}),F&&u.jsx("div",{className:"result-upload-modal-error",children:F}),u.jsxs("div",{className:"result-upload-modal-actions",children:[u.jsx("button",{type:"button",className:"result-upload-modal-cancel",onClick:s,disabled:Y,children:"Avbryt"}),u.jsx("button",{type:"submit",className:"result-upload-modal-submit",disabled:Y||!V,children:Y?"Laddar upp...":"Ladda upp"})]})]})})]})})},yD=Zn(mt,"results"),_D=async(s={})=>{try{let e=sr(yD);s.year&&(e=sr(e,rd("year","==",parseInt(s.year)))),s.category&&(e=sr(e,rd("category","==",s.category))),s.duration&&(e=sr(e,rd("duration","==",s.duration))),s.location&&(e=sr(e,rd("location","==",s.location)));const n=await ur(e),a=[];return n.forEach(l=>{const c=l.data();a.push({id:l.id,...c,year:parseInt(c.year)})}),console.log("Firebase results:",a),a}catch(e){throw console.error("Error getting results:",e),e}},vD=async(s,e)=>{try{if(await op(Yt(mt,"results",s)),e){const n=fi(gi,e);await mh(n)}}catch(n){throw console.error("Error deleting result:",n),n}},xD=()=>{const{currentUser:s}=xr(),[e,n]=O.useState("all"),[a,l]=O.useState("all"),[c,h]=O.useState("all"),[g,p]=O.useState([]),[y,E]=O.useState(!0),[A,w]=O.useState(!1),[I,L]=O.useState(""),z=(s==null?void 0:s.role)==="admin",V=[2025,2024,2023,2022,2021,2020,2019,2018],B=["Herrar","Damer","Mixed"],F=["3 timmar","6 timmar"],G=["Ulricehamn","Sälen","Hemsedal","Kolmården"];O.useEffect(()=>{console.log("Fetching results..."),Y()},[]);const Y=async()=>{try{E(!0),L(""),console.log("Getting results from Firebase...");const N=await _D({});console.log("Got results:",N),p(N||[])}catch(N){console.error("Error fetching results:",N),L("Failed to load results. Please try again later.")}finally{E(!1)}},W=async N=>{if(window.confirm("Är du säker på att du vill ta bort detta resultat?"))try{E(!0);const j=g.find(R=>R.id===N);await vD(N,j.fileUrl);const C=g.filter(R=>R.id!==N);p(C)}catch(j){console.error("Error deleting result:",j),L("Failed to delete result. Please try again.")}finally{E(!1)}},le=()=>{w(!0)},P=()=>{w(!1)},k=N=>{console.log("New result:",N),p(j=>[N,...j]),P()},T=N=>{let j=[...g];return e!=="all"&&(j=j.filter(C=>C.year===parseInt(e))),a!=="all"&&(j=j.filter(C=>C.category===a)),c!=="all"&&(j=j.filter(C=>C.duration===c)),j=j.filter(C=>C.location===N),console.log("Filtered results for",N,":",j),j};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"results-header-banner"}),u.jsxs("div",{className:"results-container",children:[u.jsx("h1",{className:"results-header-title",children:"Multisport för alla"}),u.jsxs("section",{className:"results-filters-section",children:[u.jsxs("div",{className:"results-filters",children:[u.jsxs("select",{value:e,onChange:N=>n(N.target.value),className:"results-filter-select",children:[u.jsx("option",{value:"all",children:"Alla År"}),V.map(N=>u.jsx("option",{value:N,children:N},N))]}),u.jsxs("select",{value:a,onChange:N=>l(N.target.value),className:"results-filter-select",children:[u.jsx("option",{value:"all",children:"Alla Kategorier"}),B.map(N=>u.jsx("option",{value:N,children:N},N))]}),u.jsxs("select",{value:c,onChange:N=>h(N.target.value),className:"results-filter-select",children:[u.jsx("option",{value:"all",children:"Alla Distanser"}),F.map(N=>u.jsx("option",{value:N,children:N},N))]})]}),u.jsx("div",{className:"results-upload-section",children:z&&u.jsx("button",{onClick:le,className:"upload-result-button",children:"Ladda upp resultat"})})]}),I&&u.jsx("div",{className:"results-error",children:I}),u.jsx("section",{className:"results-content-section",children:u.jsx("div",{className:"results-grid",children:G.map(N=>u.jsxs("div",{className:"results-location-card",children:[u.jsx("h2",{className:"results-location-title",children:N}),u.jsx("div",{className:"results-list",children:y?u.jsx("div",{className:"results-loading",children:"Laddar..."}):T(N).map(j=>u.jsxs("div",{className:"results-item",children:[u.jsx("a",{href:j.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"results-link",children:u.jsxs("div",{className:"results-info",children:[u.jsx("span",{className:"results-year",children:j.year}),u.jsx("span",{className:"results-category",children:j.category}),u.jsx("span",{className:"results-duration",children:j.duration})]})}),z&&u.jsx("button",{onClick:()=>W(j.id),className:"results-delete-button",children:"Ta bort"})]},j.id))})]},N))})}),A&&u.jsx(pD,{onClose:P,onUploadSuccess:k,isAdmin:z,locations:G,years:V,categories:B,durations:F})]})]})},ED=()=>{const[s,e]=O.useState(null),[n,a]=O.useState([]),[l,c]=O.useState(1),h=8,[g,p]=O.useState({}),y=O.useMemo(()=>["/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_025.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_057.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_065.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_113.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_138.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_150.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_202.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_209.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_213.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_235.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_246.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_265.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_352.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0132-high.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0136-high.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0171-high.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0405-high.jpg","/AimRV/images/Kolmarden_1.jpg","/AimRV/images/Kolmarden_2.jpg"],[]),E=O.useCallback(()=>{const L=(l-1)*h,z=l*h,V=y.slice(L,z);a(B=>[...B,...V]),c(B=>B+1)},[l,y,h]);O.useEffect(()=>{E()},[E]),O.useEffect(()=>{const L=()=>{window.innerHeight+document.documentElement.scrollTop>=document.documentElement.offsetHeight-100&&(l-1)*h<y.length&&E()};return window.addEventListener("scroll",L),()=>window.removeEventListener("scroll",L)},[E,l,y.length,h]),O.useEffect(()=>{if(s!==null){const L=new Image;L.src=n[s],L.onload=()=>{p(z=>({...z,[s]:!0}))}}},[s,n]);const A=L=>{e(s===L?null:L)},I=(()=>{const L=[];let z=[],V=4;return n.forEach((B,F)=>{z.push({image:B,index:F}),z.length===V&&(L.push(z),z=[],V=V===4?3:4)}),z.length>0&&L.push(z),L})();return u.jsxs("div",{children:[u.jsx("div",{style:{height:"120px"}}),u.jsxs("div",{className:"gallery-container",style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.1rem",padding:"0.25rem",position:"relative"},children:[I.map((L,z)=>u.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"3rem",width:"100%",marginBottom:"-20px",paddingLeft:L.length===3?"10%":"0",paddingRight:L.length===3?"10%":"0"},children:L.map(({image:V,index:B})=>{const F=s===B;return u.jsx("div",{onClick:()=>A(B),style:{width:F?"80vw":"250px",height:F?"80vh":"250px",transition:"all 0.5s ease",cursor:"pointer",position:F?"fixed":"relative",top:F?"50%":"auto",left:F?"50%":"auto",transform:F?"translate(-50%, -50%) rotate(0deg)":"rotate(45deg) scale(0.9)",zIndex:F?1e3:1,border:"2px solid #00a6fb",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 8px rgba(0, 166, 251, 0.3)",margin:"0.1rem 1.5rem"},children:u.jsx("img",{src:V,alt:`Gallery image ${B+1}`,loading:"lazy",width:F?"auto":"250",height:F?"auto":"250",style:{width:"100%",height:"100%",objectFit:"cover",transform:F?"rotate(0deg) scale(1)":"rotate(-45deg) scale(1.5)"}})},B)})},z)),s!==null&&u.jsx("div",{onClick:()=>e(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",zIndex:999}}),n.length<y.length&&u.jsx("div",{style:{width:"100%",textAlign:"center",padding:"2rem"},children:u.jsx("button",{onClick:E,style:{padding:"0.75rem 1.5rem",backgroundColor:"#00a6fb",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1rem",fontWeight:"bold"},children:"Load More Images"})})]}),u.jsx("div",{style:{height:"80px"}})]})},TD=()=>{const[s,e]=O.useState(0),[n,a]=O.useState(!1),l=O.useRef([]),c=[{id:1,src:"/videos/AIM nr 1 Formula 16x9.mov",title:"AIM Challenge Formula",description:"Highlights from the AIM Challenge Formula event"},{id:2,src:"/videos/AIM nr 1 Formula 16x9.mov",title:"AIM Challenge Highlights",description:"More exciting moments from the AIM Challenge"},{id:3,src:"/videos/AIM nr 1 Formula 16x9.mov",title:"AIM Challenge Recap",description:"A recap of the amazing AIM Challenge events"}];O.useEffect(()=>{l.current=l.current.slice(0,c.length)},[c.length]);const h=y=>{l.current.forEach((E,A)=>{A!==y&&E&&E.pause()}),a(!0),e(y)},g=()=>{e(y=>(y+1)%c.length)},p=()=>{e(y=>(y-1+c.length)%c.length)};return u.jsxs("div",{className:"video-carousel-container",style:{padding:"80px 0 40px 0",backgroundColor:"#f0f8ff",borderTop:"1px solid #e0e0e0",width:"100%",maxWidth:"100%"},children:[u.jsx("h2",{style:{textAlign:"center",marginBottom:"30px",color:"#00a6fb",fontSize:"2rem"},children:"AIM Challenge Videos"}),u.jsxs("div",{style:{position:"relative",width:"100%",margin:"0 auto",overflow:"hidden"},children:[u.jsx("button",{onClick:p,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",zIndex:10,background:"rgba(0, 166, 251, 0.7)",color:"white",border:"none",borderRadius:"50%",width:"50px",height:"50px",fontSize:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},"aria-label":"Previous video",children:"<"}),u.jsx("button",{onClick:g,style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",zIndex:10,background:"rgba(0, 166, 251, 0.7)",color:"white",border:"none",borderRadius:"50%",width:"50px",height:"50px",fontSize:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},"aria-label":"Next video",children:">"}),u.jsx("div",{style:{display:"flex",transition:"transform 0.5s ease",transform:`translateX(${s*-100}%)`,width:"100%",position:"relative"},children:c.map((y,E)=>u.jsx("div",{style:{flex:"0 0 100%",padding:"0 20px",boxSizing:"border-box",width:"100%"},children:u.jsxs("div",{style:{background:"#fff",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",maxWidth:"1200px",margin:"0 auto"},children:[u.jsx("div",{style:{position:"relative",paddingTop:"56.25%"},children:u.jsx("video",{ref:A=>l.current[E]=A,src:y.src,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"},controls:!0,onPlay:()=>h(E),onPause:()=>a(!1)})}),u.jsxs("div",{style:{padding:"20px"},children:[u.jsx("h3",{style:{margin:"0 0 10px 0",color:"#00a6fb",fontSize:"1.5rem"},children:y.title}),u.jsx("p",{style:{margin:0,color:"#333",lineHeight:1.6},children:y.description})]})]})},y.id))}),u.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:c.map((y,E)=>u.jsx("button",{onClick:()=>e(E),style:{width:"12px",height:"12px",borderRadius:"50%",margin:"0 5px",background:E===s?"#00a6fb":"#ccc",border:"none",cursor:"pointer"}},E))})]})]})},bD=()=>u.jsxs("div",{className:"om-oss-container",children:[u.jsx("section",{className:"om-oss-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container",children:u.jsx(jc,{imageKey:"om-oss-hero-image",defaultSrc:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",alt:"Om Oss Hero"})})})}),u.jsx("section",{className:"om-oss-title-section",children:u.jsx("div",{className:"title-container",children:u.jsx(q,{textKey:"om-oss-title",defaultText:"OM OSS",tag:"h1",className:"location-title"})})}),u.jsx("section",{className:"om-oss-section flex flex_j_C flex_a_C",children:u.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C ",children:u.jsxs("div",{className:"om-oss-content-wrapper",children:[u.jsx(q,{textKey:"om-oss-title-1",defaultText:"Vad är AIM Challenge?",tag:"h2",className:"fonts_large om-oss-title"}),u.jsx(q,{textKey:"om-oss-text-1",defaultText:"AIM Challenge är en multisporttävling som arrangeras i Åre, Sverige. Tävlingen går ut på att ta sig runt en bana med hjälp av karta och kompass. Längs banan finns kontroller som ska besökas i rätt ordning.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(q,{textKey:"om-oss-text-2",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(q,{textKey:"om-oss-text-3",defaultText:"Tävlingen arrangeras av AIM Challenge AB och har funnits sedan 2004. Tävlingen har utvecklats under åren och är idag en av Sveriges största multisporttävlingar.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(q,{textKey:"om-oss-text-4",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(q,{textKey:"om-oss-text-5",defaultText:"AIM Challenge är en tävling för alla. Oavsett om du är elit eller motionär finns det en klass för dig. Tävlingen är uppdelad i olika klasser beroende på svårighetsgrad och längd.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(q,{textKey:"om-oss-text-6",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(q,{textKey:"om-oss-text-7",defaultText:"Tävlingen går ut på att ta sig runt en bana med hjälp av karta och kompass. Längs banan finns kontroller som ska besökas i rätt ordning. Tävlingen innehåller olika moment som löpning, cykling, paddling, simning och klättring.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(q,{textKey:"om-oss-text-8",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"})]})})}),u.jsx("div",{className:"om-oss-background-container locked-background"}),u.jsx("section",{className:"om-oss-section flex flex_j_C flex_a_C ",children:u.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C",children:u.jsxs("div",{className:"om-oss-content-wrapper",children:[u.jsx(q,{textKey:"om-oss-title-2",defaultText:"Så här är det att vara med i AIM Challenge",tag:"h2",className:"fonts_large om-oss-title"}),u.jsx(q,{textKey:"om-oss-text-9",defaultText:"AIM Challenge är en rolig tävling. Det är oftast det som är det centrala i de deltagarkommentarer vi får både från eliten och motionärerna. Man färdas till största delen med hjälp av sin mountainbike och sina löparskor, men också i klättersele, paddlandes i kanot eller så strippar man helt enkelt och simmar ut till kontroller som är i vattnet.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(q,{textKey:"om-oss-text-10",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(q,{textKey:"om-oss-text-11",defaultText:"Det finns inga krav på förkunskaper om de olika momenten utan vi har kunnig personal vid varje post som innefattas av klättring, firning, simning, paddling. Varje lag genomför tävlingen i sin egen takt och med egen strategi. Visst finns det de lag som satsar allt för att knipa segern och det är det som är det roliga med konceptet. Elit och motionär tävlar på samma villkor på samma bana.",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(q,{textKey:"om-oss-text-12",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),u.jsx(q,{textKey:"om-oss-text-13",defaultText:"Våra deltagare är allt ifrån världseliten i multisport som Thule Adventure team, Team Silva, Team Multitude Salomon men också glada motionärer allt från åldrarna 15 till pensionärer. Oavsett ålder och fysiska förutsättningar är detta ett roligt och annorlunda sätt att tävla på.",tag:"p",className:"fonts_small om-oss-text"})]})})}),u.jsxs("section",{className:"om-oss-cards-container",children:[u.jsxs("div",{className:"om-oss-card",children:[u.jsxs("div",{className:"om-oss-card-content",children:[u.jsx(q,{textKey:"card-1-title",defaultText:"REGLER",tag:"p",className:"font_blue fonts_medium_B"}),u.jsx(q,{textKey:"card-1-text",defaultText:"Tävlingsregler och information",tag:"p",className:"font_blue fonts_medium"})]}),u.jsx("div",{className:"om-oss-card-button",children:u.jsx(Te,{to:"/page2",className:"location",children:"LÄS MER"})})]}),u.jsxs("div",{className:"om-oss-card",children:[u.jsxs("div",{className:"om-oss-card-content",children:[u.jsx(q,{textKey:"card-2-title",defaultText:"FAQ",tag:"p",className:"font_blue fonts_medium_B"}),u.jsx(q,{textKey:"card-2-text",defaultText:"Vanliga frågor och svar",tag:"p",className:"font_blue fonts_medium"})]}),u.jsx("div",{className:"om-oss-card-button",children:u.jsx(Te,{to:"/page3",className:"location",children:"LÄS MER"})})]}),u.jsxs("div",{className:"om-oss-card",children:[u.jsxs("div",{className:"om-oss-card-content",children:[u.jsx(q,{textKey:"card-3-title",defaultText:"HISTORIEN OM AIM",tag:"p",className:"font_blue fonts_medium_B"}),u.jsx(q,{textKey:"card-3-text",defaultText:"Vår resa sedan 2004",tag:"p",className:"font_blue fonts_medium"})]}),u.jsx("div",{className:"om-oss-card-button",children:u.jsx(Te,{to:"/page3",className:"location",children:"LÄS MER"})})]})]})]}),AD=()=>u.jsxs("div",{className:"regler-container",children:[u.jsx("section",{className:"regler-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container",children:u.jsx(jc,{imageKey:"regler-hero-image",defaultSrc:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg",alt:"Regler Hero"})})})}),u.jsx("section",{className:"regler-title-section",children:u.jsx("div",{className:"title-container",children:u.jsx(q,{textKey:"regler-title",defaultText:"REGLER",tag:"h1",className:"location-title"})})}),u.jsx("section",{className:"regler-content-section",children:u.jsx("div",{className:"regler-content-container",children:u.jsxs("div",{className:"regler-content",children:[u.jsx("h2",{className:"regler-heading",children:"LAGET"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"regler-list-item",children:"Åldersgräns 15år/18år"}),u.jsx("li",{className:"regler-list-item",children:"Båda deltagarna måste ha olycksförsäkring som täcker olyckor i samband med tävling/idrottsaktiviteter."}),u.jsx("li",{className:"regler-list-item",children:"Det är lagets ansvar att se till att de är registrerade i rätt klass."}),u.jsx("li",{className:"regler-list-item",children:"Startnummer ska placeras fram på cykel samt synligt på kroppen på båda deltagarna"}),u.jsx("li",{className:"regler-list-item",children:"Det är tillåtet att använda GPS men det är alltid kartan som gäller. GPSens kartunderlag stämmer inte alltid överens med den utskrivna AIM kartan."}),u.jsx("li",{className:"regler-list-item",children:"Laget ska alltid vara samlade max 20 meter mellan lagmedlemmarna."}),u.jsx("li",{className:"regler-list-item",children:"Det är inte tillåtet att ha följebil."})]}),u.jsx("h2",{className:"regler-heading",children:"SÄKERHET"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"regler-list-item",children:"Lagen väljer själva vilka kontroller de klarar att ta baserat på väder, egen färdighet och kunskap."}),u.jsx("li",{className:"regler-list-item",children:"Lagen väljer själva vilken väg de vill ta till kontrollerna baserat på väder, egen färdighet och kunskap."}),u.jsx("li",{className:"regler-list-item",children:"Trafiken är inte reglerad under tävlingen."}),u.jsx("li",{className:"regler-list-item",children:"Trafikregler gäller alltid."}),u.jsx("li",{className:"regler-list-item",children:"Första hjälpen kit ska bäras med under hela tävlingen"}),u.jsx("li",{className:"regler-list-item",children:"Hjälm ska bäras under all cykling, klättring, bouldering och rappellering"}),u.jsx("li",{className:"regler-list-item",children:"Vid olycka är det obligatoriska att hjälpa till."}),u.jsx("li",{className:"regler-list-item",children:"Vid allvarlig olycka ring nöd nummer 112 i Sverige och 113 i Norge"}),u.jsx("li",{className:"regler-list-item",children:"Vid behov för enklare medicinsk hjälp ring telefonnumret på baksidan av kartan"}),u.jsx("li",{className:"regler-list-item",children:"Tävlingsledningens direktiv gäller alltid."})]}),u.jsx("h2",{className:"regler-heading",children:"ÖVRIGT"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"regler-list-item",children:"Elcyklar är ej tillåtet, med undantag för Elcykelklassen i Hemsedal."}),u.jsx("li",{className:"regler-list-item",children:"Beroende på kapacitet är det möjligt att använda liften i Hemsedal, lyssna noga på vad speakern ger för information för vad som gäller för årets tävling."}),u.jsx("li",{className:"regler-list-item",children:"Deltagare som bryter ska genast meddela tävlingsledningen. Telefonnummer står på kartan."}),u.jsx("li",{className:"regler-list-item",children:"Synliga, osynliga och tävlande domare befinner sig i tävlingsområdet och ser till att reglerna följs."}),u.jsx("li",{className:"regler-list-item",children:"Regelbrott kan leda till poängavdrag eller diskvalificering"}),u.jsx("li",{className:"regler-list-item",children:"Deltagare som vinner priser som lottas ut pga olika händelser eller som dras på startnummer måste närvara på prisutdelningen för att få sitt pris. Är man inte närvarande och ditt namn/lagnamn dras drar vi reservnamn/lagnamn."}),u.jsx("li",{className:"regler-list-item",children:"LINDVALLEN, viadukten mellan Lodgen och Experium är stängd under hela tävlingen."}),u.jsx("li",{className:"regler-list-item",children:"Tävlingsledningens beslut går inte att överklaga."}),u.jsx("li",{className:"regler-list-item",children:"Kloka människor skräpar inte ner, för alla andra är det förbjudet."}),u.jsx("li",{className:"regler-list-item",children:"Respektera privat mark, ta inte genvägar över privata områden"}),u.jsx("li",{className:"regler-list-item",children:"Beträda odlad mark är förbjudet. Åkrar som inte har skördats är odlad mark."}),u.jsx("li",{className:"regler-list-item",children:"Stäng alla grindar som ni öppnar."}),u.jsx("li",{className:"regler-list-item",children:"Visa betande djur respekt genom att stiga av cykeln och gå förbi dem."})]}),u.jsx("h2",{className:"regler-heading",children:"OBLIGATORISK UTRUSTNING"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"regler-list-item",children:"Cykel, utan elmotor med undantag för Elcykelklassen i Hemsedal."}),u.jsx("li",{className:"regler-list-item",children:"Cykelhjälm vid cykling"}),u.jsx("li",{className:"regler-list-item",children:"Mobiltelefon (1 st per lag)"}),u.jsx("li",{className:"regler-list-item",children:"Första hjälpen (1 st per lag)"})]}),u.jsx("h2",{className:"regler-heading",children:"VI REKOMMENDERAR ATT NI ÄVEN HAR MED ER"}),u.jsxs("ul",{className:"regler-list",children:[u.jsx("li",{className:"regler-list-item",children:"Förstärkningskläder vid hastigt väderomslag"}),u.jsx("li",{className:"regler-list-item",children:"Kompass"}),u.jsx("li",{className:"regler-list-item",children:"Vatten i en Camelbak"}),u.jsx("li",{className:"regler-list-item",children:"Energy bars eller liknande"}),u.jsx("li",{className:"regler-list-item",children:"Klocka"}),u.jsx("li",{className:"regler-list-item",children:"Löparskor"}),u.jsx("li",{className:"regler-list-item",children:"Cykelslang och reparationskit + övriga verktyg, tex en biketool för enklare justeringar"})]}),u.jsx("h2",{className:"regler-heading",children:"AIM CHALLENGE STÅR FÖR"}),u.jsx("ul",{className:"regler-list",children:u.jsx("li",{className:"regler-list-item",children:"Kanot, SUP, sele, rep, hjälm vid firningar/klättring. All utrustning vid bemannade poster finns där klättring etc förekommer."})}),u.jsx("h2",{className:"regler-heading",children:"VILLKOR I FÖRBINDELSE MED ANMÄLAN"}),u.jsx("p",{className:"regler-list-item",children:"Villkor i förbindelse med anmälan"}),u.jsxs("p",{className:"regler-contact",children:["Om du har frågor:"," ",u.jsx("a",{href:"mailto:info@aimchallenge.com",children:"info@aimchallenge.com"})]})]})})}),u.jsx("div",{className:"locked-background",style:{height:"50vh",width:"100%",marginBottom:"60px"}})]}),wD=({question:s,answer:e})=>{const[n,a]=O.useState(!1),l=()=>{a(!n)};return u.jsxs("div",{className:"faq-item",children:[u.jsxs("div",{className:`faq-question ${n?"active":""}`,onClick:l,children:[u.jsx("h3",{className:"question-text",children:s}),u.jsx("span",{className:"icon",children:n?"▲":"▼"})]}),u.jsx("div",{className:`faq-answer ${n?"open":""}`,children:u.jsx("p",{children:e})})]})},ud=({title:s,items:e})=>u.jsxs("div",{className:"faq-category",children:[u.jsx("h2",{className:"faq-category-title",children:s}),e.map((n,a)=>u.jsx(wD,{question:n.question,answer:n.answer},a))]}),SD=()=>{const s=[{question:"Jag är nybörjare på multisport, kan jag delta?",answer:"Absolut, det är DU som väljer väg och antal kontroller. Ta 5 kontroller och ha en fin tur på fjället, eller ta 40 och vinn. Alla kan delta efter egen förmåga och ambition."},{question:"Hur ser tävlingen ut?",answer:"Tävlingen går ut på att samla så många kontroller som möjligt inom 6 timmar. Kontrollerna är värda olika poäng, ju svårare att nå desto högre poäng. Vissa kontroller innebär aktiviteter som klättring, paddling, simning, rappellering och balansövningar. Lagen bestämmer själva vilka kontroller de vill ta och i vilken ordning."},{question:"Vilka klasser finns det?",answer:"Dam, Herr och Mix. Dessutom har vi en Elcykelklass i Hemsedal. Alla klasser är 2-manna lag."},{question:"Vad kostar det?",answer:"Anmälningsavgiften är 1695 SEK/1695 NOK per person. Då ingår tävlingsdeltagande, karta, nummerlappar, lunch, dusch, bastu, middag, prisutdelning och en oförglömlig upplevelse."},{question:"Vilka tider är det som gäller för själva tävlandet?",answer:"Program: Fredagen: Registrering 17:00-21:00 i Lindvallen & 19.00-22.00 i Hemsedal. Lördagen: 9.30 Info möte vid start, 10.00 START, 16.00 MÅL. 22.00 PRISUTDELNING. Söndagen: Väl förtjänad sovmorgon och en härlig dag på fjället! Se detaljerat program under de enskilda tävlingarna."}],e=[{question:"Vilken utrustning behöver jag?",answer:"Obligatorisk utrustning: Cykel, cykelhjälm, mobiltelefon (1 per lag), första hjälpen (1 per lag). Vi rekommenderar även: Förstärkningskläder, kompass, vatten, energibars, klocka, löparskor, cykelslang och reparationskit. All utrustning för bemannade kontroller (kanot, SUP, sele, rep, hjälm) tillhandahålls av AIM Challenge."},{question:"Vilken typ av cykel rekommenderas?",answer:"En mountainbike är att föredra då delar av banan går på stigar och i terräng. Elcyklar är endast tillåtna i Elcykelklassen i Hemsedal."},{question:"Behöver jag ha med mig mat och dryck?",answer:"Ja, det rekommenderas att ha med sig vatten och energirik mat för att orka hela tävlingen. Det finns ingen service ute på banan."}],n=[{question:"Hur fungerar starten?",answer:"Alla lag startar samtidigt kl 10.00 på lördagen efter ett obligatoriskt informationsmöte kl 9.30. Vid starten får lagen kartan med alla kontroller markerade."},{question:"Vad händer om jag kommer sent i mål?",answer:"För varje påbörjad minut efter målgång kl 16.00 dras 10 poäng av från lagets totala poäng. Efter 30 minuter (kl 16.30) är laget diskvalificerat."},{question:"Vad händer om vi bryter tävlingen?",answer:"Om ni bryter tävlingen måste ni meddela tävlingsledningen omedelbart. Telefonnummer finns på kartan."}],a=[{question:"Hur ser kartan ut?",answer:"Kartan får alla lagen när startskottet går. Där är samtliga kontroller utmärkta med position, poäng, beskrivning och om kontrollen innefattar klättring, paddling etc. Skalan är ungefär 1:30 000. Varje år är ett nytt år och därför en ny bansträckning. Kontrollernas position varierar från år till år så den strategi man hade året innan kanske inte lönar sig i år."},{question:"Måste både deltagarna simma/klättra/rappellera till en kontroll?",answer:"Lagen ska alltid hålla ihop och ska under hela tävlingen kunna kommunicera med varandra. Utom på de kontroller som vi kallar bemannade kontroller, dvs simma, paddla, klättra, balansera och rappelera. Här räcker det att den ena i laget tar posten. Både deltagarna ska dock vara så nära varandra som möjligt vid dessa poster."},{question:"Rappellering och klättring - hur goda bakgrundskunskaper måste man ha för att ställa upp?",answer:"Vid varje bemannad post finns det personal som är kunniga och med riktig utrustning. Lite erfarenhet ifrån klättring hjälper men är inte nödvändigt. Man behöver ingen kunskap om säkerhet."},{question:"Vilka regler gäller?",answer:"De regler som gäller för anmälan och under tävling finner du här >>"}];return u.jsxs("div",{className:"faq-container",children:[u.jsx("section",{className:"faq-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container",children:u.jsx(jc,{imageKey:"faq-hero-image",defaultSrc:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg",alt:"FAQ Hero"})})})}),u.jsx("section",{className:"faq-title-section",children:u.jsx("div",{className:"title-container",children:u.jsx(q,{textKey:"faq-title",defaultText:"FAQ",tag:"h1",className:"location-title"})})}),u.jsx("section",{className:"faq-content-section",children:u.jsx("div",{className:"faq-content-container",children:u.jsxs("div",{className:"faq-content",children:[u.jsx("h2",{className:"faq-heading",children:"Vanliga frågor"}),u.jsx(ud,{title:"Allmänna frågor",items:s}),u.jsx(ud,{title:"Utrustning",items:e}),u.jsx(ud,{title:"Tävlingsdagen",items:n}),u.jsx(ud,{title:"Teknisk information",items:a}),u.jsxs("div",{className:"faq-contact",children:[u.jsx("h2",{className:"faq-category-title",children:"Har du fler frågor?"}),u.jsxs("p",{children:["Ta gärna kontakt om ni inte hittar svaret på era frågor:"," ",u.jsx("a",{href:"mailto:info@aimchallenge.com",children:"info@aimchallenge.com"})]})]})]})})}),u.jsx("div",{className:"locked-background"})]})},ND=()=>u.jsxs("div",{className:"historien-om-aim-container",children:[u.jsx("section",{className:"historien-om-aim-hero-section",children:u.jsx("div",{className:"hero-content",children:u.jsx("div",{className:"hero-image-container",children:u.jsx(jc,{imageKey:"historien-om-aim-hero-image",defaultSrc:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg",alt:"Historien Om AIM Hero"})})})}),u.jsx("section",{className:"historien-om-aim-title-section",children:u.jsx("div",{className:"title-container",children:u.jsx(q,{textKey:"historien-om-aim-title",defaultText:"HISTORIEN OM AIM",tag:"h1",className:"location-title"})})}),u.jsx("section",{className:"historien-om-aim-content-section",children:u.jsx("div",{className:"historien-om-aim-content-container",children:u.jsxs("div",{className:"historien-om-aim-content",children:[u.jsx(q,{textKey:"historien-om-aim-text-1",defaultText:"AIM Challenge är idag Nordens största multisporttävling men historien om AIM Challenge börjar mycket tidigare än så.",tag:"p",className:"historien-om-aim-text"}),u.jsx(q,{textKey:"historien-om-aim-text-2",defaultText:"Vi låter Lisa Nordlind, grundare och initiativtagare till AIM Challenge berätta hur det gick till:",tag:"p",className:"historien-om-aim-text"}),u.jsx(q,{textKey:"historien-om-aim-text-3",defaultText:"År 2000 deltog jag i mitt livs största äventyr när jag tävlade i multisporttävlingen Camel Trophy.",tag:"p",className:"historien-om-aim-text"}),u.jsx(q,{textKey:"historien-om-aim-text-4",defaultText:"Av över en miljon sökande så var det 16 tvåmannalag från 22 länder som fick vara med och leka. Jag fick äran att representera Team Skandinavien tillsammans med brandmannen Mikael Stening.",tag:"p",className:"historien-om-aim-text"}),u.jsx(q,{textKey:"historien-om-aim-text-5",defaultText:"Lag på två personer skulle under 3 veckor samla så många kontroller som möjligt utav 400 utplacerade. Huvudtransportmedel var en specialbyggd RIB (Rigid Inflatable Boat). Båten var utrustad med mountainbikes, klätterutrustning, paddelbräda, dyk- och snorkel utrustning, tält, mat och vatten.",tag:"p",className:"historien-om-aim-text"}),u.jsx(q,{textKey:"historien-om-aim-text-6",defaultText:"Lagen fick själva välja vilka kontroller de ville ta, i vilken ordning och vilken väg.",tag:"p",className:"historien-om-aim-text"}),u.jsx(q,{textKey:"historien-om-aim-text-7",defaultText:"Olika kontroller gav olika poäng. Låter det bekant?",tag:"p",className:"historien-om-aim-text"}),u.jsx(q,{textKey:"historien-om-aim-text-8",defaultText:"Tävlingsområdet var ögrupperna Tonga och Samoa i Söderhavet. Det var galet roligt och Mikael och jag lyckades ta oss till en fjärde plats.",tag:"p",className:"historien-om-aim-text"}),u.jsx(q,{textKey:"historien-om-aim-text-9",defaultText:"År 2004 spenderade jag min första sommar i Hemsedal. Det var ganska lugnt i den lilla skidorten så jag beslutade mig för att starta ett nytt event. För mig är det viktigt att träning är roligt och jag tycker att den bästa träningen är tävling. Eftersom Camel Trophy var det roligaste jag någonsin varit med om så föll det naturligt att försöka skapa ett event där andra människor får uppleva samma lekfulla koncept om än i en mindre skala. Tävlingen fick namnet 'Hemsedal Challenge' och den första helgen i september 2004 stod 150 deltagare på startlinjen.",tag:"p",className:"historien-om-aim-text"}),u.jsx(q,{textKey:"historien-om-aim-text-10",defaultText:"Nära, kära, vänner och familj samlades från alla håll och kanter för att ställa upp som funktionärer.",tag:"p",className:"historien-om-aim-text"}),u.jsx(q,{textKey:"historien-om-aim-text-11",defaultText:"Efter 5 år startade vi en tävling till i Lindvallen och bytte namn till AIM Challenge.",tag:"p",className:"historien-om-aim-text"}),u.jsx(q,{textKey:"historien-om-aim-text-12",defaultText:"Efter AIM Challenge 2019 tackade Lisa för sig och lämnade över stafettpinnen till Marcus Andersson, som nu står inför en spännande framtid där han ser frem emot att driva vidare och utveckla AIM Challenge.",tag:"p",className:"historien-om-aim-text"})]})})}),u.jsx("div",{className:"locked-background"})]}),RD=({isOpen:s,onClose:e})=>{const[n,a]=O.useState(""),[l,c]=O.useState(""),[h,g]=O.useState(null),[p,y]=O.useState(""),[E,A]=O.useState(!1),[w,I]=O.useState(""),[L,z]=O.useState(""),[V,B]=O.useState(0),[F,G]=O.useState(0),[Y,W]=O.useState("Alla"),le=O.useRef(null),P=O.useRef(null),{isAdmin:k}=Cs(),T=oe=>{const he=oe.target.files[0];if(he){he.name||(he.name=`image-${Date.now()}.jpg`);const M=new FileReader;M.onloadend=()=>{g(he),y(M.result)},M.readAsDataURL(he)}},N=oe=>{c(oe.target.value)},j=()=>{le.current&&(B(le.current.selectionStart),G(le.current.selectionEnd))},C=()=>{if(A(!E),!E&&le.current){const oe=l.substring(le.current.selectionStart,le.current.selectionEnd);z(oe),B(le.current.selectionStart),G(le.current.selectionEnd)}},R=()=>{if(!w.trim()){alert("Please enter a URL");return}const oe=`[${L||w}](${w})`,he=l.substring(0,V)+oe+l.substring(F);c(he),A(!1),I(""),z("")},ye=async()=>{if(!n.trim()||!l.trim()){alert("Vänligen fyll i titel och innehåll");return}try{let oe=null;if(h){const te=Date.now(),fe=h.name?h.name.split(".").pop():"jpg",ue=`image_${te}.${fe}`,de=fi(gi,`post-images/${ue}`);console.log("Uploading image with new filename:",ue),await Nc(de,h),oe=await fh(de),console.log("Image URL after upload:",oe)}const he={title:n,content:l,image:oe,date:new Date().toLocaleDateString("sv-SE",{year:"numeric",month:"long",day:"numeric"}),category:Y,createdAt:new Date().toISOString()},M=await kT(Zn(mt,"posts"),he);console.log("Post saved with ID:",M.id),Ae(),e(),window.location.reload()}catch(oe){console.error("Error saving post:",oe),alert("Ett fel uppstod när inlägget skulle sparas. Försök igen.")}},Ae=()=>{a(""),c(""),g(null),y(""),A(!1),I(""),z(""),W("Alla")},ae=()=>{Ae(),e()},ve=oe=>{oe.target.className==="create-post-modal__overlay"&&ae()};return!s||!k?null:u.jsxs("div",{className:"create-post-modal",children:[u.jsx("div",{className:"create-post-modal__overlay",onClick:ve}),u.jsxs("div",{className:"create-post-modal__content",children:[u.jsx("h2",{className:"create-post-modal__title",children:"Skapa nytt inlägg"}),u.jsxs("div",{className:"create-post-modal__form",children:[u.jsxs("div",{className:"create-post-modal__form-group",children:[u.jsx("label",{className:"create-post-modal__label",children:"Titel"}),u.jsx("input",{type:"text",className:"create-post-modal__input",value:n,onChange:oe=>a(oe.target.value),placeholder:"Ange titel"})]}),u.jsxs("div",{className:"create-post-modal__form-group",children:[u.jsx("label",{className:"create-post-modal__label",children:"Bild (valfritt)"}),u.jsxs("div",{className:"create-post-modal__image-upload",onClick:()=>P.current.click(),children:[p?u.jsx("img",{src:p,alt:"Preview",className:"create-post-modal__image-preview"}):u.jsx("div",{className:"create-post-modal__image-placeholder",children:"Klicka för att ladda upp en bild"}),u.jsx("input",{type:"file",accept:"image/*",onChange:T,className:"create-post-modal__file-input",ref:P})]})]}),u.jsxs("div",{className:"create-post-modal__form-group",children:[u.jsx("label",{className:"create-post-modal__label",children:"Kategori"}),u.jsxs("select",{className:"create-post-modal__input",value:Y,onChange:oe=>W(oe.target.value),children:[u.jsx("option",{value:"Alla",children:"Alla"}),u.jsx("option",{value:"Inga",children:"Inga"}),u.jsx("option",{value:"Kolmården",children:"Kolmården"}),u.jsx("option",{value:"Sälen",children:"Sälen"}),u.jsx("option",{value:"Hemsedal",children:"Hemsedal"}),u.jsx("option",{value:"Ulricshamn",children:"Ulricshamn"}),u.jsx("option",{value:"Tripplen",children:"Tripplen"})]})]}),u.jsxs("div",{className:"create-post-modal__form-group",children:[u.jsx("label",{className:"create-post-modal__label",children:"Innehåll"}),u.jsxs("div",{children:[u.jsx("textarea",{className:"create-post-modal__textarea",value:l,onChange:N,onSelect:j,ref:le,placeholder:"Ange innehåll"}),u.jsx("button",{type:"button",onClick:C,className:"create-post-modal__button create-post-modal__button--secondary",style:{marginTop:"10px"},children:"Lägg till länk"}),E&&u.jsxs("div",{className:"create-post-modal__link-tools",children:[u.jsxs("div",{children:[u.jsx("label",{children:"Länktext:"}),u.jsx("input",{type:"text",value:L,onChange:oe=>z(oe.target.value),className:"create-post-modal__input",style:{marginTop:"5px",width:"100%"}})]}),u.jsxs("div",{children:[u.jsx("label",{children:"URL:"}),u.jsx("input",{type:"text",value:w,onChange:oe=>I(oe.target.value),className:"create-post-modal__input",style:{marginTop:"5px",width:"100%"}})]}),u.jsx("div",{style:{marginTop:"10px"},children:u.jsx("button",{onClick:R,className:"create-post-modal__button create-post-modal__button--primary",children:"Infoga länk"})})]})]})]}),u.jsxs("div",{className:"create-post-modal__actions",children:[u.jsx("button",{onClick:ae,className:"create-post-modal__button create-post-modal__button--secondary",children:"Avbryt"}),u.jsx("button",{onClick:ye,className:"create-post-modal__button create-post-modal__button--primary",disabled:!n.trim()||!l.trim(),children:"Spara"})]})]})]})]})},kD=()=>{const[s,e]=O.useState(""),[n,a]=O.useState(!1),[l,c]=O.useState(!1),{isAdmin:h}=Cs(),[g,p]=O.useState([]),[y,E]=O.useState(!0),[A,w]=O.useState(null);O.useEffect(()=>{(async()=>{try{E(!0);const B=Zn(mt,"posts"),G=(await ur(B)).docs.map(W=>({id:W.id,...W.data()}));G.forEach(W=>{W.image&&console.log(`Post ${W.id} image URL:`,W.image)});const Y=G.map(W=>{const le=W;if(console.log(`Post ${W.id}:`,le),le.image){console.log(`Post ${W.id} image URL:`,le.image);const P=new Image;P.onload=()=>console.log(`Image for post ${W.id} loaded successfully`),P.onerror=()=>console.error(`Image for post ${W.id} failed to load`),P.src=le.image}else console.warn(`Post ${W.id} has no image URL`);return{...le,id:W.id}});p(Y),w(null)}catch(B){console.error("Error fetching posts:",B),w("Failed to load posts")}finally{E(!1)}})()},[]);const I=V=>{V.preventDefault(),console.log("Email submitted:",s),a(!0),e(""),setTimeout(()=>a(!1),3e3)},L=async V=>{try{E(!0);let B=null;if(V.image){const W=`post-images/${Date.now()}_${V.image.name}`;console.log("Uploading image with filename:",W);const le=fi(gi,W);await Nc(le,V.image),B=await fh(le),console.log("Image URL after upload:",B);try{const P=await fetch(B,{method:"HEAD"});console.log("Image URL test response:",P.status,P.ok)}catch(P){console.error("Error testing image URL:",P)}}const F={title:V.title,content:V.content,image:B,date:new Date().toLocaleDateString("sv-SE",{day:"numeric",month:"long",year:"numeric"}),createdAt:new Date().toISOString()};console.log("Saving post with data:",F);const G=await kT(Zn(mt,"posts"),F);console.log("Post saved with ID:",G.id);const Y={id:G.id,...F};p(W=>[Y,...W]),c(!1),w(null)}catch(B){console.error("Error saving post:",B),w("Failed to save post")}finally{E(!1)}},z=async V=>{try{const B=g.find(F=>String(F.id)===String(V));if(await op(Yt(mt,"posts",String(V))),B&&B.image)try{const G=(Y=>{const W=Y.match(/\/o\/(.+)\?alt=media/);return W?decodeURIComponent(W[1]):null})(B.image);if(G){const Y=fi(gi,G);await mh(Y)}}catch(F){console.error("Failed to delete image from storage:",F)}window.location.reload()}catch(B){console.error("Failed to delete post:",B)}};return u.jsxs("div",{className:"flex flex_col",children:[u.jsx("section",{className:"page_01 dynamic-background background-editable flex flex_col flex_j_E",id:"senaste-nytt-top-background",children:u.jsx("div",{className:"MaxWH flex flex_col flex_j_SA",children:u.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:u.jsx("p",{className:"fonts_huge senaste-nytt-main-title",children:"SENASTE NYTT"})})})}),u.jsx("div",{className:"set-03 senaste-nytt-subscribe-section",children:u.jsxs("div",{className:"senaste-nytt-container flex flex_col flex_j_C flex_a_C font_white",children:[u.jsx("h2",{className:"fonts_large senaste-nytt-title",children:"Håll dig uppdaterad"}),u.jsx("p",{className:"fonts_small senaste-nytt-description",children:"Prenumerera på vårt nyhetsbrev för att få de senaste uppdateringarna om AIM Challenge direkt i din inkorg."}),u.jsxs("form",{onSubmit:I,className:"senaste-nytt-form flex flex_col flex_a_C",children:[u.jsxs("div",{className:"senaste-nytt-form-input-container flex",children:[u.jsx("input",{type:"email",value:s,onChange:V=>e(V.target.value),placeholder:"Din e-postadress",required:!0,className:"senaste-nytt-form-input fonts_small",id:"newsletter-email",name:"newsletter-email",autoComplete:"email"}),u.jsx("button",{type:"submit",className:"senaste-nytt-form-button fonts_small flex flex_j_C flex_a_C",children:u.jsx("span",{children:"Prenumerera"})})]}),n&&u.jsx("p",{className:"senaste-nytt-form-success",children:"Tack för din prenumeration!"})]})]})}),u.jsx("div",{className:"set-03 senaste-nytt-news-section",children:u.jsxs("div",{className:"senaste-nytt-container",children:[u.jsx("h2",{className:"senaste-nytt-section-title",children:"Nyheter"}),h&&u.jsx("div",{className:"senaste-nytt-admin-actions flex flex_j_E",children:u.jsx("button",{className:"senaste-nytt-create-post-button",onClick:()=>c(!0),children:"Skapa nytt inlägg"})}),u.jsx("div",{className:"senaste-nytt-news-grid",children:g.map(V=>u.jsxs("div",{className:"senaste-nytt-news-card",children:[u.jsx("div",{className:"senaste-nytt-news-image-wrapper",children:V.image?u.jsx("img",{className:"senaste-nytt-news-image-alt",src:V.image,alt:V.title||"Post image"}):u.jsx("div",{className:"senaste-nytt-news-image senaste-nytt-news-image--empty",children:u.jsx("span",{children:"Ingen bild"})})}),u.jsxs("div",{className:"senaste-nytt-news-content",children:[u.jsx("h3",{className:"senaste-nytt-news-card-title",children:V.title}),u.jsx("p",{className:"senaste-nytt-news-date",children:V.date}),u.jsx("p",{className:"senaste-nytt-news-text",children:V.content}),u.jsx(Te,{to:`/news/${V.id}`,className:"senaste-nytt-read-more",children:"Läs mer"}),h&&u.jsx("button",{className:"senaste-nytt-delete-post-button",onClick:()=>{console.log("Post:",V),console.log("Post ID:",V.id),console.log("Post ID type:",typeof V.id),console.log("Post ID value:",String(V.id)),z(String(V.id))},children:"Ta bort"})]})]},V.id))})]})}),h&&u.jsx(RD,{isOpen:l,onClose:()=>c(!1),addPost:L}),u.jsx("div",{id:"senaste-nytt-background",className:"background-editable senaste-nytt-background-container locked-background page_01"})]})},CD=()=>{const{id:s}=Bw(),e=Il(),[n,a]=O.useState(null),[l,c]=O.useState(!0),[h,g]=O.useState(null);O.useEffect(()=>{(async()=>{try{c(!0);const E=Yt(mt,"posts",s),A=await Vl(E);A.exists()?(a({id:A.id,...A.data()}),g(null)):g("Nyheten kunde inte hittas")}catch(E){console.error("Error fetching post:",E),g("Ett fel uppstod när nyheten skulle hämtas")}finally{c(!1)}})()},[s]);const p=()=>{e("/senaste-nytt")};return l?u.jsx("div",{className:"flex flex_col flex_a_C flex_j_C",style:{minHeight:"50vh"},children:u.jsx("p",{className:"fonts_large",children:"Laddar..."})}):h?u.jsxs("div",{className:"flex flex_col flex_a_C flex_j_C",style:{minHeight:"50vh"},children:[u.jsx("p",{className:"fonts_large",children:h}),u.jsx("button",{onClick:p,className:"navbbutton button font_blue",style:{marginTop:"20px",padding:"10px 20px"},children:"Tillbaka till nyheter"})]}):n?u.jsxs("div",{className:"flex flex_col",children:[u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"MaxWH flex flex_col flex_j_SA",children:u.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:u.jsx("p",{className:"fonts_huge senaste-nytt-main-title",children:"NYHETER"})})})}),u.jsx("section",{style:{padding:"50px 0",backgroundColor:"#f5f5f5",width:"100vw"},children:u.jsxs("div",{className:"MaxWH",style:{padding:"0 20px",maxWidth:"1000px",margin:"0 auto"},children:[u.jsxs("button",{onClick:p,className:"navbbutton button font_blue",style:{marginBottom:"20px",padding:"10px 30px 10px 20px",display:"flex",alignItems:"center",gap:"5px",minWidth:"120px"},children:[u.jsx("span",{children:"←"})," ",u.jsx("span",{children:"Tillbaka"})]}),u.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[n.image&&u.jsx("div",{style:{height:"400px",backgroundImage:`url(${n.image})`,backgroundSize:"cover",backgroundPosition:"center"}}),u.jsxs("div",{style:{padding:"30px"},children:[u.jsx("h1",{className:"fonts_large font_blue",style:{marginBottom:"10px"},children:n.title}),u.jsx("p",{className:"fonts_small",style:{color:"#666",marginBottom:"30px"},children:n.date}),n.content.split(`
`).map((y,E)=>u.jsx("p",{className:"fonts_small",style:{marginBottom:"20px"},children:y},E))]})]}),u.jsx("div",{style:{marginTop:"30px",textAlign:"center"},children:u.jsxs("button",{onClick:p,className:"navbbutton button font_blue",style:{padding:"10px 30px 10px 20px",display:"flex",alignItems:"center",gap:"5px",minWidth:"120px"},children:[u.jsx("span",{children:"←"})," ",u.jsx("span",{children:"Tillbaka"})]})})]})}),u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",style:{height:"50vh",width:"100vw"}})]}):u.jsxs("div",{className:"flex flex_col flex_a_C flex_j_C",style:{minHeight:"50vh"},children:[u.jsx("p",{className:"fonts_large",children:"Nyheten kunde inte hittas"}),u.jsx("button",{onClick:p,className:"navbbutton button font_blue",style:{marginTop:"20px",padding:"10px 20px"},children:"Tillbaka till nyheter"})]})},Ex=()=>{const[s,e]=O.useState(""),[n,a]=O.useState(""),[l,c]=O.useState(""),[h,g]=O.useState(!1),p=Il(),{login:y,isAuthenticated:E}=xr();O.useEffect(()=>{E&&p("/")},[E,p]);const A=async w=>{w.preventDefault(),g(!0),c("");try{const I=await y(s,n);I.success?(console.log("Login successful"),console.log("Current user after login:",{email:s,role:"admin"}),p("/")):c(I.message||"Ogiltigt e-post eller lösenord")}catch(I){console.error("Login error:",I),c("Ett fel uppstod vid inloggning. Försök igen.")}finally{g(!1)}};return u.jsxs("div",{className:"flex flex_col",children:[u.jsx("section",{className:"login-header-section dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"login-header-container flex flex_col flex_j_SA",children:u.jsx("div",{className:"login-title-container",children:u.jsx("p",{className:"fonts_huge login-title",children:"LOGGA IN"})})})}),u.jsx("div",{className:"login-form-wrapper",children:u.jsx("div",{className:"login-form-container",children:u.jsx("div",{className:"login-form",children:u.jsxs("div",{className:"login-card",children:[u.jsx("h2",{className:"fonts_medium font_blue login-subtitle",children:"Administratörsinloggning"}),l&&u.jsx("div",{className:"error-message",children:l}),u.jsxs("form",{onSubmit:A,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"email",className:"fonts_small",children:"E-post"}),u.jsx("input",{type:"email",id:"email",value:s,onChange:w=>e(w.target.value),required:!0,className:"form-input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"password",className:"fonts_small",children:"Lösenord"}),u.jsx("input",{type:"password",id:"password",value:n,onChange:w=>a(w.target.value),required:!0,className:"form-input"})]}),u.jsx("button",{type:"submit",className:"navbbutton button font_blue",disabled:h,children:h?"Loggar in...":"Logga in"})]}),u.jsx("div",{className:"login-note",children:u.jsx("p",{className:"fonts_small",style:{color:"#666"},children:"Detta är en inloggning endast för administratörer."})})]})})})}),u.jsx("section",{className:"login-background-section dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"login-background-container"})})]})},ID=()=>{const{textContent:s,resetAllContent:e,removeContentItem:n,isAdmin:a}=Cs(),{isAuthenticated:l}=xr(),[c,h]=O.useState(!1),[g,p]=O.useState(null),[y,E]=O.useState("all"),A=Il();if(O.useEffect(()=>{(!l||!a)&&A("/")},[l,a,A]),!l||!a)return null;const w=()=>{h(!0),p(null)},I=Y=>{h(!0),p(Y)},L=()=>{g?n(g):e(),h(!1),p(null)},z=()=>{h(!1),p(null)},B=(()=>{const Y={text:{},image:{},background:{}};return Object.entries(s).forEach(([W,le])=>{le.startsWith("data:image")||le.startsWith("http")||le.startsWith("/")?W.includes("-bg")||W.includes("background")?Y.background[W]=le:Y.image[W]=le:Y.text[W]=le}),Y})(),G=y==="all"?s:B[y]||{};return u.jsxs("div",{className:"flex flex_col",style:{minHeight:"100vh"},children:[u.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:u.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:u.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:u.jsx("p",{className:"font_blue fonts_huge",children:"Innehållshanterare"})})})}),u.jsxs("section",{style:{padding:"40px",maxWidth:"1200px",margin:"0 auto"},children:[u.jsxs("div",{style:{marginBottom:"30px",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"20px"},children:[u.jsx("h2",{className:"font_blue fonts_large",children:"Alla redigerbara innehåll"}),u.jsx("button",{onClick:w,style:{padding:"10px 20px",backgroundColor:"#ff4d4d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Återställ allt innehåll"})]}),u.jsxs("div",{style:{marginBottom:"30px",display:"flex",gap:"10px",flexWrap:"wrap"},children:[u.jsxs("button",{onClick:()=>E("all"),style:{padding:"8px 16px",backgroundColor:y==="all"?"#00a6fb":"#f0f0f0",color:y==="all"?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:["Alla (",Object.keys(s).length,")"]}),u.jsxs("button",{onClick:()=>E("text"),style:{padding:"8px 16px",backgroundColor:y==="text"?"#00a6fb":"#f0f0f0",color:y==="text"?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:["Texter (",Object.keys(B.text).length,")"]}),u.jsxs("button",{onClick:()=>E("image"),style:{padding:"8px 16px",backgroundColor:y==="image"?"#00a6fb":"#f0f0f0",color:y==="image"?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:["Bilder (",Object.keys(B.image).length,")"]}),u.jsxs("button",{onClick:()=>E("background"),style:{padding:"8px 16px",backgroundColor:y==="background"?"#00a6fb":"#f0f0f0",color:y==="background"?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:["Bakgrundsbilder (",Object.keys(B.background).length,")"]})]}),c&&u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},children:u.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"8px",maxWidth:"500px",width:"90%",textAlign:"center"},children:[u.jsx("h3",{style:{marginBottom:"20px",color:"#00a6fb"},children:"Bekräfta åtgärd"}),u.jsx("p",{style:{marginBottom:"30px"},children:g?`Är du säker på att du vill ta bort innehållet med nyckeln "${g}"?`:"Är du säker på att du vill återställa allt innehåll? Detta kan inte ångras."}),u.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"20px"},children:[u.jsx("button",{onClick:L,style:{padding:"10px 20px",backgroundColor:"#ff4d4d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:g?"Ta bort":"Återställ allt"}),u.jsx("button",{onClick:z,style:{padding:"10px 20px",backgroundColor:"#ccc",color:"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Avbryt"})]})]})}),Object.keys(G).length===0?u.jsxs("p",{children:["Inga redigerade ",y==="text"?"texter":y==="image"?"bilder":y==="background"?"bakgrundsbilder":"innehåll"," ännu."]}):u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:Object.entries(G).map(([Y,W])=>{const le=W.startsWith("data:image")||W.startsWith("http")||W.startsWith("/"),P=Y.includes("-bg")||Y.includes("background");return u.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"15px",backgroundColor:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[u.jsx("h3",{className:"font_blue fonts_medium",style:{wordBreak:"break-all",fontSize:"16px"},children:Y}),u.jsx("span",{style:{padding:"3px 8px",borderRadius:"4px",fontSize:"12px",backgroundColor:P?"#6c5ce7":le?"#00b894":"#0984e3",color:"white"},children:P?"Bakgrund":le?"Bild":"Text"})]}),u.jsx("div",{style:{marginBottom:"10px"},children:le?u.jsxs("div",{children:[u.jsx("img",{src:W,alt:Y,style:{width:"100%",height:P?"150px":"auto",maxHeight:"150px",objectFit:P?"cover":"contain",borderRadius:"4px",border:"1px solid #eee"}}),P&&u.jsx("div",{style:{marginTop:"5px",fontSize:"12px",color:"#666",textAlign:"center"},children:"Bakgrundsbild"})]}):u.jsx("p",{style:{maxHeight:"100px",overflow:"auto",backgroundColor:"#f5f5f5",padding:"10px",borderRadius:"4px",fontSize:"14px"},children:W})}),u.jsx("button",{onClick:()=>I(Y),style:{width:"100%",padding:"8px",backgroundColor:"#ff4d4d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Ta bort"})]},Y)})})]})]})},jD=({children:s,requireAdmin:e=!1})=>{const{isAuthenticated:n,currentUser:a}=xr();return n?e&&(a==null?void 0:a.role)!=="admin"?u.jsx(Bv,{to:"/"}):s:u.jsx(Bv,{to:"/login"})},DD=()=>{const[s,e]=O.useState(!1),[n,a]=O.useState(null),[l,c]=O.useState(null),[h,g]=O.useState(null),[p,y]=O.useState("simple"),[E,A]=O.useState(null),{isAdmin:w}=Cs();console.log("BackgroundEditor - isAdmin:",w);const I=O.useRef(null),L=O.useRef(null),z=pi(),V=O.useCallback(C=>{if(C.stopPropagation(),console.log("Background element clicked:",C.currentTarget.id),w){console.log("User is admin, showing modal"),a(C.currentTarget),e(!0);const R=C.currentTarget.id;R&&F(R)}else console.log("User is not admin, click ignored")},[w]);O.useEffect(()=>{const C=document.querySelectorAll(".background-editable");return console.log("Found background elements:",C.length),C.forEach(R=>{console.log("Adding click listener to element:",R.id),R.removeEventListener("click",V),R.addEventListener("click",V),w&&R.classList.add("admin-editable")}),B(),()=>{C.forEach(R=>{R.removeEventListener("click",V),w&&R.classList.remove("admin-editable")})}},[w,z,V]),O.useEffect(()=>{if(s)return document.addEventListener("mousedown",N),()=>{document.removeEventListener("mousedown",N)}},[s]);const B=async()=>{try{console.log("Loading all background settings");const C=Zn(mt,"backgrounds"),R=await ur(C);console.log(`Found ${R.size} background settings`),R.forEach(ye=>{const Ae=ye.data(),ae=document.getElementById(ye.id);console.log(`Background for element ${ye.id}:`,Ae),ae?(console.log(`Applying background to element ${ye.id}`),k(ae,Ae.imageUrl,Ae.backgroundType)):console.log(`Element with ID ${ye.id} not found in the DOM`)})}catch(C){console.error("Error loading background settings:",C)}},F=async C=>{try{console.log(`Loading background settings for element: ${C}`);const R=Zn(mt,"backgrounds"),ye=Yt(R,C),Ae=await Vl(ye);if(Ae.exists()){const ae=Ae.data();console.log("Found background settings:",ae),y(ae.backgroundType||"simple"),g(ae.imageUrl),A(ae.imageUrl),console.log(`Set previousImageUrl to: ${ae.imageUrl}`)}else console.log(`No background settings found for element: ${C}`),y("simple"),g(null),c(null),A(null)}catch(R){console.error("Error loading background settings:",R)}},G=C=>{const R=C.target.files[0];if(R){R.name||(R.name=`image-${Date.now()}.jpg`);const ye=new FileReader;ye.onloadend=()=>{c(R),g(ye.result)},ye.readAsDataURL(R)}},Y=C=>{if(!C)return null;console.log("Extracting filename from URL:",C);try{if(C.includes("firebasestorage.googleapis.com")){const ae=C.match(/%2F([^?]+)/g);if(ae&&ae.length>0){const oe=ae[ae.length-1].replace("%2F","").split("?")[0];return console.log("Extracted filename from Firebase URL:",oe),oe}}if(C.includes("background-images")){const ae=C.split("/"),ve=ae[ae.length-1];return console.log("Extracted filename from direct path:",ve),ve}const R=C.split("/"),Ae=R[R.length-1].split("?")[0];return console.log("Extracted filename using fallback method:",Ae),Ae}catch(R){return console.error("Error extracting filename:",R),null}},W=async C=>{if(C)try{console.log("Attempting to delete old image with URL:",C);const R=Y(C);if(R){console.log("Deleting file with filename:",R);const ye=fi(gi,`gs://aimchallange-67039.firebasestorage.app/background-images/${R}`);await mh(ye),console.log("Successfully deleted old image")}}catch(R){console.error("Error deleting old image:",R)}},le=async()=>{if(!n||!n.id){alert("Selected element must have an ID attribute");return}try{let C=h;if(l){const R=Date.now(),ye=l.name?l.name.split(".").pop():"jpg",Ae=`background_${R}.${ye}`,ae=fi(gi,`gs://aimchallange-67039.firebasestorage.app/background-images/${Ae}`);console.log("Uploading image with new filename:",Ae),await Nc(ae,l),C=await fh(ae),console.log("Image URL after upload:",C),console.log("Image URL format check:",{includesFirebaseStorage:C.includes("firebasestorage.googleapis.com"),includesBackgroundImages:C.includes("background-images"),urlParts:C.split("/"),containsPercent2F:C.includes("%2F")}),console.log("Previous image URL:",E),E&&E!==C?(console.log("Deleting previous image:",E),await W(E)):console.log("No previous image to delete or same image URL")}if(C){const R=Zn(mt,"backgrounds");await xa(Yt(R,n.id),{elementId:n.id,imageUrl:C,backgroundType:p,updatedAt:new Date,updatedBy:"anonymous"}),k(n,C,p)}e(!1)}catch(C){console.error("Error saving background:",C),alert("Error saving background. Please try again.")}},P=async C=>{C.stopPropagation();try{if(E&&await W(E),n&&n.id){const R=Zn(mt,"backgrounds");await xa(Yt(R,n.id),{elementId:n.id,imageUrl:null,backgroundType:"simple",updatedAt:new Date,updatedBy:"anonymous"}),n&&(n.style.backgroundImage="none")}c(null),g(null),A(null),console.log("Background image removed successfully")}catch(R){console.error("Error removing background image:",R)}},k=(C,R,ye)=>{!C||!R||(console.log(`Applying background to element ${C.id} with image ${R}`),C.classList.remove("simple-background","fixed-background"),C.classList.add("has-background"),ye==="simple"?C.classList.add("simple-background"):C.classList.add("locked-background"),C.style.backgroundImage=`url(${R})`,C.style.backgroundSize="cover",C.style.backgroundPosition="center",C.style.backgroundRepeat="no-repeat",ye==="fixed"?C.style.backgroundAttachment="fixed":C.style.backgroundAttachment="scroll",console.log(`Background applied to element ${C.id}`))},T=()=>{e(!1),a(null),c(null),g(null),A(null)},N=C=>{L.current&&!L.current.contains(C.target)&&T()},j=()=>{I.current.click()};return w?u.jsx(u.Fragment,{children:s&&u.jsx("div",{className:"background-editor-overlay",onClick:N,children:u.jsxs("div",{className:"background-editor-modal",ref:L,children:[u.jsxs("div",{className:"background-editor-modal__header",children:[u.jsx("h2",{className:"background-editor-modal__title",children:"Edit Background"}),u.jsx("button",{className:"background-editor-modal__close",onClick:T,children:"×"})]}),u.jsxs("div",{className:"background-editor-modal__body",children:[u.jsxs("div",{className:"background-editor-modal__form-group",children:[u.jsx("label",{className:"background-editor-modal__label",children:"Background Type"}),u.jsxs("select",{className:"background-editor-modal__select",value:p,onChange:C=>y(C.target.value),children:[u.jsx("option",{value:"simple",children:"Simple (scrolls with content)"}),u.jsx("option",{value:"fixed",children:"Fixed (locked when scrolling)"})]})]}),u.jsxs("div",{className:"background-editor-modal__form-group",children:[u.jsx("label",{className:"background-editor-modal__label",children:"Background Image"}),u.jsxs("div",{className:"background-editor-modal__image-upload",onClick:j,children:[h?u.jsxs("div",{className:"background-editor-modal__image-preview-container",children:[u.jsx("img",{src:h,alt:"Preview",className:"background-editor-modal__image-preview"}),u.jsx("button",{className:"background-editor-modal__image-remove",onClick:P,children:"×"})]}):u.jsx("div",{className:"background-editor-modal__image-placeholder",children:"Click to upload an image"}),u.jsx("input",{type:"file",ref:I,onChange:G,accept:"image/*",className:"background-editor-modal__file-input"})]})]})]}),u.jsxs("div",{className:"background-editor-modal__footer",children:[u.jsx("button",{className:"background-editor-modal__button background-editor-modal__button--secondary",onClick:T,children:"Cancel"}),u.jsx("button",{className:"background-editor-modal__button background-editor-modal__button--primary",onClick:le,children:"Save Changes"})]})]})})}):null},OD=()=>{const[s,e]=O.useState(!1),[n,a]=O.useState(null),[l,c]=O.useState([]),[h,g]=O.useState({imageUrl:"",link:""}),[p,y]=O.useState([]),[E,A]=O.useState(!1),{isAdmin:w}=Cs(),I=O.useRef(null),L=O.useRef(null),z=Zn(mt,"ads");O.useEffect(()=>{F()},[]),O.useEffect(()=>{const T=document.querySelectorAll(".ad-editable"),N=j=>{w&&(e(!0),a(j.currentTarget))};return T.forEach(j=>{j.removeEventListener("click",N),j.addEventListener("click",N),w&&j.classList.add("admin-editable")}),()=>{T.forEach(j=>{j.removeEventListener("click",N),w&&j.classList.remove("admin-editable")})}},[w]),O.useEffect(()=>{const T=async()=>{try{const C=(await ur(z)).docs.map(R=>({id:R.id,...R.data()}));c(C),G(C)}catch{}};T();const N=setInterval(()=>{console.log("Refreshing ads from database"),T()},5*60*1e3);return()=>{clearInterval(N)}},[]),O.useEffect(()=>(document.addEventListener("mousedown",B),()=>{document.removeEventListener("mousedown",B)}),[]);const V=()=>{e(!1),a(null),g({imageUrl:"",link:""})},B=T=>{L.current&&!L.current.contains(T.target)&&V()},F=async()=>{try{console.log("Loading ads from Firestore");const N=(await ur(z)).docs.map(j=>({id:j.id,...j.data()}));c(N),setTimeout(()=>{G(N)},100)}catch{}},G=T=>{const N=document.querySelectorAll(".ad-container"),j=T.filter(C=>C.imageUrl);if(N.forEach(C=>{console.log("Clearing container:",C.id||"unnamed"),C.querySelectorAll(".ad-item").forEach(Ae=>{console.log("Removing existing ad item"),Ae.remove()});const ye=C.getAttribute("data-ad-interval");ye&&(clearInterval(Number(ye)),C.removeAttribute("data-ad-interval"))}),j.length===0){console.log("No valid ads to display, all ads cleared");return}N.forEach(C=>{C.querySelectorAll(".ad-item").forEach(he=>{he.remove()});let ye=C.querySelector(".ad-content");if(ye){let he=ye.querySelector(".ad-carousel");if(!he)he=document.createElement("div"),he.className="ad-carousel",ye.appendChild(he);else for(;he.firstChild;)he.removeChild(he.firstChild)}else{ye=document.createElement("div"),ye.className="ad-content";const he=document.createElement("div");he.textContent="ANNONS",he.className="annons-text",ye.appendChild(he),C.appendChild(ye)}const Ae=ye.querySelector(".ad-carousel");j.forEach((he,M)=>{const te=document.createElement("div");te.className=M===0?"ad-item active":"ad-item",te.setAttribute("data-ad-id",he.id||"unknown"),te.style.display=M===0?"block":"none";const fe=document.createElement("img");fe.src=he.imageUrl,fe.alt="Advertisement",te.appendChild(fe),he.link&&!w&&(te.onclick=()=>{window.open(he.link,"_blank")},te.style.cursor="pointer"),console.log("Adding ad with image:",he.imageUrl),Ae.appendChild(te)});let ae=0;const oe=setInterval(()=>{const he=Ae.querySelectorAll(".ad-item");he.length<=1||(he[ae].classList.remove("active"),setTimeout(()=>{he[ae].style.display="none",ae=(ae+1)%he.length,he[ae].style.display="block",he[ae].offsetHeight,setTimeout(()=>{he[ae].classList.add("active")},50)},800))},8e3);C.setAttribute("data-ad-interval",oe)})};O.useEffect(()=>()=>{document.querySelectorAll(".ad-container").forEach(N=>{const j=N.getAttribute("data-ad-interval");j&&clearInterval(Number(j))})},[]);const Y=T=>{if(T.target.files[0]){const N=T.target.files[0];W(N)}},W=async T=>{if(T){A(!0);try{const N=Date.now(),j=T.name?T.name.split(".").pop():"jpg",C=`ad_${N}.${j}`,R=fi(gi,`gs://aimchallange-67039.firebasestorage.app/background-images/${C}`);console.log("Uploading ad image with new filename:",C),await Nc(R,T);const ye=await fh(R);g(Ae=>({...Ae,imageUrl:ye})),y([...p,{url:ye,name:C}])}catch{}finally{A(!1)}}},le=async()=>{if(h.imageUrl)try{const T=Yt(z);await xa(T,{imageUrl:h.imageUrl,link:h.link,createdAt:new Date}),c([...l,{id:T.id,...h}]),g({imageUrl:"",link:""}),F()}catch(T){console.error("Error adding ad:",T)}},P=async T=>{try{if(T<0||T>=l.length)return;const N=l[T];if(!N||!N.id)return;const j=Yt(z,N.id),C=await Vl(j);if(C.exists()){const R=C.data();if(console.log("Found ad document:",R),R.imageUrl)try{const Ae=k(R.imageUrl);if(Ae){const ae=fi(gi,`gs://aimchallange-67039.firebasestorage.app/background-images/${Ae}`);await mh(ae)}}catch{}await op(j);const ye=[...l];ye.splice(T,1),c(ye),setTimeout(()=>{G(ye)},100)}}catch{}},k=T=>{if(!T)return null;try{if(T.includes("firebasestorage.googleapis.com")){const C=T.match(/%2F([^?]+)/g);if(C&&C.length>0)return C[C.length-1].replace("%2F","").split("?")[0]}if(T.includes("ad_")){const C=/ad_[0-9]+\.[a-zA-Z]+/,R=T.match(C);if(R&&R.length>0)return R[0]}const N=T.split("/");return N[N.length-1].split("?")[0]}catch{return null}};return w?u.jsx(u.Fragment,{children:s&&u.jsx("div",{className:"background-editor-overlay",onClick:B,children:u.jsxs("div",{className:"background-editor-modal",ref:L,children:[u.jsxs("div",{className:"background-editor-modal__header",children:[u.jsx("h2",{className:"background-editor-modal__title",children:"Edit Ads"}),u.jsx("button",{className:"background-editor-modal__close",onClick:V,children:"×"})]}),u.jsxs("div",{className:"background-editor-modal__body",children:[u.jsx("h3",{className:"background-editor-modal__subtitle",children:"Current Ads"}),u.jsx("div",{className:"background-editor-modal__ad-list",children:l.length>0?l.map((T,N)=>u.jsxs("div",{className:"background-editor-modal__ad-item",children:[u.jsx("img",{src:T.imageUrl,alt:`Ad ${N+1}`,className:"background-editor-modal__ad-image"}),u.jsxs("div",{className:"background-editor-modal__ad-details",children:[u.jsx("p",{className:"background-editor-modal__ad-link",children:T.link?u.jsx("a",{href:T.link,target:"_blank",rel:"noopener noreferrer",children:T.link}):"No link"}),u.jsx("button",{onClick:()=>P(N),className:"background-editor-modal__button background-editor-modal__button--secondary",children:"Remove"})]})]},N)):u.jsx("p",{className:"background-editor-modal__empty-message",children:"No ads added yet."})}),u.jsx("h3",{className:"background-editor-modal__subtitle",children:"Add New Ad"}),u.jsxs("div",{className:"background-editor-modal__form",children:[u.jsxs("div",{className:"background-editor-modal__form-group",children:[u.jsx("label",{className:"background-editor-modal__label",children:"Image:"}),u.jsxs("div",{className:"background-editor-modal__image-upload",onClick:()=>I.current.click(),children:[h.imageUrl?u.jsx("div",{className:"background-editor-modal__image-preview-container",children:u.jsx("img",{src:h.imageUrl,alt:"Preview",className:"background-editor-modal__image-preview"})}):u.jsx("div",{className:"background-editor-modal__image-placeholder",children:"Click to upload an image"}),u.jsx("input",{type:"file",accept:"image/*",onChange:Y,ref:I,className:"background-editor-modal__file-input",style:{display:"none"}})]}),E&&u.jsx("p",{className:"background-editor-modal__upload-status",children:"Uploading..."})]}),u.jsxs("div",{className:"background-editor-modal__form-group",children:[u.jsx("label",{className:"background-editor-modal__label",children:"Link (optional):"}),u.jsx("input",{type:"text",value:h.link,onChange:T=>g(N=>({...N,link:T.target.value})),placeholder:"https://example.com",className:"background-editor-modal__input"})]})]}),u.jsxs("div",{className:"background-editor-modal__footer",children:[u.jsx("button",{className:"background-editor-modal__button background-editor-modal__button--secondary",onClick:V,children:"Close"}),u.jsx("button",{className:"background-editor-modal__button background-editor-modal__button--primary",onClick:le,disabled:!h.imageUrl||E,children:"Add Ad"})]})]})]})})}):null},MD=()=>u.jsx("div",{className:"background-container",children:u.jsx("img",{src:"/backgrounds/Höjdkurvor.svg",alt:"Background"})}),LD=async(s,e,n="Admin")=>{try{const l=(await M1(bd,s,e)).user;return await P1(l,{displayName:n}),await xa(Yt(mt,"users",l.uid),{email:s,displayName:n,role:"admin",createdAt:new Date}),{success:!0,user:{uid:l.uid,email:l.email,displayName:n,role:"admin"}}}catch(a){return console.error("Error creating admin user:",a),{success:!1,error:a.message}}},VD=async()=>{try{(await Vl(Yt(mt,"settings","admin"))).exists()||(await LD("admin@example.com","password123")).success&&(await xa(Yt(mt,"settings","admin"),{initialized:!0,adminEmail:"admin@example.com",createdAt:new Date}),console.log("Admin user initialized successfully"))}catch(s){console.error("Error initializing admin user:",s)}},PD=()=>(O.useEffect(()=>{VD().then(()=>console.log("Admin user initialized")).catch(s=>console.error("Error initializing admin user:",s))},[]),u.jsx(nD,{children:u.jsx(aD,{children:u.jsx(wS,{children:u.jsxs("div",{className:"flex flex_col MaxWH location",style:{width:"100%",maxWidth:"100%",overflow:"hidden",margin:0,padding:0,display:"flex",flexDirection:"column",position:"relative"},children:[u.jsx(MD,{}),u.jsx(rD,{}),u.jsx(DD,{}),u.jsx(OD,{}),u.jsx("div",{style:{margin:0,padding:0,width:"100%",position:"relative",top:0},children:u.jsxs(tS,{children:[u.jsx(jt,{path:"/",element:u.jsx(cD,{})}),u.jsx(jt,{path:"/competitions",element:u.jsx(uD,{})}),u.jsx(jt,{path:"/ulricehamn",element:u.jsx(dD,{})}),u.jsx(jt,{path:"/salen",element:u.jsx(hD,{})}),u.jsx(jt,{path:"/hemsedal",element:u.jsx(fD,{})}),u.jsx(jt,{path:"/kolmarden",element:u.jsx(mD,{})}),u.jsx(jt,{path:"/trippeln",element:u.jsx(gD,{})}),u.jsx(jt,{path:"/results",element:u.jsx(xD,{})}),u.jsx(jt,{path:"/gallery",element:u.jsxs(u.Fragment,{children:[u.jsx(ED,{}),u.jsx(TD,{})]})}),u.jsx(jt,{path:"/om-oss",element:u.jsx(bD,{})}),u.jsx(jt,{path:"/regler",element:u.jsx(AD,{})}),u.jsx(jt,{path:"/faq",element:u.jsx(SD,{})}),u.jsx(jt,{path:"/historien-om-aim",element:u.jsx(ND,{})}),u.jsx(jt,{path:"/senaste-nytt",element:u.jsx(kD,{})}),u.jsx(jt,{path:"/news/:id",element:u.jsx(CD,{})}),u.jsx(jt,{path:"/login",element:u.jsx(Ex,{})}),u.jsx(jt,{path:"login",element:u.jsx(Ex,{})}),u.jsx(jt,{path:"/content-manager",element:u.jsx(jD,{requireAdmin:!0,children:u.jsx(ID,{})})})]})}),u.jsx(lD,{})]})})})}));(function(){const s=sessionStorage.redirect;delete sessionStorage.redirect,s&&s!==location.href&&history.replaceState(null,null,s)})();const UD=document.getElementById("root");uw.createRoot(UD).render(u.jsx(sw.StrictMode,{children:u.jsx(PD,{})}));
//# sourceMappingURL=index-19b3OAZt.js.map
