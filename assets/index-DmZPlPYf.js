(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function t(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=t(l);fetch(l.href,u)}})();function N0(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var gm={exports:{}},Fo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function fS(){if(kv)return Fo;kv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,l,u){var h=null;if(u!==void 0&&(h=""+u),l.key!==void 0&&(h=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:h,ref:l!==void 0?l:null,props:u}}return Fo.Fragment=e,Fo.jsx=t,Fo.jsxs=t,Fo}var Cv;function mS(){return Cv||(Cv=1,gm.exports=fS()),gm.exports}var f=mS(),pm={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function gS(){if(Iv)return Ce;Iv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.iterator;function A(U){return U===null||typeof U!="object"?null:(U=T&&U[T]||U["@@iterator"],typeof U=="function"?U:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,q={};function V(U,le,ge){this.props=U,this.context=le,this.refs=q,this.updater=ge||k}V.prototype.isReactComponent={},V.prototype.setState=function(U,le){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,le,"setState")},V.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function $(){}$.prototype=V.prototype;function H(U,le,ge){this.props=U,this.context=le,this.refs=q,this.updater=ge||k}var G=H.prototype=new $;G.constructor=H,j(G,V.prototype),G.isPureReactComponent=!0;var Z=Array.isArray,J={H:null,A:null,T:null,S:null},ae=Object.prototype.hasOwnProperty;function O(U,le,ge,ue,ce,Ne){return ge=Ne.ref,{$$typeof:s,type:U,key:le,ref:ge!==void 0?ge:null,props:Ne}}function R(U,le){return O(U.type,le,void 0,void 0,void 0,U.props)}function S(U){return typeof U=="object"&&U!==null&&U.$$typeof===s}function I(U){var le={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ge){return le[ge]})}var C=/\/+/g;function P(U,le){return typeof U=="object"&&U!==null&&U.key!=null?I(""+U.key):le.toString(36)}function N(){}function Ee(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(N,N):(U.status="pending",U.then(function(le){U.status==="pending"&&(U.status="fulfilled",U.value=le)},function(le){U.status==="pending"&&(U.status="rejected",U.reason=le)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function Ie(U,le,ge,ue,ce){var Ne=typeof U;(Ne==="undefined"||Ne==="boolean")&&(U=null);var ke=!1;if(U===null)ke=!0;else switch(Ne){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(U.$$typeof){case s:case e:ke=!0;break;case E:return ke=U._init,Ie(ke(U._payload),le,ge,ue,ce)}}if(ke)return ce=ce(U),ke=ue===""?"."+P(U,0):ue,Z(ce)?(ge="",ke!=null&&(ge=ke.replace(C,"$&/")+"/"),Ie(ce,le,ge,"",function(ht){return ht})):ce!=null&&(S(ce)&&(ce=R(ce,ge+(ce.key==null||U&&U.key===ce.key?"":(""+ce.key).replace(C,"$&/")+"/")+ke)),le.push(ce)),1;ke=0;var vt=ue===""?".":ue+":";if(Z(U))for(var qe=0;qe<U.length;qe++)ue=U[qe],Ne=vt+P(ue,qe),ke+=Ie(ue,le,ge,Ne,ce);else if(qe=A(U),typeof qe=="function")for(U=qe.call(U),qe=0;!(ue=U.next()).done;)ue=ue.value,Ne=vt+P(ue,qe++),ke+=Ie(ue,le,ge,Ne,ce);else if(Ne==="object"){if(typeof U.then=="function")return Ie(Ee(U),le,ge,ue,ce);throw le=String(U),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return ke}function ie(U,le,ge){if(U==null)return U;var ue=[],ce=0;return Ie(U,ue,"","",function(Ne){return le.call(ge,Ne,ce++)}),ue}function ye(U){if(U._status===-1){var le=U._result;le=le(),le.then(function(ge){(U._status===0||U._status===-1)&&(U._status=1,U._result=ge)},function(ge){(U._status===0||U._status===-1)&&(U._status=2,U._result=ge)}),U._status===-1&&(U._status=0,U._result=le)}if(U._status===1)return U._result.default;throw U._result}var pe=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function me(){}return Ce.Children={map:ie,forEach:function(U,le,ge){ie(U,function(){le.apply(this,arguments)},ge)},count:function(U){var le=0;return ie(U,function(){le++}),le},toArray:function(U){return ie(U,function(le){return le})||[]},only:function(U){if(!S(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Ce.Component=V,Ce.Fragment=t,Ce.Profiler=l,Ce.PureComponent=H,Ce.StrictMode=r,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,Ce.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ce.cache=function(U){return function(){return U.apply(null,arguments)}},Ce.cloneElement=function(U,le,ge){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ue=j({},U.props),ce=U.key,Ne=void 0;if(le!=null)for(ke in le.ref!==void 0&&(Ne=void 0),le.key!==void 0&&(ce=""+le.key),le)!ae.call(le,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&le.ref===void 0||(ue[ke]=le[ke]);var ke=arguments.length-2;if(ke===1)ue.children=ge;else if(1<ke){for(var vt=Array(ke),qe=0;qe<ke;qe++)vt[qe]=arguments[qe+2];ue.children=vt}return O(U.type,ce,void 0,void 0,Ne,ue)},Ce.createContext=function(U){return U={$$typeof:h,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:u,_context:U},U},Ce.createElement=function(U,le,ge){var ue,ce={},Ne=null;if(le!=null)for(ue in le.key!==void 0&&(Ne=""+le.key),le)ae.call(le,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ce[ue]=le[ue]);var ke=arguments.length-2;if(ke===1)ce.children=ge;else if(1<ke){for(var vt=Array(ke),qe=0;qe<ke;qe++)vt[qe]=arguments[qe+2];ce.children=vt}if(U&&U.defaultProps)for(ue in ke=U.defaultProps,ke)ce[ue]===void 0&&(ce[ue]=ke[ue]);return O(U,Ne,void 0,void 0,null,ce)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(U){return{$$typeof:m,render:U}},Ce.isValidElement=S,Ce.lazy=function(U){return{$$typeof:E,_payload:{_status:-1,_result:U},_init:ye}},Ce.memo=function(U,le){return{$$typeof:_,type:U,compare:le===void 0?null:le}},Ce.startTransition=function(U){var le=J.T,ge={};J.T=ge;try{var ue=U(),ce=J.S;ce!==null&&ce(ge,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(me,pe)}catch(Ne){pe(Ne)}finally{J.T=le}},Ce.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},Ce.use=function(U){return J.H.use(U)},Ce.useActionState=function(U,le,ge){return J.H.useActionState(U,le,ge)},Ce.useCallback=function(U,le){return J.H.useCallback(U,le)},Ce.useContext=function(U){return J.H.useContext(U)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(U,le){return J.H.useDeferredValue(U,le)},Ce.useEffect=function(U,le){return J.H.useEffect(U,le)},Ce.useId=function(){return J.H.useId()},Ce.useImperativeHandle=function(U,le,ge){return J.H.useImperativeHandle(U,le,ge)},Ce.useInsertionEffect=function(U,le){return J.H.useInsertionEffect(U,le)},Ce.useLayoutEffect=function(U,le){return J.H.useLayoutEffect(U,le)},Ce.useMemo=function(U,le){return J.H.useMemo(U,le)},Ce.useOptimistic=function(U,le){return J.H.useOptimistic(U,le)},Ce.useReducer=function(U,le,ge){return J.H.useReducer(U,le,ge)},Ce.useRef=function(U){return J.H.useRef(U)},Ce.useState=function(U){return J.H.useState(U)},Ce.useSyncExternalStore=function(U,le,ge){return J.H.useSyncExternalStore(U,le,ge)},Ce.useTransition=function(){return J.H.useTransition()},Ce.version="19.0.0",Ce}var jv;function mg(){return jv||(jv=1,pm.exports=gS()),pm.exports}var L=mg();const pS=N0(L);var _m={exports:{}},Go={},ym={exports:{}},vm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function _S(){return Dv||(Dv=1,function(s){function e(ie,ye){var pe=ie.length;ie.push(ye);e:for(;0<pe;){var me=pe-1>>>1,U=ie[me];if(0<l(U,ye))ie[me]=ye,ie[pe]=U,pe=me;else break e}}function t(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var ye=ie[0],pe=ie.pop();if(pe!==ye){ie[0]=pe;e:for(var me=0,U=ie.length,le=U>>>1;me<le;){var ge=2*(me+1)-1,ue=ie[ge],ce=ge+1,Ne=ie[ce];if(0>l(ue,pe))ce<U&&0>l(Ne,ue)?(ie[me]=Ne,ie[ce]=pe,me=ce):(ie[me]=ue,ie[ge]=pe,me=ge);else if(ce<U&&0>l(Ne,pe))ie[me]=Ne,ie[ce]=pe,me=ce;else break e}}return ye}function l(ie,ye){var pe=ie.sortIndex-ye.sortIndex;return pe!==0?pe:ie.id-ye.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();s.unstable_now=function(){return h.now()-m}}var p=[],_=[],E=1,T=null,A=3,k=!1,j=!1,q=!1,V=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function G(ie){for(var ye=t(_);ye!==null;){if(ye.callback===null)r(_);else if(ye.startTime<=ie)r(_),ye.sortIndex=ye.expirationTime,e(p,ye);else break;ye=t(_)}}function Z(ie){if(q=!1,G(ie),!j)if(t(p)!==null)j=!0,Ee();else{var ye=t(_);ye!==null&&Ie(Z,ye.startTime-ie)}}var J=!1,ae=-1,O=5,R=-1;function S(){return!(s.unstable_now()-R<O)}function I(){if(J){var ie=s.unstable_now();R=ie;var ye=!0;try{e:{j=!1,q&&(q=!1,$(ae),ae=-1),k=!0;var pe=A;try{t:{for(G(ie),T=t(p);T!==null&&!(T.expirationTime>ie&&S());){var me=T.callback;if(typeof me=="function"){T.callback=null,A=T.priorityLevel;var U=me(T.expirationTime<=ie);if(ie=s.unstable_now(),typeof U=="function"){T.callback=U,G(ie),ye=!0;break t}T===t(p)&&r(p),G(ie)}else r(p);T=t(p)}if(T!==null)ye=!0;else{var le=t(_);le!==null&&Ie(Z,le.startTime-ie),ye=!1}}break e}finally{T=null,A=pe,k=!1}ye=void 0}}finally{ye?C():J=!1}}}var C;if(typeof H=="function")C=function(){H(I)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,N=P.port2;P.port1.onmessage=I,C=function(){N.postMessage(null)}}else C=function(){V(I,0)};function Ee(){J||(J=!0,C())}function Ie(ie,ye){ae=V(function(){ie(s.unstable_now())},ye)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(ie){ie.callback=null},s.unstable_continueExecution=function(){j||k||(j=!0,Ee())},s.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<ie?Math.floor(1e3/ie):5},s.unstable_getCurrentPriorityLevel=function(){return A},s.unstable_getFirstCallbackNode=function(){return t(p)},s.unstable_next=function(ie){switch(A){case 1:case 2:case 3:var ye=3;break;default:ye=A}var pe=A;A=ye;try{return ie()}finally{A=pe}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(ie,ye){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var pe=A;A=ie;try{return ye()}finally{A=pe}},s.unstable_scheduleCallback=function(ie,ye,pe){var me=s.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?me+pe:me):pe=me,ie){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=pe+U,ie={id:E++,callback:ye,priorityLevel:ie,startTime:pe,expirationTime:U,sortIndex:-1},pe>me?(ie.sortIndex=pe,e(_,ie),t(p)===null&&ie===t(_)&&(q?($(ae),ae=-1):q=!0,Ie(Z,pe-me))):(ie.sortIndex=U,e(p,ie),j||k||(j=!0,Ee())),ie},s.unstable_shouldYield=S,s.unstable_wrapCallback=function(ie){var ye=A;return function(){var pe=A;A=ye;try{return ie.apply(this,arguments)}finally{A=pe}}}}(vm)),vm}var Ov;function yS(){return Ov||(Ov=1,ym.exports=_S()),ym.exports}var xm={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function vS(){if(Mv)return Xt;Mv=1;var s=mg();function e(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,_,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:T==null?null:""+T,children:p,containerInfo:_,implementation:E}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xt.createPortal=function(p,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(p,_,null,E)},Xt.flushSync=function(p){var _=h.T,E=r.p;try{if(h.T=null,r.p=2,p)return p()}finally{h.T=_,r.p=E,r.d.f()}},Xt.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(p,_))},Xt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Xt.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var E=_.as,T=m(E,_.crossOrigin),A=typeof _.integrity=="string"?_.integrity:void 0,k=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?r.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:k}):E==="script"&&r.d.X(p,{crossOrigin:T,integrity:A,fetchPriority:k,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Xt.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=m(_.as,_.crossOrigin);r.d.M(p,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(p)},Xt.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,T=m(E,_.crossOrigin);r.d.L(p,E,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Xt.preloadModule=function(p,_){if(typeof p=="string")if(_){var E=m(_.as,_.crossOrigin);r.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(p)},Xt.requestFormReset=function(p){r.d.r(p)},Xt.unstable_batchedUpdates=function(p,_){return p(_)},Xt.useFormState=function(p,_,E){return h.H.useFormState(p,_,E)},Xt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Xt.version="19.0.0",Xt}var Lv;function xS(){if(Lv)return xm.exports;Lv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),xm.exports=vS(),xm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function ES(){if(Pv)return Go;Pv=1;var s=yS(),e=mg(),t=xS();function r(n){var a="https://react.dev/errors/"+n;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)a+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var u=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),k=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),Z=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function ae(n){return n===null||typeof n!="object"?null:(n=J&&n[J]||n["@@iterator"],typeof n=="function"?n:null)}var O=Symbol.for("react.client.reference");function R(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===O?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case p:return"Fragment";case m:return"Portal";case E:return"Profiler";case _:return"StrictMode";case q:return"Suspense";case V:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case k:return(n.displayName||"Context")+".Provider";case A:return(n._context.displayName||"Context")+".Consumer";case j:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case $:return a=n.displayName||null,a!==null?a:R(n.type)||"Memo";case H:a=n._payload,n=n._init;try{return R(n(a))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,C,P;function N(n){if(C===void 0)try{throw Error()}catch(i){var a=i.stack.trim().match(/\n( *(at )?)/);C=a&&a[1]||"",P=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+C+n+P}var Ee=!1;function Ie(n,a){if(!n||Ee)return"";Ee=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(a){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(X){var W=X}Reflect.construct(n,[],re)}else{try{re.call()}catch(X){W=X}n.call(re.prototype)}}else{try{throw Error()}catch(X){W=X}(re=n())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(X){if(X&&W&&typeof X.stack=="string")return[X.stack,W.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=o.DetermineComponentFrameRoot(),x=g[0],b=g[1];if(x&&b){var D=x.split(`
`),z=b.split(`
`);for(d=o=0;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;for(;d<z.length&&!z[d].includes("DetermineComponentFrameRoot");)d++;if(o===D.length||d===z.length)for(o=D.length-1,d=z.length-1;1<=o&&0<=d&&D[o]!==z[d];)d--;for(;1<=o&&0<=d;o--,d--)if(D[o]!==z[d]){if(o!==1||d!==1)do if(o--,d--,0>d||D[o]!==z[d]){var ee=`
`+D[o].replace(" at new "," at ");return n.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",n.displayName)),ee}while(1<=o&&0<=d);break}}}finally{Ee=!1,Error.prepareStackTrace=i}return(i=n?n.displayName||n.name:"")?N(i):""}function ie(n){switch(n.tag){case 26:case 27:case 5:return N(n.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return n=Ie(n.type,!1),n;case 11:return n=Ie(n.type.render,!1),n;case 1:return n=Ie(n.type,!0),n;default:return""}}function ye(n){try{var a="";do a+=ie(n),n=n.return;while(n);return a}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function pe(n){var a=n,i=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(i=a.return),n=a.return;while(n)}return a.tag===3?i:null}function me(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function U(n){if(pe(n)!==n)throw Error(r(188))}function le(n){var a=n.alternate;if(!a){if(a=pe(n),a===null)throw Error(r(188));return a!==n?null:n}for(var i=n,o=a;;){var d=i.return;if(d===null)break;var g=d.alternate;if(g===null){if(o=d.return,o!==null){i=o;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===i)return U(d),n;if(g===o)return U(d),a;g=g.sibling}throw Error(r(188))}if(i.return!==o.return)i=d,o=g;else{for(var x=!1,b=d.child;b;){if(b===i){x=!0,i=d,o=g;break}if(b===o){x=!0,o=d,i=g;break}b=b.sibling}if(!x){for(b=g.child;b;){if(b===i){x=!0,i=g,o=d;break}if(b===o){x=!0,o=g,i=d;break}b=b.sibling}if(!x)throw Error(r(189))}}if(i.alternate!==o)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?n:a}function ge(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(a=ge(n),a!==null)return a;n=n.sibling}return null}var ue=Array.isArray,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ne={pending:!1,data:null,method:null,action:null},ke=[],vt=-1;function qe(n){return{current:n}}function ht(n){0>vt||(n.current=ke[vt],ke[vt]=null,vt--)}function Ye(n,a){vt++,ke[vt]=n.current,n.current=a}var nn=qe(null),Ns=qe(null),Rn=qe(null),ga=qe(null);function pa(n,a){switch(Ye(Rn,a),Ye(Ns,n),Ye(nn,null),n=a.nodeType,n){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?av(a):0;break;default:if(n=n===8?a.parentNode:a,a=n.tagName,n=n.namespaceURI)n=av(n),a=rv(n,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ht(nn),Ye(nn,a)}function ks(){ht(nn),ht(Ns),ht(Rn)}function Ul(n){n.memoizedState!==null&&Ye(ga,n);var a=nn.current,i=rv(a,n.type);a!==i&&(Ye(Ns,n),Ye(nn,i))}function vi(n){Ns.current===n&&(ht(nn),ht(Ns)),ga.current===n&&(ht(ga),Ho._currentValue=Ne)}var xi=Object.prototype.hasOwnProperty,br=s.unstable_scheduleCallback,Ei=s.unstable_cancelCallback,pd=s.unstable_shouldYield,Hl=s.unstable_requestPaint,hn=s.unstable_now,Du=s.unstable_getCurrentPriorityLevel,wt=s.unstable_ImmediatePriority,Ot=s.unstable_UserBlockingPriority,Cs=s.unstable_NormalPriority,Ou=s.unstable_LowPriority,Bl=s.unstable_IdlePriority,_d=s.log,Ar=s.unstable_setDisableYieldValue,_a=null,Wt=null;function zl(n){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(_a,n,void 0,(n.current.flags&128)===128)}catch{}}function as(n){if(typeof _d=="function"&&Ar(n),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(_a,n)}catch{}}var sn=Math.clz32?Math.clz32:Lu,ql=Math.log,Mu=Math.LN2;function Lu(n){return n>>>=0,n===0?32:31-(ql(n)/Mu|0)|0}var rs=128,ya=4194304;function Fn(n){var a=n&42;if(a!==0)return a;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Nn(n,a){var i=n.pendingLanes;if(i===0)return 0;var o=0,d=n.suspendedLanes,g=n.pingedLanes,x=n.warmLanes;n=n.finishedLanes!==0;var b=i&134217727;return b!==0?(i=b&~d,i!==0?o=Fn(i):(g&=b,g!==0?o=Fn(g):n||(x=b&~x,x!==0&&(o=Fn(x))))):(b=i&~d,b!==0?o=Fn(b):g!==0?o=Fn(g):n||(x=i&~x,x!==0&&(o=Fn(x)))),o===0?0:a!==0&&a!==o&&(a&d)===0&&(d=o&-o,x=a&-a,d>=x||d===32&&(x&4194176)!==0)?a:o}function va(n,a){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&a)===0}function Ti(n,a){switch(n){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kl(){var n=rs;return rs<<=1,(rs&4194176)===0&&(rs=128),n}function xa(){var n=ya;return ya<<=1,(ya&62914560)===0&&(ya=4194304),n}function bi(n){for(var a=[],i=0;31>i;i++)a.push(n);return a}function pt(n,a){n.pendingLanes|=a,a!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Pu(n,a,i,o,d,g){var x=n.pendingLanes;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=i,n.entangledLanes&=i,n.errorRecoveryDisabledLanes&=i,n.shellSuspendCounter=0;var b=n.entanglements,D=n.expirationTimes,z=n.hiddenUpdates;for(i=x&~i;0<i;){var ee=31-sn(i),re=1<<ee;b[ee]=0,D[ee]=-1;var W=z[ee];if(W!==null)for(z[ee]=null,ee=0;ee<W.length;ee++){var X=W[ee];X!==null&&(X.lane&=-536870913)}i&=~re}o!==0&&Ea(n,o,0),g!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=g&~(x&~a))}function Ea(n,a,i){n.pendingLanes|=a,n.suspendedLanes&=~a;var o=31-sn(a);n.entangledLanes|=a,n.entanglements[o]=n.entanglements[o]|1073741824|i&4194218}function Ta(n,a){var i=n.entangledLanes|=a;for(n=n.entanglements;i;){var o=31-sn(i),d=1<<o;d&a|n[o]&a&&(n[o]|=a),i&=~d}}function Vu(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Uu(){var n=ce.p;return n!==0?n:(n=window.event,n===void 0?32:bv(n.type))}function ba(n,a){var i=ce.p;try{return ce.p=n,a()}finally{ce.p=i}}var is=Math.random().toString(36).slice(2),Mt="__reactFiber$"+is,Rt="__reactProps$"+is,Is="__reactContainer$"+is,Sr="__reactEvents$"+is,Ai="__reactListeners$"+is,ls="__reactHandles$"+is,Fl="__reactResources$"+is,Aa="__reactMarker$"+is;function wr(n){delete n[Mt],delete n[Rt],delete n[Sr],delete n[Ai],delete n[ls]}function Gn(n){var a=n[Mt];if(a)return a;for(var i=n.parentNode;i;){if(a=i[Is]||i[Mt]){if(i=a.alternate,a.child!==null||i!==null&&i.child!==null)for(n=ov(n);n!==null;){if(i=n[Mt])return i;n=ov(n)}return a}n=i,i=n.parentNode}return null}function js(n){if(n=n[Mt]||n[Is]){var a=n.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return n}return null}function Sa(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n.stateNode;throw Error(r(33))}function wa(n){var a=n[Fl];return a||(a=n[Fl]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function it(n){n[Aa]=!0}var Gl=new Set,Si={};function _n(n,a){dn(n,a),dn(n+"Capture",a)}function dn(n,a){for(Si[n]=a,n=0;n<a.length;n++)Gl.add(a[n])}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$l={},Ql={};function Hu(n){return xi.call(Ql,n)?!0:xi.call($l,n)?!1:yd.test(n)?Ql[n]=!0:($l[n]=!0,!1)}function Ra(n,a,i){if(Hu(a))if(i===null)n.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":n.removeAttribute(a);return;case"boolean":var o=a.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){n.removeAttribute(a);return}}n.setAttribute(a,""+i)}}function Na(n,a,i){if(i===null)n.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttribute(a,""+i)}}function kn(n,a,i,o){if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttributeNS(a,i,""+o)}}function an(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Bu(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function vd(n){var a=Bu(n)?"checked":"value",i=Object.getOwnPropertyDescriptor(n.constructor.prototype,a),o=""+n[a];if(!n.hasOwnProperty(a)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,g=i.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return d.call(this)},set:function(x){o=""+x,g.call(this,x)}}),Object.defineProperty(n,a,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(x){o=""+x},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function Rr(n){n._valueTracker||(n._valueTracker=vd(n))}function Wl(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var i=a.getValue(),o="";return n&&(o=Bu(n)?n.checked?"true":"false":n.value),n=o,n!==i?(a.setValue(n),!0):!1}function wi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ds=/[\n"\\]/g;function dt(n){return n.replace(Ds,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function ka(n,a,i,o,d,g,x,b){n.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?n.type=x:n.removeAttribute("type"),a!=null?x==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+an(a)):n.value!==""+an(a)&&(n.value=""+an(a)):x!=="submit"&&x!=="reset"||n.removeAttribute("value"),a!=null?Ri(n,x,an(a)):i!=null?Ri(n,x,an(i)):o!=null&&n.removeAttribute("value"),d==null&&g!=null&&(n.defaultChecked=!!g),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+an(b):n.removeAttribute("name")}function Nr(n,a,i,o,d,g,x,b){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),a!=null||i!=null){if(!(g!=="submit"&&g!=="reset"||a!=null))return;i=i!=null?""+an(i):"",a=a!=null?""+an(a):i,b||a===n.value||(n.value=a),n.defaultValue=a}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,n.checked=b?n.checked:!!o,n.defaultChecked=!!o,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(n.name=x)}function Ri(n,a,i){a==="number"&&wi(n.ownerDocument)===n||n.defaultValue===""+i||(n.defaultValue=""+i)}function Ke(n,a,i,o){if(n=n.options,a){a={};for(var d=0;d<i.length;d++)a["$"+i[d]]=!0;for(i=0;i<n.length;i++)d=a.hasOwnProperty("$"+n[i].value),n[i].selected!==d&&(n[i].selected=d),d&&o&&(n[i].defaultSelected=!0)}else{for(i=""+an(i),a=null,d=0;d<n.length;d++){if(n[d].value===i){n[d].selected=!0,o&&(n[d].defaultSelected=!0);return}a!==null||n[d].disabled||(a=n[d])}a!==null&&(a.selected=!0)}}function kr(n,a,i){if(a!=null&&(a=""+an(a),a!==n.value&&(n.value=a),i==null)){n.defaultValue!==a&&(n.defaultValue=a);return}n.defaultValue=i!=null?""+an(i):""}function Ca(n,a,i,o){if(a==null){if(o!=null){if(i!=null)throw Error(r(92));if(ue(o)){if(1<o.length)throw Error(r(93));o=o[0]}i=o}i==null&&(i=""),a=i}i=an(a),n.defaultValue=i,o=n.textContent,o===i&&o!==""&&o!==null&&(n.value=o)}function Cn(n,a){if(a){var i=n.firstChild;if(i&&i===n.lastChild&&i.nodeType===3){i.nodeValue=a;return}}n.textContent=a}var xd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yl(n,a,i){var o=a.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?n.setProperty(a,""):a==="float"?n.cssFloat="":n[a]="":o?n.setProperty(a,i):typeof i!="number"||i===0||xd.has(a)?a==="float"?n.cssFloat=i:n[a]=(""+i).trim():n[a]=i+"px"}function zu(n,a,i){if(a!=null&&typeof a!="object")throw Error(r(62));if(n=n.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||a!=null&&a.hasOwnProperty(o)||(o.indexOf("--")===0?n.setProperty(o,""):o==="float"?n.cssFloat="":n[o]="");for(var d in a)o=a[d],a.hasOwnProperty(d)&&i[d]!==o&&Yl(n,d,o)}else for(var g in a)a.hasOwnProperty(g)&&Yl(n,g,a[g])}function Xl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ed=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Td=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function os(n){return Td.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var In=null;function Ni(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Os=null,Ms=null;function Ls(n){var a=js(n);if(a&&(n=a.stateNode)){var i=n[Rt]||null;e:switch(n=a.stateNode,a.type){case"input":if(ka(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),a=i.name,i.type==="radio"&&a!=null){for(i=n;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+dt(""+a)+'"][type="radio"]'),a=0;a<i.length;a++){var o=i[a];if(o!==n&&o.form===n.form){var d=o[Rt]||null;if(!d)throw Error(r(90));ka(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(a=0;a<i.length;a++)o=i[a],o.form===n.form&&Wl(o)}break e;case"textarea":kr(n,i.value,i.defaultValue);break e;case"select":a=i.value,a!=null&&Ke(n,!!i.multiple,a,!1)}}}var Zl=!1;function qu(n,a,i){if(Zl)return n(a,i);Zl=!0;try{var o=n(a);return o}finally{if(Zl=!1,(Os!==null||Ms!==null)&&(Oc(),Os&&(a=Os,n=Ms,Ms=Os=null,Ls(a),n)))for(a=0;a<n.length;a++)Ls(n[a])}}function Cr(n,a){var i=n.stateNode;if(i===null)return null;var o=i[Rt]||null;if(o===null)return null;i=o[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(n=n.type,o=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!o;break e;default:n=!1}if(n)return null;if(i&&typeof i!="function")throw Error(r(231,a,typeof i));return i}var jn=!1;if(yn)try{var Ir={};Object.defineProperty(Ir,"passive",{get:function(){jn=!0}}),window.addEventListener("test",Ir,Ir),window.removeEventListener("test",Ir,Ir)}catch{jn=!1}var us=null,Ia=null,Ps=null;function Jl(){if(Ps)return Ps;var n,a=Ia,i=a.length,o,d="value"in us?us.value:us.textContent,g=d.length;for(n=0;n<i&&a[n]===d[n];n++);var x=i-n;for(o=1;o<=x&&a[i-o]===d[g-o];o++);return Ps=d.slice(n,1<o?1-o:void 0)}function cs(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function hs(){return!0}function eo(){return!1}function Lt(n){function a(i,o,d,g,x){this._reactName=i,this._targetInst=d,this.type=o,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(i=n[b],this[b]=i?i(g):g[b]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?hs:eo,this.isPropagationStopped=eo,this}return I(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=hs)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=hs)},persist:function(){},isPersistent:hs}),a}var Qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ki=Lt(Qe),jr=I({},Qe,{view:0,detail:0}),Ku=Lt(jr),Ci,Ii,ds,Dr=I({},jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ds&&(ds&&n.type==="mousemove"?(Ci=n.screenX-ds.screenX,Ii=n.screenY-ds.screenY):Ii=Ci=0,ds=n),Ci)},movementY:function(n){return"movementY"in n?n.movementY:Ii}}),Dn=Lt(Dr),Fu=I({},Dr,{dataTransfer:0}),bd=Lt(Fu),Or=I({},jr,{relatedTarget:0}),ji=Lt(Or),to=I({},Qe,{animationName:0,elapsedTime:0,pseudoElement:0}),Di=Lt(to),Gu=I({},Qe,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Oi=Lt(Gu),Ad=I({},Qe,{data:0}),no=Lt(Ad),Mr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function so(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=Qu[n])?!!a[n]:!1}function Lr(){return so}var Wu=I({},jr,{key:function(n){if(n.key){var a=Mr[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=cs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?$u[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lr,charCode:function(n){return n.type==="keypress"?cs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?cs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Mi=Lt(Wu),Yu=I({},Dr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ao=Lt(Yu),Vs=I({},jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lr}),Xu=Lt(Vs),Zu=I({},Qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ju=Lt(Zu),ec=I({},Dr,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Li=Lt(ec),rn=I({},Qe,{newState:0,oldState:0}),tc=Lt(rn),nc=[9,13,27,32],fs=yn&&"CompositionEvent"in window,c=null;yn&&"documentMode"in document&&(c=document.documentMode);var y=yn&&"TextEvent"in window&&!c,v=yn&&(!fs||c&&8<c&&11>=c),w=" ",F=!1;function Y(n,a){switch(n){case"keyup":return nc.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ue=!1;function Nt(n,a){switch(n){case"compositionend":return oe(a);case"keypress":return a.which!==32?null:(F=!0,w);case"textInput":return n=a.data,n===w&&F?null:n;default:return null}}function He(n,a){if(Ue)return n==="compositionend"||!fs&&Y(n,a)?(n=Jl(),Ps=Ia=us=null,Ue=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return v&&a.locale!=="ko"?null:a.data;default:return null}}var Pt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kt(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!Pt[n.type]:a==="textarea"}function Us(n,a,i,o){Os?Ms?Ms.push(o):Ms=[o]:Os=o,a=Uc(a,"onChange"),0<a.length&&(i=new ki("onChange","change",null,i,o),n.push({event:i,listeners:a}))}var zt=null,ms=null;function ro(n){Jy(n,0)}function sc(n){var a=Sa(n);if(Wl(a))return n}function Np(n,a){if(n==="change")return a}var kp=!1;if(yn){var Sd;if(yn){var wd="oninput"in document;if(!wd){var Cp=document.createElement("div");Cp.setAttribute("oninput","return;"),wd=typeof Cp.oninput=="function"}Sd=wd}else Sd=!1;kp=Sd&&(!document.documentMode||9<document.documentMode)}function Ip(){zt&&(zt.detachEvent("onpropertychange",jp),ms=zt=null)}function jp(n){if(n.propertyName==="value"&&sc(ms)){var a=[];Us(a,ms,n,Ni(n)),qu(ro,a)}}function qb(n,a,i){n==="focusin"?(Ip(),zt=a,ms=i,zt.attachEvent("onpropertychange",jp)):n==="focusout"&&Ip()}function Kb(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return sc(ms)}function Fb(n,a){if(n==="click")return sc(a)}function Gb(n,a){if(n==="input"||n==="change")return sc(a)}function $b(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var vn=typeof Object.is=="function"?Object.is:$b;function io(n,a){if(vn(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var i=Object.keys(n),o=Object.keys(a);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var d=i[o];if(!xi.call(a,d)||!vn(n[d],a[d]))return!1}return!0}function Dp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Op(n,a){var i=Dp(n);n=0;for(var o;i;){if(i.nodeType===3){if(o=n+i.textContent.length,n<=a&&o>=a)return{node:i,offset:a-n};n=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Dp(i)}}function Mp(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?Mp(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function Lp(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var a=wi(n.document);a instanceof n.HTMLIFrameElement;){try{var i=typeof a.contentWindow.location.href=="string"}catch{i=!1}if(i)n=a.contentWindow;else break;a=wi(n.document)}return a}function Rd(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}function Qb(n,a){var i=Lp(a);a=n.focusedElem;var o=n.selectionRange;if(i!==a&&a&&a.ownerDocument&&Mp(a.ownerDocument.documentElement,a)){if(o!==null&&Rd(a)){if(n=o.start,i=o.end,i===void 0&&(i=n),"selectionStart"in a)a.selectionStart=n,a.selectionEnd=Math.min(i,a.value.length);else if(i=(n=a.ownerDocument||document)&&n.defaultView||window,i.getSelection){i=i.getSelection();var d=a.textContent.length,g=Math.min(o.start,d);o=o.end===void 0?g:Math.min(o.end,d),!i.extend&&g>o&&(d=o,o=g,g=d),d=Op(a,g);var x=Op(a,o);d&&x&&(i.rangeCount!==1||i.anchorNode!==d.node||i.anchorOffset!==d.offset||i.focusNode!==x.node||i.focusOffset!==x.offset)&&(n=n.createRange(),n.setStart(d.node,d.offset),i.removeAllRanges(),g>o?(i.addRange(n),i.extend(x.node,x.offset)):(n.setEnd(x.node,x.offset),i.addRange(n)))}}for(n=[],i=a;i=i.parentNode;)i.nodeType===1&&n.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<n.length;a++)i=n[a],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Wb=yn&&"documentMode"in document&&11>=document.documentMode,Pi=null,Nd=null,lo=null,kd=!1;function Pp(n,a,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;kd||Pi==null||Pi!==wi(o)||(o=Pi,"selectionStart"in o&&Rd(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),lo&&io(lo,o)||(lo=o,o=Uc(Nd,"onSelect"),0<o.length&&(a=new ki("onSelect","select",null,a,i),n.push({event:a,listeners:o}),a.target=Pi)))}function Pr(n,a){var i={};return i[n.toLowerCase()]=a.toLowerCase(),i["Webkit"+n]="webkit"+a,i["Moz"+n]="moz"+a,i}var Vi={animationend:Pr("Animation","AnimationEnd"),animationiteration:Pr("Animation","AnimationIteration"),animationstart:Pr("Animation","AnimationStart"),transitionrun:Pr("Transition","TransitionRun"),transitionstart:Pr("Transition","TransitionStart"),transitioncancel:Pr("Transition","TransitionCancel"),transitionend:Pr("Transition","TransitionEnd")},Cd={},Vp={};yn&&(Vp=document.createElement("div").style,"AnimationEvent"in window||(delete Vi.animationend.animation,delete Vi.animationiteration.animation,delete Vi.animationstart.animation),"TransitionEvent"in window||delete Vi.transitionend.transition);function Vr(n){if(Cd[n])return Cd[n];if(!Vi[n])return n;var a=Vi[n],i;for(i in a)if(a.hasOwnProperty(i)&&i in Vp)return Cd[n]=a[i];return n}var Up=Vr("animationend"),Hp=Vr("animationiteration"),Bp=Vr("animationstart"),Yb=Vr("transitionrun"),Xb=Vr("transitionstart"),Zb=Vr("transitioncancel"),zp=Vr("transitionend"),qp=new Map,Kp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function $n(n,a){qp.set(n,a),_n(a,[n])}var On=[],Ui=0,Id=0;function ac(){for(var n=Ui,a=Id=Ui=0;a<n;){var i=On[a];On[a++]=null;var o=On[a];On[a++]=null;var d=On[a];On[a++]=null;var g=On[a];if(On[a++]=null,o!==null&&d!==null){var x=o.pending;x===null?d.next=d:(d.next=x.next,x.next=d),o.pending=d}g!==0&&Fp(i,d,g)}}function rc(n,a,i,o){On[Ui++]=n,On[Ui++]=a,On[Ui++]=i,On[Ui++]=o,Id|=o,n.lanes|=o,n=n.alternate,n!==null&&(n.lanes|=o)}function jd(n,a,i,o){return rc(n,a,i,o),ic(n)}function ja(n,a){return rc(n,null,null,a),ic(n)}function Fp(n,a,i){n.lanes|=i;var o=n.alternate;o!==null&&(o.lanes|=i);for(var d=!1,g=n.return;g!==null;)g.childLanes|=i,o=g.alternate,o!==null&&(o.childLanes|=i),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(d=!0)),n=g,g=g.return;d&&a!==null&&n.tag===3&&(g=n.stateNode,d=31-sn(i),g=g.hiddenUpdates,n=g[d],n===null?g[d]=[a]:n.push(a),a.lane=i|536870912)}function ic(n){if(50<Do)throw Do=0,Uf=null,Error(r(185));for(var a=n.return;a!==null;)n=a,a=n.return;return n.tag===3?n.stateNode:null}var Hi={},Gp=new WeakMap;function Mn(n,a){if(typeof n=="object"&&n!==null){var i=Gp.get(n);return i!==void 0?i:(a={value:n,source:a,stack:ye(a)},Gp.set(n,a),a)}return{value:n,source:a,stack:ye(a)}}var Bi=[],zi=0,lc=null,oc=0,Ln=[],Pn=0,Ur=null,Hs=1,Bs="";function Hr(n,a){Bi[zi++]=oc,Bi[zi++]=lc,lc=n,oc=a}function $p(n,a,i){Ln[Pn++]=Hs,Ln[Pn++]=Bs,Ln[Pn++]=Ur,Ur=n;var o=Hs;n=Bs;var d=32-sn(o)-1;o&=~(1<<d),i+=1;var g=32-sn(a)+d;if(30<g){var x=d-d%5;g=(o&(1<<x)-1).toString(32),o>>=x,d-=x,Hs=1<<32-sn(a)+d|i<<d|o,Bs=g+n}else Hs=1<<g|i<<d|o,Bs=n}function Dd(n){n.return!==null&&(Hr(n,1),$p(n,1,0))}function Od(n){for(;n===lc;)lc=Bi[--zi],Bi[zi]=null,oc=Bi[--zi],Bi[zi]=null;for(;n===Ur;)Ur=Ln[--Pn],Ln[Pn]=null,Bs=Ln[--Pn],Ln[Pn]=null,Hs=Ln[--Pn],Ln[Pn]=null}var ln=null,qt=null,Fe=!1,Qn=null,gs=!1,Md=Error(r(519));function Br(n){var a=Error(r(418,""));throw co(Mn(a,n)),Md}function Qp(n){var a=n.stateNode,i=n.type,o=n.memoizedProps;switch(a[Mt]=n,a[Rt]=o,i){case"dialog":Pe("cancel",a),Pe("close",a);break;case"iframe":case"object":case"embed":Pe("load",a);break;case"video":case"audio":for(i=0;i<Mo.length;i++)Pe(Mo[i],a);break;case"source":Pe("error",a);break;case"img":case"image":case"link":Pe("error",a),Pe("load",a);break;case"details":Pe("toggle",a);break;case"input":Pe("invalid",a),Nr(a,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Rr(a);break;case"select":Pe("invalid",a);break;case"textarea":Pe("invalid",a),Ca(a,o.value,o.defaultValue,o.children),Rr(a)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||a.textContent===""+i||o.suppressHydrationWarning===!0||sv(a.textContent,i)?(o.popover!=null&&(Pe("beforetoggle",a),Pe("toggle",a)),o.onScroll!=null&&Pe("scroll",a),o.onScrollEnd!=null&&Pe("scrollend",a),o.onClick!=null&&(a.onclick=Hc),a=!0):a=!1,a||Br(n)}function Wp(n){for(ln=n.return;ln;)switch(ln.tag){case 3:case 27:gs=!0;return;case 5:case 13:gs=!1;return;default:ln=ln.return}}function oo(n){if(n!==ln)return!1;if(!Fe)return Wp(n),Fe=!0,!1;var a=!1,i;if((i=n.tag!==3&&n.tag!==27)&&((i=n.tag===5)&&(i=n.type,i=!(i!=="form"&&i!=="button")||nm(n.type,n.memoizedProps)),i=!i),i&&(a=!0),a&&qt&&Br(n),Wp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,a=0;n;){if(n.nodeType===8)if(i=n.data,i==="/$"){if(a===0){qt=Yn(n.nextSibling);break e}a--}else i!=="$"&&i!=="$!"&&i!=="$?"||a++;n=n.nextSibling}qt=null}}else qt=ln?Yn(n.stateNode.nextSibling):null;return!0}function uo(){qt=ln=null,Fe=!1}function co(n){Qn===null?Qn=[n]:Qn.push(n)}var ho=Error(r(460)),Yp=Error(r(474)),Ld={then:function(){}};function Xp(n){return n=n.status,n==="fulfilled"||n==="rejected"}function uc(){}function Zp(n,a,i){switch(i=n[i],i===void 0?n.push(a):i!==a&&(a.then(uc,uc),a=i),a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,n===ho?Error(r(483)):n;default:if(typeof a.status=="string")a.then(uc,uc);else{if(n=et,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=a,n.status="pending",n.then(function(o){if(a.status==="pending"){var d=a;d.status="fulfilled",d.value=o}},function(o){if(a.status==="pending"){var d=a;d.status="rejected",d.reason=o}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,n===ho?Error(r(483)):n}throw fo=a,ho}}var fo=null;function Jp(){if(fo===null)throw Error(r(459));var n=fo;return fo=null,n}var qi=null,mo=0;function cc(n){var a=mo;return mo+=1,qi===null&&(qi=[]),Zp(qi,n,a)}function go(n,a){a=a.props.ref,n.ref=a!==void 0?a:null}function hc(n,a){throw a.$$typeof===u?Error(r(525)):(n=Object.prototype.toString.call(a),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)))}function e_(n){var a=n._init;return a(n._payload)}function t_(n){function a(K,B){if(n){var Q=K.deletions;Q===null?(K.deletions=[B],K.flags|=16):Q.push(B)}}function i(K,B){if(!n)return null;for(;B!==null;)a(K,B),B=B.sibling;return null}function o(K){for(var B=new Map;K!==null;)K.key!==null?B.set(K.key,K):B.set(K.index,K),K=K.sibling;return B}function d(K,B){return K=Ka(K,B),K.index=0,K.sibling=null,K}function g(K,B,Q){return K.index=Q,n?(Q=K.alternate,Q!==null?(Q=Q.index,Q<B?(K.flags|=33554434,B):Q):(K.flags|=33554434,B)):(K.flags|=1048576,B)}function x(K){return n&&K.alternate===null&&(K.flags|=33554434),K}function b(K,B,Q,te){return B===null||B.tag!==6?(B=If(Q,K.mode,te),B.return=K,B):(B=d(B,Q),B.return=K,B)}function D(K,B,Q,te){var fe=Q.type;return fe===p?ee(K,B,Q.props.children,te,Q.key):B!==null&&(B.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===H&&e_(fe)===B.type)?(B=d(B,Q.props),go(B,Q),B.return=K,B):(B=kc(Q.type,Q.key,Q.props,null,K.mode,te),go(B,Q),B.return=K,B)}function z(K,B,Q,te){return B===null||B.tag!==4||B.stateNode.containerInfo!==Q.containerInfo||B.stateNode.implementation!==Q.implementation?(B=jf(Q,K.mode,te),B.return=K,B):(B=d(B,Q.children||[]),B.return=K,B)}function ee(K,B,Q,te,fe){return B===null||B.tag!==7?(B=Xr(Q,K.mode,te,fe),B.return=K,B):(B=d(B,Q),B.return=K,B)}function re(K,B,Q){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=If(""+B,K.mode,Q),B.return=K,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case h:return Q=kc(B.type,B.key,B.props,null,K.mode,Q),go(Q,B),Q.return=K,Q;case m:return B=jf(B,K.mode,Q),B.return=K,B;case H:var te=B._init;return B=te(B._payload),re(K,B,Q)}if(ue(B)||ae(B))return B=Xr(B,K.mode,Q,null),B.return=K,B;if(typeof B.then=="function")return re(K,cc(B),Q);if(B.$$typeof===k)return re(K,wc(K,B),Q);hc(K,B)}return null}function W(K,B,Q,te){var fe=B!==null?B.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return fe!==null?null:b(K,B,""+Q,te);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case h:return Q.key===fe?D(K,B,Q,te):null;case m:return Q.key===fe?z(K,B,Q,te):null;case H:return fe=Q._init,Q=fe(Q._payload),W(K,B,Q,te)}if(ue(Q)||ae(Q))return fe!==null?null:ee(K,B,Q,te,null);if(typeof Q.then=="function")return W(K,B,cc(Q),te);if(Q.$$typeof===k)return W(K,B,wc(K,Q),te);hc(K,Q)}return null}function X(K,B,Q,te,fe){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return K=K.get(Q)||null,b(B,K,""+te,fe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case h:return K=K.get(te.key===null?Q:te.key)||null,D(B,K,te,fe);case m:return K=K.get(te.key===null?Q:te.key)||null,z(B,K,te,fe);case H:var De=te._init;return te=De(te._payload),X(K,B,Q,te,fe)}if(ue(te)||ae(te))return K=K.get(Q)||null,ee(B,K,te,fe,null);if(typeof te.then=="function")return X(K,B,Q,cc(te),fe);if(te.$$typeof===k)return X(K,B,Q,wc(B,te),fe);hc(B,te)}return null}function _e(K,B,Q,te){for(var fe=null,De=null,ve=B,Te=B=0,Ht=null;ve!==null&&Te<Q.length;Te++){ve.index>Te?(Ht=ve,ve=null):Ht=ve.sibling;var Ge=W(K,ve,Q[Te],te);if(Ge===null){ve===null&&(ve=Ht);break}n&&ve&&Ge.alternate===null&&a(K,ve),B=g(Ge,B,Te),De===null?fe=Ge:De.sibling=Ge,De=Ge,ve=Ht}if(Te===Q.length)return i(K,ve),Fe&&Hr(K,Te),fe;if(ve===null){for(;Te<Q.length;Te++)ve=re(K,Q[Te],te),ve!==null&&(B=g(ve,B,Te),De===null?fe=ve:De.sibling=ve,De=ve);return Fe&&Hr(K,Te),fe}for(ve=o(ve);Te<Q.length;Te++)Ht=X(ve,K,Te,Q[Te],te),Ht!==null&&(n&&Ht.alternate!==null&&ve.delete(Ht.key===null?Te:Ht.key),B=g(Ht,B,Te),De===null?fe=Ht:De.sibling=Ht,De=Ht);return n&&ve.forEach(function(Xa){return a(K,Xa)}),Fe&&Hr(K,Te),fe}function we(K,B,Q,te){if(Q==null)throw Error(r(151));for(var fe=null,De=null,ve=B,Te=B=0,Ht=null,Ge=Q.next();ve!==null&&!Ge.done;Te++,Ge=Q.next()){ve.index>Te?(Ht=ve,ve=null):Ht=ve.sibling;var Xa=W(K,ve,Ge.value,te);if(Xa===null){ve===null&&(ve=Ht);break}n&&ve&&Xa.alternate===null&&a(K,ve),B=g(Xa,B,Te),De===null?fe=Xa:De.sibling=Xa,De=Xa,ve=Ht}if(Ge.done)return i(K,ve),Fe&&Hr(K,Te),fe;if(ve===null){for(;!Ge.done;Te++,Ge=Q.next())Ge=re(K,Ge.value,te),Ge!==null&&(B=g(Ge,B,Te),De===null?fe=Ge:De.sibling=Ge,De=Ge);return Fe&&Hr(K,Te),fe}for(ve=o(ve);!Ge.done;Te++,Ge=Q.next())Ge=X(ve,K,Te,Ge.value,te),Ge!==null&&(n&&Ge.alternate!==null&&ve.delete(Ge.key===null?Te:Ge.key),B=g(Ge,B,Te),De===null?fe=Ge:De.sibling=Ge,De=Ge);return n&&ve.forEach(function(dS){return a(K,dS)}),Fe&&Hr(K,Te),fe}function gt(K,B,Q,te){if(typeof Q=="object"&&Q!==null&&Q.type===p&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case h:e:{for(var fe=Q.key;B!==null;){if(B.key===fe){if(fe=Q.type,fe===p){if(B.tag===7){i(K,B.sibling),te=d(B,Q.props.children),te.return=K,K=te;break e}}else if(B.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===H&&e_(fe)===B.type){i(K,B.sibling),te=d(B,Q.props),go(te,Q),te.return=K,K=te;break e}i(K,B);break}else a(K,B);B=B.sibling}Q.type===p?(te=Xr(Q.props.children,K.mode,te,Q.key),te.return=K,K=te):(te=kc(Q.type,Q.key,Q.props,null,K.mode,te),go(te,Q),te.return=K,K=te)}return x(K);case m:e:{for(fe=Q.key;B!==null;){if(B.key===fe)if(B.tag===4&&B.stateNode.containerInfo===Q.containerInfo&&B.stateNode.implementation===Q.implementation){i(K,B.sibling),te=d(B,Q.children||[]),te.return=K,K=te;break e}else{i(K,B);break}else a(K,B);B=B.sibling}te=jf(Q,K.mode,te),te.return=K,K=te}return x(K);case H:return fe=Q._init,Q=fe(Q._payload),gt(K,B,Q,te)}if(ue(Q))return _e(K,B,Q,te);if(ae(Q)){if(fe=ae(Q),typeof fe!="function")throw Error(r(150));return Q=fe.call(Q),we(K,B,Q,te)}if(typeof Q.then=="function")return gt(K,B,cc(Q),te);if(Q.$$typeof===k)return gt(K,B,wc(K,Q),te);hc(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,B!==null&&B.tag===6?(i(K,B.sibling),te=d(B,Q),te.return=K,K=te):(i(K,B),te=If(Q,K.mode,te),te.return=K,K=te),x(K)):i(K,B)}return function(K,B,Q,te){try{mo=0;var fe=gt(K,B,Q,te);return qi=null,fe}catch(ve){if(ve===ho)throw ve;var De=Bn(29,ve,null,K.mode);return De.lanes=te,De.return=K,De}finally{}}}var zr=t_(!0),n_=t_(!1),Ki=qe(null),dc=qe(0);function s_(n,a){n=Zs,Ye(dc,n),Ye(Ki,a),Zs=n|a.baseLanes}function Pd(){Ye(dc,Zs),Ye(Ki,Ki.current)}function Vd(){Zs=dc.current,ht(Ki),ht(dc)}var Vn=qe(null),ps=null;function Da(n){var a=n.alternate;Ye(Ct,Ct.current&1),Ye(Vn,n),ps===null&&(a===null||Ki.current!==null||a.memoizedState!==null)&&(ps=n)}function a_(n){if(n.tag===22){if(Ye(Ct,Ct.current),Ye(Vn,n),ps===null){var a=n.alternate;a!==null&&a.memoizedState!==null&&(ps=n)}}else Oa()}function Oa(){Ye(Ct,Ct.current),Ye(Vn,Vn.current)}function zs(n){ht(Vn),ps===n&&(ps=null),ht(Ct)}var Ct=qe(0);function fc(n){for(var a=n;a!==null;){if(a.tag===13){var i=a.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Jb=typeof AbortController<"u"?AbortController:function(){var n=[],a=this.signal={aborted:!1,addEventListener:function(i,o){n.push(o)}};this.abort=function(){a.aborted=!0,n.forEach(function(i){return i()})}},eA=s.unstable_scheduleCallback,tA=s.unstable_NormalPriority,It={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ud(){return{controller:new Jb,data:new Map,refCount:0}}function po(n){n.refCount--,n.refCount===0&&eA(tA,function(){n.controller.abort()})}var _o=null,Hd=0,Fi=0,Gi=null;function nA(n,a){if(_o===null){var i=_o=[];Hd=0,Fi=$f(),Gi={status:"pending",value:void 0,then:function(o){i.push(o)}}}return Hd++,a.then(r_,r_),a}function r_(){if(--Hd===0&&_o!==null){Gi!==null&&(Gi.status="fulfilled");var n=_o;_o=null,Fi=0,Gi=null;for(var a=0;a<n.length;a++)(0,n[a])()}}function sA(n,a){var i=[],o={status:"pending",value:null,reason:null,then:function(d){i.push(d)}};return n.then(function(){o.status="fulfilled",o.value=a;for(var d=0;d<i.length;d++)(0,i[d])(a)},function(d){for(o.status="rejected",o.reason=d,d=0;d<i.length;d++)(0,i[d])(void 0)}),o}var i_=S.S;S.S=function(n,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&nA(n,a),i_!==null&&i_(n,a)};var qr=qe(null);function Bd(){var n=qr.current;return n!==null?n:et.pooledCache}function mc(n,a){a===null?Ye(qr,qr.current):Ye(qr,a.pool)}function l_(){var n=Bd();return n===null?null:{parent:It._currentValue,pool:n}}var Ma=0,je=null,Xe=null,xt=null,gc=!1,$i=!1,Kr=!1,pc=0,yo=0,Qi=null,aA=0;function _t(){throw Error(r(321))}function zd(n,a){if(a===null)return!1;for(var i=0;i<a.length&&i<n.length;i++)if(!vn(n[i],a[i]))return!1;return!0}function qd(n,a,i,o,d,g){return Ma=g,je=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,S.H=n===null||n.memoizedState===null?Fr:La,Kr=!1,g=i(o,d),Kr=!1,$i&&(g=u_(a,i,o,d)),o_(n),g}function o_(n){S.H=_s;var a=Xe!==null&&Xe.next!==null;if(Ma=0,xt=Xe=je=null,gc=!1,yo=0,Qi=null,a)throw Error(r(300));n===null||Vt||(n=n.dependencies,n!==null&&Sc(n)&&(Vt=!0))}function u_(n,a,i,o){je=n;var d=0;do{if($i&&(Qi=null),yo=0,$i=!1,25<=d)throw Error(r(301));if(d+=1,xt=Xe=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}S.H=Gr,g=a(i,o)}while($i);return g}function rA(){var n=S.H,a=n.useState()[0];return a=typeof a.then=="function"?vo(a):a,n=n.useState()[0],(Xe!==null?Xe.memoizedState:null)!==n&&(je.flags|=1024),a}function Kd(){var n=pc!==0;return pc=0,n}function Fd(n,a,i){a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~i}function Gd(n){if(gc){for(n=n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}gc=!1}Ma=0,xt=Xe=je=null,$i=!1,yo=pc=0,Qi=null}function fn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?je.memoizedState=xt=n:xt=xt.next=n,xt}function Et(){if(Xe===null){var n=je.alternate;n=n!==null?n.memoizedState:null}else n=Xe.next;var a=xt===null?je.memoizedState:xt.next;if(a!==null)xt=a,Xe=n;else{if(n===null)throw je.alternate===null?Error(r(467)):Error(r(310));Xe=n,n={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},xt===null?je.memoizedState=xt=n:xt=xt.next=n}return xt}var _c;_c=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function vo(n){var a=yo;return yo+=1,Qi===null&&(Qi=[]),n=Zp(Qi,n,a),a=je,(xt===null?a.memoizedState:xt.next)===null&&(a=a.alternate,S.H=a===null||a.memoizedState===null?Fr:La),n}function yc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return vo(n);if(n.$$typeof===k)return Yt(n)}throw Error(r(438,String(n)))}function $d(n){var a=null,i=je.updateQueue;if(i!==null&&(a=i.memoCache),a==null){var o=je.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(a={data:o.data.map(function(d){return d.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),i===null&&(i=_c(),je.updateQueue=i),i.memoCache=a,i=a.data[a.index],i===void 0)for(i=a.data[a.index]=Array(n),o=0;o<n;o++)i[o]=Z;return a.index++,i}function qs(n,a){return typeof a=="function"?a(n):a}function vc(n){var a=Et();return Qd(a,Xe,n)}function Qd(n,a,i){var o=n.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var d=n.baseQueue,g=o.pending;if(g!==null){if(d!==null){var x=d.next;d.next=g.next,g.next=x}a.baseQueue=d=g,o.pending=null}if(g=n.baseState,d===null)n.memoizedState=g;else{a=d.next;var b=x=null,D=null,z=a,ee=!1;do{var re=z.lane&-536870913;if(re!==z.lane?(Be&re)===re:(Ma&re)===re){var W=z.revertLane;if(W===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),re===Fi&&(ee=!0);else if((Ma&W)===W){z=z.next,W===Fi&&(ee=!0);continue}else re={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(b=D=re,x=g):D=D.next=re,je.lanes|=W,Fa|=W;re=z.action,Kr&&i(g,re),g=z.hasEagerState?z.eagerState:i(g,re)}else W={lane:re,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(b=D=W,x=g):D=D.next=W,je.lanes|=re,Fa|=re;z=z.next}while(z!==null&&z!==a);if(D===null?x=g:D.next=b,!vn(g,n.memoizedState)&&(Vt=!0,ee&&(i=Gi,i!==null)))throw i;n.memoizedState=g,n.baseState=x,n.baseQueue=D,o.lastRenderedState=g}return d===null&&(o.lanes=0),[n.memoizedState,o.dispatch]}function Wd(n){var a=Et(),i=a.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=n;var o=i.dispatch,d=i.pending,g=a.memoizedState;if(d!==null){i.pending=null;var x=d=d.next;do g=n(g,x.action),x=x.next;while(x!==d);vn(g,a.memoizedState)||(Vt=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),i.lastRenderedState=g}return[g,o]}function c_(n,a,i){var o=je,d=Et(),g=Fe;if(g){if(i===void 0)throw Error(r(407));i=i()}else i=a();var x=!vn((Xe||d).memoizedState,i);if(x&&(d.memoizedState=i,Vt=!0),d=d.queue,Zd(f_.bind(null,o,d,n),[n]),d.getSnapshot!==a||x||xt!==null&&xt.memoizedState.tag&1){if(o.flags|=2048,Wi(9,d_.bind(null,o,d,i,a),{destroy:void 0},null),et===null)throw Error(r(349));g||(Ma&60)!==0||h_(o,a,i)}return i}function h_(n,a,i){n.flags|=16384,n={getSnapshot:a,value:i},a=je.updateQueue,a===null?(a=_c(),je.updateQueue=a,a.stores=[n]):(i=a.stores,i===null?a.stores=[n]:i.push(n))}function d_(n,a,i,o){a.value=i,a.getSnapshot=o,m_(a)&&g_(n)}function f_(n,a,i){return i(function(){m_(a)&&g_(n)})}function m_(n){var a=n.getSnapshot;n=n.value;try{var i=a();return!vn(n,i)}catch{return!0}}function g_(n){var a=ja(n,2);a!==null&&on(a,n,2)}function Yd(n){var a=fn();if(typeof n=="function"){var i=n;if(n=i(),Kr){as(!0);try{i()}finally{as(!1)}}}return a.memoizedState=a.baseState=n,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:n},a}function p_(n,a,i,o){return n.baseState=i,Qd(n,Xe,typeof o=="function"?o:qs)}function iA(n,a,i,o,d){if(Tc(n))throw Error(r(485));if(n=a.action,n!==null){var g={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){g.listeners.push(x)}};S.T!==null?i(!0):g.isTransition=!1,o(g),i=a.pending,i===null?(g.next=a.pending=g,__(a,g)):(g.next=i.next,a.pending=i.next=g)}}function __(n,a){var i=a.action,o=a.payload,d=n.state;if(a.isTransition){var g=S.T,x={};S.T=x;try{var b=i(d,o),D=S.S;D!==null&&D(x,b),y_(n,a,b)}catch(z){Xd(n,a,z)}finally{S.T=g}}else try{g=i(d,o),y_(n,a,g)}catch(z){Xd(n,a,z)}}function y_(n,a,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){v_(n,a,o)},function(o){return Xd(n,a,o)}):v_(n,a,i)}function v_(n,a,i){a.status="fulfilled",a.value=i,x_(a),n.state=i,a=n.pending,a!==null&&(i=a.next,i===a?n.pending=null:(i=i.next,a.next=i,__(n,i)))}function Xd(n,a,i){var o=n.pending;if(n.pending=null,o!==null){o=o.next;do a.status="rejected",a.reason=i,x_(a),a=a.next;while(a!==o)}n.action=null}function x_(n){n=n.listeners;for(var a=0;a<n.length;a++)(0,n[a])()}function E_(n,a){return a}function T_(n,a){if(Fe){var i=et.formState;if(i!==null){e:{var o=je;if(Fe){if(qt){t:{for(var d=qt,g=gs;d.nodeType!==8;){if(!g){d=null;break t}if(d=Yn(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){qt=Yn(d.nextSibling),o=d.data==="F!";break e}}Br(o)}o=!1}o&&(a=i[0])}}return i=fn(),i.memoizedState=i.baseState=a,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:E_,lastRenderedState:a},i.queue=o,i=H_.bind(null,je,o),o.dispatch=i,o=Yd(!1),g=sf.bind(null,je,!1,o.queue),o=fn(),d={state:a,dispatch:null,action:n,pending:null},o.queue=d,i=iA.bind(null,je,d,g,i),d.dispatch=i,o.memoizedState=n,[a,i,!1]}function b_(n){var a=Et();return A_(a,Xe,n)}function A_(n,a,i){a=Qd(n,a,E_)[0],n=vc(qs)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?vo(a):a;var o=Et(),d=o.queue,g=d.dispatch;return i!==o.memoizedState&&(je.flags|=2048,Wi(9,lA.bind(null,d,i),{destroy:void 0},null)),[a,g,n]}function lA(n,a){n.action=a}function S_(n){var a=Et(),i=Xe;if(i!==null)return A_(a,i,n);Et(),a=a.memoizedState,i=Et();var o=i.queue.dispatch;return i.memoizedState=n,[a,o,!1]}function Wi(n,a,i,o){return n={tag:n,create:a,inst:i,deps:o,next:null},a=je.updateQueue,a===null&&(a=_c(),je.updateQueue=a),i=a.lastEffect,i===null?a.lastEffect=n.next=n:(o=i.next,i.next=n,n.next=o,a.lastEffect=n),n}function w_(){return Et().memoizedState}function xc(n,a,i,o){var d=fn();je.flags|=n,d.memoizedState=Wi(1|a,i,{destroy:void 0},o===void 0?null:o)}function Ec(n,a,i,o){var d=Et();o=o===void 0?null:o;var g=d.memoizedState.inst;Xe!==null&&o!==null&&zd(o,Xe.memoizedState.deps)?d.memoizedState=Wi(a,i,g,o):(je.flags|=n,d.memoizedState=Wi(1|a,i,g,o))}function R_(n,a){xc(8390656,8,n,a)}function Zd(n,a){Ec(2048,8,n,a)}function N_(n,a){return Ec(4,2,n,a)}function k_(n,a){return Ec(4,4,n,a)}function C_(n,a){if(typeof a=="function"){n=n();var i=a(n);return function(){typeof i=="function"?i():a(null)}}if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function I_(n,a,i){i=i!=null?i.concat([n]):null,Ec(4,4,C_.bind(null,a,n),i)}function Jd(){}function j_(n,a){var i=Et();a=a===void 0?null:a;var o=i.memoizedState;return a!==null&&zd(a,o[1])?o[0]:(i.memoizedState=[n,a],n)}function D_(n,a){var i=Et();a=a===void 0?null:a;var o=i.memoizedState;if(a!==null&&zd(a,o[1]))return o[0];if(o=n(),Kr){as(!0);try{n()}finally{as(!1)}}return i.memoizedState=[o,a],o}function ef(n,a,i){return i===void 0||(Ma&1073741824)!==0?n.memoizedState=a:(n.memoizedState=i,n=My(),je.lanes|=n,Fa|=n,i)}function O_(n,a,i,o){return vn(i,a)?i:Ki.current!==null?(n=ef(n,i,o),vn(n,a)||(Vt=!0),n):(Ma&42)===0?(Vt=!0,n.memoizedState=i):(n=My(),je.lanes|=n,Fa|=n,a)}function M_(n,a,i,o,d){var g=ce.p;ce.p=g!==0&&8>g?g:8;var x=S.T,b={};S.T=b,sf(n,!1,a,i);try{var D=d(),z=S.S;if(z!==null&&z(b,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var ee=sA(D,o);xo(n,a,ee,bn(n))}else xo(n,a,o,bn(n))}catch(re){xo(n,a,{then:function(){},status:"rejected",reason:re},bn())}finally{ce.p=g,S.T=x}}function oA(){}function tf(n,a,i,o){if(n.tag!==5)throw Error(r(476));var d=L_(n).queue;M_(n,d,a,Ne,i===null?oA:function(){return P_(n),i(o)})}function L_(n){var a=n.memoizedState;if(a!==null)return a;a={memoizedState:Ne,baseState:Ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:Ne},next:null};var i={};return a.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:i},next:null},n.memoizedState=a,n=n.alternate,n!==null&&(n.memoizedState=a),a}function P_(n){var a=L_(n).next.queue;xo(n,a,{},bn())}function nf(){return Yt(Ho)}function V_(){return Et().memoizedState}function U_(){return Et().memoizedState}function uA(n){for(var a=n.return;a!==null;){switch(a.tag){case 24:case 3:var i=bn();n=Ua(i);var o=Ha(a,n,i);o!==null&&(on(o,a,i),bo(o,a,i)),a={cache:Ud()},n.payload=a;return}a=a.return}}function cA(n,a,i){var o=bn();i={lane:o,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Tc(n)?B_(a,i):(i=jd(n,a,i,o),i!==null&&(on(i,n,o),z_(i,a,o)))}function H_(n,a,i){var o=bn();xo(n,a,i,o)}function xo(n,a,i,o){var d={lane:o,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Tc(n))B_(a,d);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var x=a.lastRenderedState,b=g(x,i);if(d.hasEagerState=!0,d.eagerState=b,vn(b,x))return rc(n,a,d,0),et===null&&ac(),!1}catch{}finally{}if(i=jd(n,a,d,o),i!==null)return on(i,n,o),z_(i,a,o),!0}return!1}function sf(n,a,i,o){if(o={lane:2,revertLane:$f(),action:o,hasEagerState:!1,eagerState:null,next:null},Tc(n)){if(a)throw Error(r(479))}else a=jd(n,i,o,2),a!==null&&on(a,n,2)}function Tc(n){var a=n.alternate;return n===je||a!==null&&a===je}function B_(n,a){$i=gc=!0;var i=n.pending;i===null?a.next=a:(a.next=i.next,i.next=a),n.pending=a}function z_(n,a,i){if((i&4194176)!==0){var o=a.lanes;o&=n.pendingLanes,i|=o,a.lanes=i,Ta(n,i)}}var _s={readContext:Yt,use:yc,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t};_s.useCacheRefresh=_t,_s.useMemoCache=_t,_s.useHostTransitionStatus=_t,_s.useFormState=_t,_s.useActionState=_t,_s.useOptimistic=_t;var Fr={readContext:Yt,use:yc,useCallback:function(n,a){return fn().memoizedState=[n,a===void 0?null:a],n},useContext:Yt,useEffect:R_,useImperativeHandle:function(n,a,i){i=i!=null?i.concat([n]):null,xc(4194308,4,C_.bind(null,a,n),i)},useLayoutEffect:function(n,a){return xc(4194308,4,n,a)},useInsertionEffect:function(n,a){xc(4,2,n,a)},useMemo:function(n,a){var i=fn();a=a===void 0?null:a;var o=n();if(Kr){as(!0);try{n()}finally{as(!1)}}return i.memoizedState=[o,a],o},useReducer:function(n,a,i){var o=fn();if(i!==void 0){var d=i(a);if(Kr){as(!0);try{i(a)}finally{as(!1)}}}else d=a;return o.memoizedState=o.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},o.queue=n,n=n.dispatch=cA.bind(null,je,n),[o.memoizedState,n]},useRef:function(n){var a=fn();return n={current:n},a.memoizedState=n},useState:function(n){n=Yd(n);var a=n.queue,i=H_.bind(null,je,a);return a.dispatch=i,[n.memoizedState,i]},useDebugValue:Jd,useDeferredValue:function(n,a){var i=fn();return ef(i,n,a)},useTransition:function(){var n=Yd(!1);return n=M_.bind(null,je,n.queue,!0,!1),fn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,a,i){var o=je,d=fn();if(Fe){if(i===void 0)throw Error(r(407));i=i()}else{if(i=a(),et===null)throw Error(r(349));(Be&60)!==0||h_(o,a,i)}d.memoizedState=i;var g={value:i,getSnapshot:a};return d.queue=g,R_(f_.bind(null,o,g,n),[n]),o.flags|=2048,Wi(9,d_.bind(null,o,g,i,a),{destroy:void 0},null),i},useId:function(){var n=fn(),a=et.identifierPrefix;if(Fe){var i=Bs,o=Hs;i=(o&~(1<<32-sn(o)-1)).toString(32)+i,a=":"+a+"R"+i,i=pc++,0<i&&(a+="H"+i.toString(32)),a+=":"}else i=aA++,a=":"+a+"r"+i.toString(32)+":";return n.memoizedState=a},useCacheRefresh:function(){return fn().memoizedState=uA.bind(null,je)}};Fr.useMemoCache=$d,Fr.useHostTransitionStatus=nf,Fr.useFormState=T_,Fr.useActionState=T_,Fr.useOptimistic=function(n){var a=fn();a.memoizedState=a.baseState=n;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=i,a=sf.bind(null,je,!0,i),i.dispatch=a,[n,a]};var La={readContext:Yt,use:yc,useCallback:j_,useContext:Yt,useEffect:Zd,useImperativeHandle:I_,useInsertionEffect:N_,useLayoutEffect:k_,useMemo:D_,useReducer:vc,useRef:w_,useState:function(){return vc(qs)},useDebugValue:Jd,useDeferredValue:function(n,a){var i=Et();return O_(i,Xe.memoizedState,n,a)},useTransition:function(){var n=vc(qs)[0],a=Et().memoizedState;return[typeof n=="boolean"?n:vo(n),a]},useSyncExternalStore:c_,useId:V_};La.useCacheRefresh=U_,La.useMemoCache=$d,La.useHostTransitionStatus=nf,La.useFormState=b_,La.useActionState=b_,La.useOptimistic=function(n,a){var i=Et();return p_(i,Xe,n,a)};var Gr={readContext:Yt,use:yc,useCallback:j_,useContext:Yt,useEffect:Zd,useImperativeHandle:I_,useInsertionEffect:N_,useLayoutEffect:k_,useMemo:D_,useReducer:Wd,useRef:w_,useState:function(){return Wd(qs)},useDebugValue:Jd,useDeferredValue:function(n,a){var i=Et();return Xe===null?ef(i,n,a):O_(i,Xe.memoizedState,n,a)},useTransition:function(){var n=Wd(qs)[0],a=Et().memoizedState;return[typeof n=="boolean"?n:vo(n),a]},useSyncExternalStore:c_,useId:V_};Gr.useCacheRefresh=U_,Gr.useMemoCache=$d,Gr.useHostTransitionStatus=nf,Gr.useFormState=S_,Gr.useActionState=S_,Gr.useOptimistic=function(n,a){var i=Et();return Xe!==null?p_(i,Xe,n,a):(i.baseState=n,[n,i.queue.dispatch])};function af(n,a,i,o){a=n.memoizedState,i=i(o,a),i=i==null?a:I({},a,i),n.memoizedState=i,n.lanes===0&&(n.updateQueue.baseState=i)}var rf={isMounted:function(n){return(n=n._reactInternals)?pe(n)===n:!1},enqueueSetState:function(n,a,i){n=n._reactInternals;var o=bn(),d=Ua(o);d.payload=a,i!=null&&(d.callback=i),a=Ha(n,d,o),a!==null&&(on(a,n,o),bo(a,n,o))},enqueueReplaceState:function(n,a,i){n=n._reactInternals;var o=bn(),d=Ua(o);d.tag=1,d.payload=a,i!=null&&(d.callback=i),a=Ha(n,d,o),a!==null&&(on(a,n,o),bo(a,n,o))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var i=bn(),o=Ua(i);o.tag=2,a!=null&&(o.callback=a),a=Ha(n,o,i),a!==null&&(on(a,n,i),bo(a,n,i))}};function q_(n,a,i,o,d,g,x){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(o,g,x):a.prototype&&a.prototype.isPureReactComponent?!io(i,o)||!io(d,g):!0}function K_(n,a,i,o){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(i,o),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(i,o),a.state!==n&&rf.enqueueReplaceState(a,a.state,null)}function $r(n,a){var i=a;if("ref"in a){i={};for(var o in a)o!=="ref"&&(i[o]=a[o])}if(n=n.defaultProps){i===a&&(i=I({},i));for(var d in n)i[d]===void 0&&(i[d]=n[d])}return i}var bc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function F_(n){bc(n)}function G_(n){console.error(n)}function $_(n){bc(n)}function Ac(n,a){try{var i=n.onUncaughtError;i(a.value,{componentStack:a.stack})}catch(o){setTimeout(function(){throw o})}}function Q_(n,a,i){try{var o=n.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function lf(n,a,i){return i=Ua(i),i.tag=3,i.payload={element:null},i.callback=function(){Ac(n,a)},i}function W_(n){return n=Ua(n),n.tag=3,n}function Y_(n,a,i,o){var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var g=o.value;n.payload=function(){return d(g)},n.callback=function(){Q_(a,i,o)}}var x=i.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(n.callback=function(){Q_(a,i,o),typeof d!="function"&&(Ga===null?Ga=new Set([this]):Ga.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})})}function hA(n,a,i,o,d){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(a=i.alternate,a!==null&&To(a,i,d,!0),i=Vn.current,i!==null){switch(i.tag){case 13:return ps===null?zf():i.alternate===null&&mt===0&&(mt=3),i.flags&=-257,i.flags|=65536,i.lanes=d,o===Ld?i.flags|=16384:(a=i.updateQueue,a===null?i.updateQueue=new Set([o]):a.add(o),Kf(n,o,d)),!1;case 22:return i.flags|=65536,o===Ld?i.flags|=16384:(a=i.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=a):(i=a.retryQueue,i===null?a.retryQueue=new Set([o]):i.add(o)),Kf(n,o,d)),!1}throw Error(r(435,i.tag))}return Kf(n,o,d),zf(),!1}if(Fe)return a=Vn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=d,o!==Md&&(n=Error(r(422),{cause:o}),co(Mn(n,i)))):(o!==Md&&(a=Error(r(423),{cause:o}),co(Mn(a,i))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,o=Mn(o,i),d=lf(n.stateNode,o,d),Tf(n,d),mt!==4&&(mt=2)),!1;var g=Error(r(520),{cause:o});if(g=Mn(g,i),Io===null?Io=[g]:Io.push(g),mt!==4&&(mt=2),a===null)return!0;o=Mn(o,i),i=a;do{switch(i.tag){case 3:return i.flags|=65536,n=d&-d,i.lanes|=n,n=lf(i.stateNode,o,n),Tf(i,n),!1;case 1:if(a=i.type,g=i.stateNode,(i.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ga===null||!Ga.has(g))))return i.flags|=65536,d&=-d,i.lanes|=d,d=W_(d),Y_(d,n,i,o),Tf(i,d),!1}i=i.return}while(i!==null);return!1}var X_=Error(r(461)),Vt=!1;function Kt(n,a,i,o){a.child=n===null?n_(a,null,i,o):zr(a,n.child,i,o)}function Z_(n,a,i,o,d){i=i.render;var g=a.ref;if("ref"in o){var x={};for(var b in o)b!=="ref"&&(x[b]=o[b])}else x=o;return Wr(a),o=qd(n,a,i,x,g,d),b=Kd(),n!==null&&!Vt?(Fd(n,a,d),Ks(n,a,d)):(Fe&&b&&Dd(a),a.flags|=1,Kt(n,a,o,d),a.child)}function J_(n,a,i,o,d){if(n===null){var g=i.type;return typeof g=="function"&&!Cf(g)&&g.defaultProps===void 0&&i.compare===null?(a.tag=15,a.type=g,ey(n,a,g,o,d)):(n=kc(i.type,null,o,a,a.mode,d),n.ref=a.ref,n.return=a,a.child=n)}if(g=n.child,!pf(n,d)){var x=g.memoizedProps;if(i=i.compare,i=i!==null?i:io,i(x,o)&&n.ref===a.ref)return Ks(n,a,d)}return a.flags|=1,n=Ka(g,o),n.ref=a.ref,n.return=a,a.child=n}function ey(n,a,i,o,d){if(n!==null){var g=n.memoizedProps;if(io(g,o)&&n.ref===a.ref)if(Vt=!1,a.pendingProps=o=g,pf(n,d))(n.flags&131072)!==0&&(Vt=!0);else return a.lanes=n.lanes,Ks(n,a,d)}return of(n,a,i,o,d)}function ty(n,a,i){var o=a.pendingProps,d=o.children,g=(a.stateNode._pendingVisibility&2)!==0,x=n!==null?n.memoizedState:null;if(Eo(n,a),o.mode==="hidden"||g){if((a.flags&128)!==0){if(o=x!==null?x.baseLanes|i:i,n!==null){for(d=a.child=n.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;a.childLanes=g&~o}else a.childLanes=0,a.child=null;return ny(n,a,o,i)}if((i&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},n!==null&&mc(a,x!==null?x.cachePool:null),x!==null?s_(a,x):Pd(),a_(a);else return a.lanes=a.childLanes=536870912,ny(n,a,x!==null?x.baseLanes|i:i,i)}else x!==null?(mc(a,x.cachePool),s_(a,x),Oa(),a.memoizedState=null):(n!==null&&mc(a,null),Pd(),Oa());return Kt(n,a,d,i),a.child}function ny(n,a,i,o){var d=Bd();return d=d===null?null:{parent:It._currentValue,pool:d},a.memoizedState={baseLanes:i,cachePool:d},n!==null&&mc(a,null),Pd(),a_(a),n!==null&&To(n,a,o,!0),null}function Eo(n,a){var i=a.ref;if(i===null)n!==null&&n.ref!==null&&(a.flags|=2097664);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(n===null||n.ref!==i)&&(a.flags|=2097664)}}function of(n,a,i,o,d){return Wr(a),i=qd(n,a,i,o,void 0,d),o=Kd(),n!==null&&!Vt?(Fd(n,a,d),Ks(n,a,d)):(Fe&&o&&Dd(a),a.flags|=1,Kt(n,a,i,d),a.child)}function sy(n,a,i,o,d,g){return Wr(a),a.updateQueue=null,i=u_(a,o,i,d),o_(n),o=Kd(),n!==null&&!Vt?(Fd(n,a,g),Ks(n,a,g)):(Fe&&o&&Dd(a),a.flags|=1,Kt(n,a,i,g),a.child)}function ay(n,a,i,o,d){if(Wr(a),a.stateNode===null){var g=Hi,x=i.contextType;typeof x=="object"&&x!==null&&(g=Yt(x)),g=new i(o,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=rf,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=o,g.state=a.memoizedState,g.refs={},xf(a),x=i.contextType,g.context=typeof x=="object"&&x!==null?Yt(x):Hi,g.state=a.memoizedState,x=i.getDerivedStateFromProps,typeof x=="function"&&(af(a,i,x,o),g.state=a.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(x=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),x!==g.state&&rf.enqueueReplaceState(g,g.state,null),So(a,o,g,d),Ao(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),o=!0}else if(n===null){g=a.stateNode;var b=a.memoizedProps,D=$r(i,b);g.props=D;var z=g.context,ee=i.contextType;x=Hi,typeof ee=="object"&&ee!==null&&(x=Yt(ee));var re=i.getDerivedStateFromProps;ee=typeof re=="function"||typeof g.getSnapshotBeforeUpdate=="function",b=a.pendingProps!==b,ee||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b||z!==x)&&K_(a,g,o,x),Va=!1;var W=a.memoizedState;g.state=W,So(a,o,g,d),Ao(),z=a.memoizedState,b||W!==z||Va?(typeof re=="function"&&(af(a,i,re,o),z=a.memoizedState),(D=Va||q_(a,i,D,o,W,z,x))?(ee||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=o,a.memoizedState=z),g.props=o,g.state=z,g.context=x,o=D):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),o=!1)}else{g=a.stateNode,Ef(n,a),x=a.memoizedProps,ee=$r(i,x),g.props=ee,re=a.pendingProps,W=g.context,z=i.contextType,D=Hi,typeof z=="object"&&z!==null&&(D=Yt(z)),b=i.getDerivedStateFromProps,(z=typeof b=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==re||W!==D)&&K_(a,g,o,D),Va=!1,W=a.memoizedState,g.state=W,So(a,o,g,d),Ao();var X=a.memoizedState;x!==re||W!==X||Va||n!==null&&n.dependencies!==null&&Sc(n.dependencies)?(typeof b=="function"&&(af(a,i,b,o),X=a.memoizedState),(ee=Va||q_(a,i,ee,o,W,X,D)||n!==null&&n.dependencies!==null&&Sc(n.dependencies))?(z||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,X,D),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,X,D)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===n.memoizedProps&&W===n.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===n.memoizedProps&&W===n.memoizedState||(a.flags|=1024),a.memoizedProps=o,a.memoizedState=X),g.props=o,g.state=X,g.context=D,o=ee):(typeof g.componentDidUpdate!="function"||x===n.memoizedProps&&W===n.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===n.memoizedProps&&W===n.memoizedState||(a.flags|=1024),o=!1)}return g=o,Eo(n,a),o=(a.flags&128)!==0,g||o?(g=a.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,n!==null&&o?(a.child=zr(a,n.child,null,d),a.child=zr(a,null,i,d)):Kt(n,a,i,d),a.memoizedState=g.state,n=a.child):n=Ks(n,a,d),n}function ry(n,a,i,o){return uo(),a.flags|=256,Kt(n,a,i,o),a.child}var uf={dehydrated:null,treeContext:null,retryLane:0};function cf(n){return{baseLanes:n,cachePool:l_()}}function hf(n,a,i){return n=n!==null?n.childLanes&~i:0,a&&(n|=zn),n}function iy(n,a,i){var o=a.pendingProps,d=!1,g=(a.flags&128)!==0,x;if((x=g)||(x=n!==null&&n.memoizedState===null?!1:(Ct.current&2)!==0),x&&(d=!0,a.flags&=-129),x=(a.flags&32)!==0,a.flags&=-33,n===null){if(Fe){if(d?Da(a):Oa(),Fe){var b=qt,D;if(D=b){e:{for(D=b,b=gs;D.nodeType!==8;){if(!b){b=null;break e}if(D=Yn(D.nextSibling),D===null){b=null;break e}}b=D}b!==null?(a.memoizedState={dehydrated:b,treeContext:Ur!==null?{id:Hs,overflow:Bs}:null,retryLane:536870912},D=Bn(18,null,null,0),D.stateNode=b,D.return=a,a.child=D,ln=a,qt=null,D=!0):D=!1}D||Br(a)}if(b=a.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return b.data==="$!"?a.lanes=16:a.lanes=536870912,null;zs(a)}return b=o.children,o=o.fallback,d?(Oa(),d=a.mode,b=ff({mode:"hidden",children:b},d),o=Xr(o,d,i,null),b.return=a,o.return=a,b.sibling=o,a.child=b,d=a.child,d.memoizedState=cf(i),d.childLanes=hf(n,x,i),a.memoizedState=uf,o):(Da(a),df(a,b))}if(D=n.memoizedState,D!==null&&(b=D.dehydrated,b!==null)){if(g)a.flags&256?(Da(a),a.flags&=-257,a=mf(n,a,i)):a.memoizedState!==null?(Oa(),a.child=n.child,a.flags|=128,a=null):(Oa(),d=o.fallback,b=a.mode,o=ff({mode:"visible",children:o.children},b),d=Xr(d,b,i,null),d.flags|=2,o.return=a,d.return=a,o.sibling=d,a.child=o,zr(a,n.child,null,i),o=a.child,o.memoizedState=cf(i),o.childLanes=hf(n,x,i),a.memoizedState=uf,a=d);else if(Da(a),b.data==="$!"){if(x=b.nextSibling&&b.nextSibling.dataset,x)var z=x.dgst;x=z,o=Error(r(419)),o.stack="",o.digest=x,co({value:o,source:null,stack:null}),a=mf(n,a,i)}else if(Vt||To(n,a,i,!1),x=(i&n.childLanes)!==0,Vt||x){if(x=et,x!==null){if(o=i&-i,(o&42)!==0)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=(o&(x.suspendedLanes|i))!==0?0:o,o!==0&&o!==D.retryLane)throw D.retryLane=o,ja(n,o),on(x,n,o),X_}b.data==="$?"||zf(),a=mf(n,a,i)}else b.data==="$?"?(a.flags|=128,a.child=n.child,a=wA.bind(null,n),b._reactRetry=a,a=null):(n=D.treeContext,qt=Yn(b.nextSibling),ln=a,Fe=!0,Qn=null,gs=!1,n!==null&&(Ln[Pn++]=Hs,Ln[Pn++]=Bs,Ln[Pn++]=Ur,Hs=n.id,Bs=n.overflow,Ur=a),a=df(a,o.children),a.flags|=4096);return a}return d?(Oa(),d=o.fallback,b=a.mode,D=n.child,z=D.sibling,o=Ka(D,{mode:"hidden",children:o.children}),o.subtreeFlags=D.subtreeFlags&31457280,z!==null?d=Ka(z,d):(d=Xr(d,b,i,null),d.flags|=2),d.return=a,o.return=a,o.sibling=d,a.child=o,o=d,d=a.child,b=n.child.memoizedState,b===null?b=cf(i):(D=b.cachePool,D!==null?(z=It._currentValue,D=D.parent!==z?{parent:z,pool:z}:D):D=l_(),b={baseLanes:b.baseLanes|i,cachePool:D}),d.memoizedState=b,d.childLanes=hf(n,x,i),a.memoizedState=uf,o):(Da(a),i=n.child,n=i.sibling,i=Ka(i,{mode:"visible",children:o.children}),i.return=a,i.sibling=null,n!==null&&(x=a.deletions,x===null?(a.deletions=[n],a.flags|=16):x.push(n)),a.child=i,a.memoizedState=null,i)}function df(n,a){return a=ff({mode:"visible",children:a},n.mode),a.return=n,n.child=a}function ff(n,a){return jy(n,a,0,null)}function mf(n,a,i){return zr(a,n.child,null,i),n=df(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function ly(n,a,i){n.lanes|=a;var o=n.alternate;o!==null&&(o.lanes|=a),yf(n.return,a,i)}function gf(n,a,i,o,d){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:d}:(g.isBackwards=a,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=i,g.tailMode=d)}function oy(n,a,i){var o=a.pendingProps,d=o.revealOrder,g=o.tail;if(Kt(n,a,o.children,i),o=Ct.current,(o&2)!==0)o=o&1|2,a.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ly(n,i,a);else if(n.tag===19)ly(n,i,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}o&=1}switch(Ye(Ct,o),d){case"forwards":for(i=a.child,d=null;i!==null;)n=i.alternate,n!==null&&fc(n)===null&&(d=i),i=i.sibling;i=d,i===null?(d=a.child,a.child=null):(d=i.sibling,i.sibling=null),gf(a,!1,d,i,g);break;case"backwards":for(i=null,d=a.child,a.child=null;d!==null;){if(n=d.alternate,n!==null&&fc(n)===null){a.child=d;break}n=d.sibling,d.sibling=i,i=d,d=n}gf(a,!0,i,null,g);break;case"together":gf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ks(n,a,i){if(n!==null&&(a.dependencies=n.dependencies),Fa|=a.lanes,(i&a.childLanes)===0)if(n!==null){if(To(n,a,i,!1),(i&a.childLanes)===0)return null}else return null;if(n!==null&&a.child!==n.child)throw Error(r(153));if(a.child!==null){for(n=a.child,i=Ka(n,n.pendingProps),a.child=i,i.return=a;n.sibling!==null;)n=n.sibling,i=i.sibling=Ka(n,n.pendingProps),i.return=a;i.sibling=null}return a.child}function pf(n,a){return(n.lanes&a)!==0?!0:(n=n.dependencies,!!(n!==null&&Sc(n)))}function dA(n,a,i){switch(a.tag){case 3:pa(a,a.stateNode.containerInfo),Pa(a,It,n.memoizedState.cache),uo();break;case 27:case 5:Ul(a);break;case 4:pa(a,a.stateNode.containerInfo);break;case 10:Pa(a,a.type,a.memoizedProps.value);break;case 13:var o=a.memoizedState;if(o!==null)return o.dehydrated!==null?(Da(a),a.flags|=128,null):(i&a.child.childLanes)!==0?iy(n,a,i):(Da(a),n=Ks(n,a,i),n!==null?n.sibling:null);Da(a);break;case 19:var d=(n.flags&128)!==0;if(o=(i&a.childLanes)!==0,o||(To(n,a,i,!1),o=(i&a.childLanes)!==0),d){if(o)return oy(n,a,i);a.flags|=128}if(d=a.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ye(Ct,Ct.current),o)break;return null;case 22:case 23:return a.lanes=0,ty(n,a,i);case 24:Pa(a,It,n.memoizedState.cache)}return Ks(n,a,i)}function uy(n,a,i){if(n!==null)if(n.memoizedProps!==a.pendingProps)Vt=!0;else{if(!pf(n,i)&&(a.flags&128)===0)return Vt=!1,dA(n,a,i);Vt=(n.flags&131072)!==0}else Vt=!1,Fe&&(a.flags&1048576)!==0&&$p(a,oc,a.index);switch(a.lanes=0,a.tag){case 16:e:{n=a.pendingProps;var o=a.elementType,d=o._init;if(o=d(o._payload),a.type=o,typeof o=="function")Cf(o)?(n=$r(o,n),a.tag=1,a=ay(null,a,o,n,i)):(a.tag=0,a=of(null,a,o,n,i));else{if(o!=null){if(d=o.$$typeof,d===j){a.tag=11,a=Z_(null,a,o,n,i);break e}else if(d===$){a.tag=14,a=J_(null,a,o,n,i);break e}}throw a=R(o)||o,Error(r(306,a,""))}}return a;case 0:return of(n,a,a.type,a.pendingProps,i);case 1:return o=a.type,d=$r(o,a.pendingProps),ay(n,a,o,d,i);case 3:e:{if(pa(a,a.stateNode.containerInfo),n===null)throw Error(r(387));var g=a.pendingProps;d=a.memoizedState,o=d.element,Ef(n,a),So(a,g,null,i);var x=a.memoizedState;if(g=x.cache,Pa(a,It,g),g!==d.cache&&vf(a,[It],i,!0),Ao(),g=x.element,d.isDehydrated)if(d={element:g,isDehydrated:!1,cache:x.cache},a.updateQueue.baseState=d,a.memoizedState=d,a.flags&256){a=ry(n,a,g,i);break e}else if(g!==o){o=Mn(Error(r(424)),a),co(o),a=ry(n,a,g,i);break e}else for(qt=Yn(a.stateNode.containerInfo.firstChild),ln=a,Fe=!0,Qn=null,gs=!0,i=n_(a,null,g,i),a.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(uo(),g===o){a=Ks(n,a,i);break e}Kt(n,a,g,i)}a=a.child}return a;case 26:return Eo(n,a),n===null?(i=dv(a.type,null,a.pendingProps,null))?a.memoizedState=i:Fe||(i=a.type,n=a.pendingProps,o=Bc(Rn.current).createElement(i),o[Mt]=a,o[Rt]=n,Ft(o,i,n),it(o),a.stateNode=o):a.memoizedState=dv(a.type,n.memoizedProps,a.pendingProps,n.memoizedState),null;case 27:return Ul(a),n===null&&Fe&&(o=a.stateNode=uv(a.type,a.pendingProps,Rn.current),ln=a,gs=!0,qt=Yn(o.firstChild)),o=a.pendingProps.children,n!==null||Fe?Kt(n,a,o,i):a.child=zr(a,null,o,i),Eo(n,a),a.child;case 5:return n===null&&Fe&&((d=o=qt)&&(o=zA(o,a.type,a.pendingProps,gs),o!==null?(a.stateNode=o,ln=a,qt=Yn(o.firstChild),gs=!1,d=!0):d=!1),d||Br(a)),Ul(a),d=a.type,g=a.pendingProps,x=n!==null?n.memoizedProps:null,o=g.children,nm(d,g)?o=null:x!==null&&nm(d,x)&&(a.flags|=32),a.memoizedState!==null&&(d=qd(n,a,rA,null,null,i),Ho._currentValue=d),Eo(n,a),Kt(n,a,o,i),a.child;case 6:return n===null&&Fe&&((n=i=qt)&&(i=qA(i,a.pendingProps,gs),i!==null?(a.stateNode=i,ln=a,qt=null,n=!0):n=!1),n||Br(a)),null;case 13:return iy(n,a,i);case 4:return pa(a,a.stateNode.containerInfo),o=a.pendingProps,n===null?a.child=zr(a,null,o,i):Kt(n,a,o,i),a.child;case 11:return Z_(n,a,a.type,a.pendingProps,i);case 7:return Kt(n,a,a.pendingProps,i),a.child;case 8:return Kt(n,a,a.pendingProps.children,i),a.child;case 12:return Kt(n,a,a.pendingProps.children,i),a.child;case 10:return o=a.pendingProps,Pa(a,a.type,o.value),Kt(n,a,o.children,i),a.child;case 9:return d=a.type._context,o=a.pendingProps.children,Wr(a),d=Yt(d),o=o(d),a.flags|=1,Kt(n,a,o,i),a.child;case 14:return J_(n,a,a.type,a.pendingProps,i);case 15:return ey(n,a,a.type,a.pendingProps,i);case 19:return oy(n,a,i);case 22:return ty(n,a,i);case 24:return Wr(a),o=Yt(It),n===null?(d=Bd(),d===null&&(d=et,g=Ud(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=i),d=g),a.memoizedState={parent:o,cache:d},xf(a),Pa(a,It,d)):((n.lanes&i)!==0&&(Ef(n,a),So(a,null,null,i),Ao()),d=n.memoizedState,g=a.memoizedState,d.parent!==o?(d={parent:o,cache:o},a.memoizedState=d,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=d),Pa(a,It,o)):(o=g.cache,Pa(a,It,o),o!==d.cache&&vf(a,[It],i,!0))),Kt(n,a,a.pendingProps.children,i),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}var _f=qe(null),Qr=null,Fs=null;function Pa(n,a,i){Ye(_f,a._currentValue),a._currentValue=i}function Gs(n){n._currentValue=_f.current,ht(_f)}function yf(n,a,i){for(;n!==null;){var o=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,o!==null&&(o.childLanes|=a)):o!==null&&(o.childLanes&a)!==a&&(o.childLanes|=a),n===i)break;n=n.return}}function vf(n,a,i,o){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var g=d.dependencies;if(g!==null){var x=d.child;g=g.firstContext;e:for(;g!==null;){var b=g;g=d;for(var D=0;D<a.length;D++)if(b.context===a[D]){g.lanes|=i,b=g.alternate,b!==null&&(b.lanes|=i),yf(g.return,i,n),o||(x=null);break e}g=b.next}}else if(d.tag===18){if(x=d.return,x===null)throw Error(r(341));x.lanes|=i,g=x.alternate,g!==null&&(g.lanes|=i),yf(x,i,n),x=null}else x=d.child;if(x!==null)x.return=d;else for(x=d;x!==null;){if(x===n){x=null;break}if(d=x.sibling,d!==null){d.return=x.return,x=d;break}x=x.return}d=x}}function To(n,a,i,o){n=null;for(var d=a,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var x=d.alternate;if(x===null)throw Error(r(387));if(x=x.memoizedProps,x!==null){var b=d.type;vn(d.pendingProps.value,x.value)||(n!==null?n.push(b):n=[b])}}else if(d===ga.current){if(x=d.alternate,x===null)throw Error(r(387));x.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(Ho):n=[Ho])}d=d.return}n!==null&&vf(a,n,i,o),a.flags|=262144}function Sc(n){for(n=n.firstContext;n!==null;){if(!vn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Wr(n){Qr=n,Fs=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Yt(n){return cy(Qr,n)}function wc(n,a){return Qr===null&&Wr(n),cy(n,a)}function cy(n,a){var i=a._currentValue;if(a={context:a,memoizedValue:i,next:null},Fs===null){if(n===null)throw Error(r(308));Fs=a,n.dependencies={lanes:0,firstContext:a},n.flags|=524288}else Fs=Fs.next=a;return i}var Va=!1;function xf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ef(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ua(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ha(n,a,i){var o=n.updateQueue;if(o===null)return null;if(o=o.shared,(ot&2)!==0){var d=o.pending;return d===null?a.next=a:(a.next=d.next,d.next=a),o.pending=a,a=ic(n),Fp(n,null,i),a}return rc(n,o,a,i),ic(n)}function bo(n,a,i){if(a=a.updateQueue,a!==null&&(a=a.shared,(i&4194176)!==0)){var o=a.lanes;o&=n.pendingLanes,i|=o,a.lanes=i,Ta(n,i)}}function Tf(n,a){var i=n.updateQueue,o=n.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var d=null,g=null;if(i=i.firstBaseUpdate,i!==null){do{var x={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};g===null?d=g=x:g=g.next=x,i=i.next}while(i!==null);g===null?d=g=a:g=g.next=a}else d=g=a;i={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:o.shared,callbacks:o.callbacks},n.updateQueue=i;return}n=i.lastBaseUpdate,n===null?i.firstBaseUpdate=a:n.next=a,i.lastBaseUpdate=a}var bf=!1;function Ao(){if(bf){var n=Gi;if(n!==null)throw n}}function So(n,a,i,o){bf=!1;var d=n.updateQueue;Va=!1;var g=d.firstBaseUpdate,x=d.lastBaseUpdate,b=d.shared.pending;if(b!==null){d.shared.pending=null;var D=b,z=D.next;D.next=null,x===null?g=z:x.next=z,x=D;var ee=n.alternate;ee!==null&&(ee=ee.updateQueue,b=ee.lastBaseUpdate,b!==x&&(b===null?ee.firstBaseUpdate=z:b.next=z,ee.lastBaseUpdate=D))}if(g!==null){var re=d.baseState;x=0,ee=z=D=null,b=g;do{var W=b.lane&-536870913,X=W!==b.lane;if(X?(Be&W)===W:(o&W)===W){W!==0&&W===Fi&&(bf=!0),ee!==null&&(ee=ee.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var _e=n,we=b;W=a;var gt=i;switch(we.tag){case 1:if(_e=we.payload,typeof _e=="function"){re=_e.call(gt,re,W);break e}re=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=we.payload,W=typeof _e=="function"?_e.call(gt,re,W):_e,W==null)break e;re=I({},re,W);break e;case 2:Va=!0}}W=b.callback,W!==null&&(n.flags|=64,X&&(n.flags|=8192),X=d.callbacks,X===null?d.callbacks=[W]:X.push(W))}else X={lane:W,tag:b.tag,payload:b.payload,callback:b.callback,next:null},ee===null?(z=ee=X,D=re):ee=ee.next=X,x|=W;if(b=b.next,b===null){if(b=d.shared.pending,b===null)break;X=b,b=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);ee===null&&(D=re),d.baseState=D,d.firstBaseUpdate=z,d.lastBaseUpdate=ee,g===null&&(d.shared.lanes=0),Fa|=x,n.lanes=x,n.memoizedState=re}}function hy(n,a){if(typeof n!="function")throw Error(r(191,n));n.call(a)}function dy(n,a){var i=n.callbacks;if(i!==null)for(n.callbacks=null,n=0;n<i.length;n++)hy(i[n],a)}function wo(n,a){try{var i=a.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var d=o.next;i=d;do{if((i.tag&n)===n){o=void 0;var g=i.create,x=i.inst;o=g(),x.destroy=o}i=i.next}while(i!==d)}}catch(b){Je(a,a.return,b)}}function Ba(n,a,i){try{var o=a.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var g=d.next;o=g;do{if((o.tag&n)===n){var x=o.inst,b=x.destroy;if(b!==void 0){x.destroy=void 0,d=a;var D=i;try{b()}catch(z){Je(d,D,z)}}}o=o.next}while(o!==g)}}catch(z){Je(a,a.return,z)}}function fy(n){var a=n.updateQueue;if(a!==null){var i=n.stateNode;try{dy(a,i)}catch(o){Je(n,n.return,o)}}}function my(n,a,i){i.props=$r(n.type,n.memoizedProps),i.state=n.memoizedState;try{i.componentWillUnmount()}catch(o){Je(n,a,o)}}function Yr(n,a){try{var i=n.ref;if(i!==null){var o=n.stateNode;switch(n.tag){case 26:case 27:case 5:var d=o;break;default:d=o}typeof i=="function"?n.refCleanup=i(d):i.current=d}}catch(g){Je(n,a,g)}}function xn(n,a){var i=n.ref,o=n.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(d){Je(n,a,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(d){Je(n,a,d)}else i.current=null}function gy(n){var a=n.type,i=n.memoizedProps,o=n.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break e;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(d){Je(n,n.return,d)}}function py(n,a,i){try{var o=n.stateNode;PA(o,n.type,i,a),o[Rt]=a}catch(d){Je(n,n.return,d)}}function _y(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function Af(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||_y(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Sf(n,a,i){var o=n.tag;if(o===5||o===6)n=n.stateNode,a?i.nodeType===8?i.parentNode.insertBefore(n,a):i.insertBefore(n,a):(i.nodeType===8?(a=i.parentNode,a.insertBefore(n,i)):(a=i,a.appendChild(n)),i=i._reactRootContainer,i!=null||a.onclick!==null||(a.onclick=Hc));else if(o!==4&&o!==27&&(n=n.child,n!==null))for(Sf(n,a,i),n=n.sibling;n!==null;)Sf(n,a,i),n=n.sibling}function Rc(n,a,i){var o=n.tag;if(o===5||o===6)n=n.stateNode,a?i.insertBefore(n,a):i.appendChild(n);else if(o!==4&&o!==27&&(n=n.child,n!==null))for(Rc(n,a,i),n=n.sibling;n!==null;)Rc(n,a,i),n=n.sibling}var $s=!1,ft=!1,wf=!1,yy=typeof WeakSet=="function"?WeakSet:Set,Ut=null,vy=!1;function fA(n,a){if(n=n.containerInfo,em=$c,n=Lp(n),Rd(n)){if("selectionStart"in n)var i={start:n.selectionStart,end:n.selectionEnd};else e:{i=(i=n.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var d=o.anchorOffset,g=o.focusNode;o=o.focusOffset;try{i.nodeType,g.nodeType}catch{i=null;break e}var x=0,b=-1,D=-1,z=0,ee=0,re=n,W=null;t:for(;;){for(var X;re!==i||d!==0&&re.nodeType!==3||(b=x+d),re!==g||o!==0&&re.nodeType!==3||(D=x+o),re.nodeType===3&&(x+=re.nodeValue.length),(X=re.firstChild)!==null;)W=re,re=X;for(;;){if(re===n)break t;if(W===i&&++z===d&&(b=x),W===g&&++ee===o&&(D=x),(X=re.nextSibling)!==null)break;re=W,W=re.parentNode}re=X}i=b===-1||D===-1?null:{start:b,end:D}}else i=null}i=i||{start:0,end:0}}else i=null;for(tm={focusedElem:n,selectionRange:i},$c=!1,Ut=a;Ut!==null;)if(a=Ut,n=a.child,(a.subtreeFlags&1028)!==0&&n!==null)n.return=a,Ut=n;else for(;Ut!==null;){switch(a=Ut,g=a.alternate,n=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,i=a,d=g.memoizedProps,g=g.memoizedState,o=i.stateNode;try{var _e=$r(i.type,d,i.elementType===i.type);n=o.getSnapshotBeforeUpdate(_e,g),o.__reactInternalSnapshotBeforeUpdate=n}catch(we){Je(i,i.return,we)}}break;case 3:if((n&1024)!==0){if(n=a.stateNode.containerInfo,i=n.nodeType,i===9)rm(n);else if(i===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":rm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=a.sibling,n!==null){n.return=a.return,Ut=n;break}Ut=a.return}return _e=vy,vy=!1,_e}function xy(n,a,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:Ws(n,i),o&4&&wo(5,i);break;case 1:if(Ws(n,i),o&4)if(n=i.stateNode,a===null)try{n.componentDidMount()}catch(b){Je(i,i.return,b)}else{var d=$r(i.type,a.memoizedProps);a=a.memoizedState;try{n.componentDidUpdate(d,a,n.__reactInternalSnapshotBeforeUpdate)}catch(b){Je(i,i.return,b)}}o&64&&fy(i),o&512&&Yr(i,i.return);break;case 3:if(Ws(n,i),o&64&&(o=i.updateQueue,o!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{dy(o,n)}catch(b){Je(i,i.return,b)}}break;case 26:Ws(n,i),o&512&&Yr(i,i.return);break;case 27:case 5:Ws(n,i),a===null&&o&4&&gy(i),o&512&&Yr(i,i.return);break;case 12:Ws(n,i);break;case 13:Ws(n,i),o&4&&by(n,i);break;case 22:if(d=i.memoizedState!==null||$s,!d){a=a!==null&&a.memoizedState!==null||ft;var g=$s,x=ft;$s=d,(ft=a)&&!x?za(n,i,(i.subtreeFlags&8772)!==0):Ws(n,i),$s=g,ft=x}o&512&&(i.memoizedProps.mode==="manual"?Yr(i,i.return):xn(i,i.return));break;default:Ws(n,i)}}function Ey(n){var a=n.alternate;a!==null&&(n.alternate=null,Ey(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&wr(a)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Tt=null,En=!1;function Qs(n,a,i){for(i=i.child;i!==null;)Ty(n,a,i),i=i.sibling}function Ty(n,a,i){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(_a,i)}catch{}switch(i.tag){case 26:ft||xn(i,a),Qs(n,a,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:ft||xn(i,a);var o=Tt,d=En;for(Tt=i.stateNode,Qs(n,a,i),i=i.stateNode,a=i.attributes;a.length;)i.removeAttributeNode(a[0]);wr(i),Tt=o,En=d;break;case 5:ft||xn(i,a);case 6:d=Tt;var g=En;if(Tt=null,Qs(n,a,i),Tt=d,En=g,Tt!==null)if(En)try{n=Tt,o=i.stateNode,n.nodeType===8?n.parentNode.removeChild(o):n.removeChild(o)}catch(x){Je(i,a,x)}else try{Tt.removeChild(i.stateNode)}catch(x){Je(i,a,x)}break;case 18:Tt!==null&&(En?(a=Tt,i=i.stateNode,a.nodeType===8?am(a.parentNode,i):a.nodeType===1&&am(a,i),Ko(a)):am(Tt,i.stateNode));break;case 4:o=Tt,d=En,Tt=i.stateNode.containerInfo,En=!0,Qs(n,a,i),Tt=o,En=d;break;case 0:case 11:case 14:case 15:ft||Ba(2,i,a),ft||Ba(4,i,a),Qs(n,a,i);break;case 1:ft||(xn(i,a),o=i.stateNode,typeof o.componentWillUnmount=="function"&&my(i,a,o)),Qs(n,a,i);break;case 21:Qs(n,a,i);break;case 22:ft||xn(i,a),ft=(o=ft)||i.memoizedState!==null,Qs(n,a,i),ft=o;break;default:Qs(n,a,i)}}function by(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ko(n)}catch(i){Je(a,a.return,i)}}function mA(n){switch(n.tag){case 13:case 19:var a=n.stateNode;return a===null&&(a=n.stateNode=new yy),a;case 22:return n=n.stateNode,a=n._retryCache,a===null&&(a=n._retryCache=new yy),a;default:throw Error(r(435,n.tag))}}function Rf(n,a){var i=mA(n);a.forEach(function(o){var d=RA.bind(null,n,o);i.has(o)||(i.add(o),o.then(d,d))})}function Un(n,a){var i=a.deletions;if(i!==null)for(var o=0;o<i.length;o++){var d=i[o],g=n,x=a,b=x;e:for(;b!==null;){switch(b.tag){case 27:case 5:Tt=b.stateNode,En=!1;break e;case 3:Tt=b.stateNode.containerInfo,En=!0;break e;case 4:Tt=b.stateNode.containerInfo,En=!0;break e}b=b.return}if(Tt===null)throw Error(r(160));Ty(g,x,d),Tt=null,En=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Ay(a,n),a=a.sibling}var Wn=null;function Ay(n,a){var i=n.alternate,o=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Un(a,n),Hn(n),o&4&&(Ba(3,n,n.return),wo(3,n),Ba(5,n,n.return));break;case 1:Un(a,n),Hn(n),o&512&&(ft||i===null||xn(i,i.return)),o&64&&$s&&(n=n.updateQueue,n!==null&&(o=n.callbacks,o!==null&&(i=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var d=Wn;if(Un(a,n),Hn(n),o&512&&(ft||i===null||xn(i,i.return)),o&4){var g=i!==null?i.memoizedState:null;if(o=n.memoizedState,i===null)if(o===null)if(n.stateNode===null){e:{o=n.type,i=n.memoizedProps,d=d.ownerDocument||d;t:switch(o){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Aa]||g[Mt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(o),d.head.insertBefore(g,d.querySelector("head > title"))),Ft(g,o,i),g[Mt]=n,it(g),o=g;break e;case"link":var x=gv("link","href",d).get(o+(i.href||""));if(x){for(var b=0;b<x.length;b++)if(g=x[b],g.getAttribute("href")===(i.href==null?null:i.href)&&g.getAttribute("rel")===(i.rel==null?null:i.rel)&&g.getAttribute("title")===(i.title==null?null:i.title)&&g.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){x.splice(b,1);break t}}g=d.createElement(o),Ft(g,o,i),d.head.appendChild(g);break;case"meta":if(x=gv("meta","content",d).get(o+(i.content||""))){for(b=0;b<x.length;b++)if(g=x[b],g.getAttribute("content")===(i.content==null?null:""+i.content)&&g.getAttribute("name")===(i.name==null?null:i.name)&&g.getAttribute("property")===(i.property==null?null:i.property)&&g.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&g.getAttribute("charset")===(i.charSet==null?null:i.charSet)){x.splice(b,1);break t}}g=d.createElement(o),Ft(g,o,i),d.head.appendChild(g);break;default:throw Error(r(468,o))}g[Mt]=n,it(g),o=g}n.stateNode=o}else pv(d,n.type,n.stateNode);else n.stateNode=mv(d,o,n.memoizedProps);else g!==o?(g===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):g.count--,o===null?pv(d,n.type,n.stateNode):mv(d,o,n.memoizedProps)):o===null&&n.stateNode!==null&&py(n,n.memoizedProps,i.memoizedProps)}break;case 27:if(o&4&&n.alternate===null){d=n.stateNode,g=n.memoizedProps;try{for(var D=d.firstChild;D;){var z=D.nextSibling,ee=D.nodeName;D[Aa]||ee==="HEAD"||ee==="BODY"||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&D.rel.toLowerCase()==="stylesheet"||d.removeChild(D),D=z}for(var re=n.type,W=d.attributes;W.length;)d.removeAttributeNode(W[0]);Ft(d,re,g),d[Mt]=n,d[Rt]=g}catch(_e){Je(n,n.return,_e)}}case 5:if(Un(a,n),Hn(n),o&512&&(ft||i===null||xn(i,i.return)),n.flags&32){d=n.stateNode;try{Cn(d,"")}catch(_e){Je(n,n.return,_e)}}o&4&&n.stateNode!=null&&(d=n.memoizedProps,py(n,d,i!==null?i.memoizedProps:d)),o&1024&&(wf=!0);break;case 6:if(Un(a,n),Hn(n),o&4){if(n.stateNode===null)throw Error(r(162));o=n.memoizedProps,i=n.stateNode;try{i.nodeValue=o}catch(_e){Je(n,n.return,_e)}}break;case 3:if(Kc=null,d=Wn,Wn=zc(a.containerInfo),Un(a,n),Wn=d,Hn(n),o&4&&i!==null&&i.memoizedState.isDehydrated)try{Ko(a.containerInfo)}catch(_e){Je(n,n.return,_e)}wf&&(wf=!1,Sy(n));break;case 4:o=Wn,Wn=zc(n.stateNode.containerInfo),Un(a,n),Hn(n),Wn=o;break;case 12:Un(a,n),Hn(n);break;case 13:Un(a,n),Hn(n),n.child.flags&8192&&n.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Lf=hn()),o&4&&(o=n.updateQueue,o!==null&&(n.updateQueue=null,Rf(n,o)));break;case 22:if(o&512&&(ft||i===null||xn(i,i.return)),D=n.memoizedState!==null,z=i!==null&&i.memoizedState!==null,ee=$s,re=ft,$s=ee||D,ft=re||z,Un(a,n),ft=re,$s=ee,Hn(n),a=n.stateNode,a._current=n,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,o&8192&&(a._visibility=D?a._visibility&-2:a._visibility|1,D&&(a=$s||ft,i===null||z||a||Yi(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(i=null,a=n;;){if(a.tag===5||a.tag===26||a.tag===27){if(i===null){z=i=a;try{if(d=z.stateNode,D)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{x=z.stateNode,b=z.memoizedProps.style;var X=b!=null&&b.hasOwnProperty("display")?b.display:null;x.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(_e){Je(z,z.return,_e)}}}else if(a.tag===6){if(i===null){z=a;try{z.stateNode.nodeValue=D?"":z.memoizedProps}catch(_e){Je(z,z.return,_e)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===n)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break e;for(;a.sibling===null;){if(a.return===null||a.return===n)break e;i===a&&(i=null),a=a.return}i===a&&(i=null),a.sibling.return=a.return,a=a.sibling}o&4&&(o=n.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,Rf(n,i))));break;case 19:Un(a,n),Hn(n),o&4&&(o=n.updateQueue,o!==null&&(n.updateQueue=null,Rf(n,o)));break;case 21:break;default:Un(a,n),Hn(n)}}function Hn(n){var a=n.flags;if(a&2){try{if(n.tag!==27){e:{for(var i=n.return;i!==null;){if(_y(i)){var o=i;break e}i=i.return}throw Error(r(160))}switch(o.tag){case 27:var d=o.stateNode,g=Af(n);Rc(n,g,d);break;case 5:var x=o.stateNode;o.flags&32&&(Cn(x,""),o.flags&=-33);var b=Af(n);Rc(n,b,x);break;case 3:case 4:var D=o.stateNode.containerInfo,z=Af(n);Sf(n,z,D);break;default:throw Error(r(161))}}}catch(ee){Je(n,n.return,ee)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function Sy(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var a=n;Sy(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),n=n.sibling}}function Ws(n,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)xy(n,a.alternate,a),a=a.sibling}function Yi(n){for(n=n.child;n!==null;){var a=n;switch(a.tag){case 0:case 11:case 14:case 15:Ba(4,a,a.return),Yi(a);break;case 1:xn(a,a.return);var i=a.stateNode;typeof i.componentWillUnmount=="function"&&my(a,a.return,i),Yi(a);break;case 26:case 27:case 5:xn(a,a.return),Yi(a);break;case 22:xn(a,a.return),a.memoizedState===null&&Yi(a);break;default:Yi(a)}n=n.sibling}}function za(n,a,i){for(i=i&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var o=a.alternate,d=n,g=a,x=g.flags;switch(g.tag){case 0:case 11:case 15:za(d,g,i),wo(4,g);break;case 1:if(za(d,g,i),o=g,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(z){Je(o,o.return,z)}if(o=g,d=o.updateQueue,d!==null){var b=o.stateNode;try{var D=d.shared.hiddenCallbacks;if(D!==null)for(d.shared.hiddenCallbacks=null,d=0;d<D.length;d++)hy(D[d],b)}catch(z){Je(o,o.return,z)}}i&&x&64&&fy(g),Yr(g,g.return);break;case 26:case 27:case 5:za(d,g,i),i&&o===null&&x&4&&gy(g),Yr(g,g.return);break;case 12:za(d,g,i);break;case 13:za(d,g,i),i&&x&4&&by(d,g);break;case 22:g.memoizedState===null&&za(d,g,i),Yr(g,g.return);break;default:za(d,g,i)}a=a.sibling}}function Nf(n,a){var i=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==i&&(n!=null&&n.refCount++,i!=null&&po(i))}function kf(n,a){n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&po(n))}function qa(n,a,i,o){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)wy(n,a,i,o),a=a.sibling}function wy(n,a,i,o){var d=a.flags;switch(a.tag){case 0:case 11:case 15:qa(n,a,i,o),d&2048&&wo(9,a);break;case 3:qa(n,a,i,o),d&2048&&(n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&po(n)));break;case 12:if(d&2048){qa(n,a,i,o),n=a.stateNode;try{var g=a.memoizedProps,x=g.id,b=g.onPostCommit;typeof b=="function"&&b(x,a.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){Je(a,a.return,D)}}else qa(n,a,i,o);break;case 23:break;case 22:g=a.stateNode,a.memoizedState!==null?g._visibility&4?qa(n,a,i,o):Ro(n,a):g._visibility&4?qa(n,a,i,o):(g._visibility|=4,Xi(n,a,i,o,(a.subtreeFlags&10256)!==0)),d&2048&&Nf(a.alternate,a);break;case 24:qa(n,a,i,o),d&2048&&kf(a.alternate,a);break;default:qa(n,a,i,o)}}function Xi(n,a,i,o,d){for(d=d&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var g=n,x=a,b=i,D=o,z=x.flags;switch(x.tag){case 0:case 11:case 15:Xi(g,x,b,D,d),wo(8,x);break;case 23:break;case 22:var ee=x.stateNode;x.memoizedState!==null?ee._visibility&4?Xi(g,x,b,D,d):Ro(g,x):(ee._visibility|=4,Xi(g,x,b,D,d)),d&&z&2048&&Nf(x.alternate,x);break;case 24:Xi(g,x,b,D,d),d&&z&2048&&kf(x.alternate,x);break;default:Xi(g,x,b,D,d)}a=a.sibling}}function Ro(n,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var i=n,o=a,d=o.flags;switch(o.tag){case 22:Ro(i,o),d&2048&&Nf(o.alternate,o);break;case 24:Ro(i,o),d&2048&&kf(o.alternate,o);break;default:Ro(i,o)}a=a.sibling}}var No=8192;function Zi(n){if(n.subtreeFlags&No)for(n=n.child;n!==null;)Ry(n),n=n.sibling}function Ry(n){switch(n.tag){case 26:Zi(n),n.flags&No&&n.memoizedState!==null&&nS(Wn,n.memoizedState,n.memoizedProps);break;case 5:Zi(n);break;case 3:case 4:var a=Wn;Wn=zc(n.stateNode.containerInfo),Zi(n),Wn=a;break;case 22:n.memoizedState===null&&(a=n.alternate,a!==null&&a.memoizedState!==null?(a=No,No=16777216,Zi(n),No=a):Zi(n));break;default:Zi(n)}}function Ny(n){var a=n.alternate;if(a!==null&&(n=a.child,n!==null)){a.child=null;do a=n.sibling,n.sibling=null,n=a;while(n!==null)}}function ko(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var i=0;i<a.length;i++){var o=a[i];Ut=o,Cy(o,n)}Ny(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ky(n),n=n.sibling}function ky(n){switch(n.tag){case 0:case 11:case 15:ko(n),n.flags&2048&&Ba(9,n,n.return);break;case 3:ko(n);break;case 12:ko(n);break;case 22:var a=n.stateNode;n.memoizedState!==null&&a._visibility&4&&(n.return===null||n.return.tag!==13)?(a._visibility&=-5,Nc(n)):ko(n);break;default:ko(n)}}function Nc(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var i=0;i<a.length;i++){var o=a[i];Ut=o,Cy(o,n)}Ny(n)}for(n=n.child;n!==null;){switch(a=n,a.tag){case 0:case 11:case 15:Ba(8,a,a.return),Nc(a);break;case 22:i=a.stateNode,i._visibility&4&&(i._visibility&=-5,Nc(a));break;default:Nc(a)}n=n.sibling}}function Cy(n,a){for(;Ut!==null;){var i=Ut;switch(i.tag){case 0:case 11:case 15:Ba(8,i,a);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:po(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,Ut=o;else e:for(i=n;Ut!==null;){o=Ut;var d=o.sibling,g=o.return;if(Ey(o),o===i){Ut=null;break e}if(d!==null){d.return=g,Ut=d;break e}Ut=g}}}function gA(n,a,i,o){this.tag=n,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(n,a,i,o){return new gA(n,a,i,o)}function Cf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ka(n,a){var i=n.alternate;return i===null?(i=Bn(n.tag,a,n.key,n.mode),i.elementType=n.elementType,i.type=n.type,i.stateNode=n.stateNode,i.alternate=n,n.alternate=i):(i.pendingProps=a,i.type=n.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=n.flags&31457280,i.childLanes=n.childLanes,i.lanes=n.lanes,i.child=n.child,i.memoizedProps=n.memoizedProps,i.memoizedState=n.memoizedState,i.updateQueue=n.updateQueue,a=n.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},i.sibling=n.sibling,i.index=n.index,i.ref=n.ref,i.refCleanup=n.refCleanup,i}function Iy(n,a){n.flags&=31457282;var i=n.alternate;return i===null?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=i.childLanes,n.lanes=i.lanes,n.child=i.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=i.memoizedProps,n.memoizedState=i.memoizedState,n.updateQueue=i.updateQueue,n.type=i.type,a=i.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),n}function kc(n,a,i,o,d,g){var x=0;if(o=n,typeof n=="function")Cf(n)&&(x=1);else if(typeof n=="string")x=eS(n,i,nn.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case p:return Xr(i.children,d,g,a);case _:x=8,d|=24;break;case E:return n=Bn(12,i,a,d|2),n.elementType=E,n.lanes=g,n;case q:return n=Bn(13,i,a,d),n.elementType=q,n.lanes=g,n;case V:return n=Bn(19,i,a,d),n.elementType=V,n.lanes=g,n;case G:return jy(i,d,g,a);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case T:case k:x=10;break e;case A:x=9;break e;case j:x=11;break e;case $:x=14;break e;case H:x=16,o=null;break e}x=29,i=Error(r(130,n===null?"null":typeof n,"")),o=null}return a=Bn(x,i,a,d),a.elementType=n,a.type=o,a.lanes=g,a}function Xr(n,a,i,o){return n=Bn(7,n,o,a),n.lanes=i,n}function jy(n,a,i,o){n=Bn(22,n,o,a),n.elementType=G,n.lanes=i;var d={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=d._current;if(g===null)throw Error(r(456));if((d._pendingVisibility&2)===0){var x=ja(g,2);x!==null&&(d._pendingVisibility|=2,on(x,g,2))}},attach:function(){var g=d._current;if(g===null)throw Error(r(456));if((d._pendingVisibility&2)!==0){var x=ja(g,2);x!==null&&(d._pendingVisibility&=-3,on(x,g,2))}}};return n.stateNode=d,n}function If(n,a,i){return n=Bn(6,n,null,a),n.lanes=i,n}function jf(n,a,i){return a=Bn(4,n.children!==null?n.children:[],n.key,a),a.lanes=i,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}function Ys(n){n.flags|=4}function Dy(n,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!_v(a)){if(a=Vn.current,a!==null&&((Be&4194176)===Be?ps!==null:(Be&62914560)!==Be&&(Be&536870912)===0||a!==ps))throw fo=Ld,Yp;n.flags|=8192}}function Cc(n,a){a!==null&&(n.flags|=4),n.flags&16384&&(a=n.tag!==22?xa():536870912,n.lanes|=a,el|=a)}function Co(n,a){if(!Fe)switch(n.tailMode){case"hidden":a=n.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?n.tail=null:i.sibling=null;break;case"collapsed":i=n.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:o.sibling=null}}function lt(n){var a=n.alternate!==null&&n.alternate.child===n.child,i=0,o=0;if(a)for(var d=n.child;d!==null;)i|=d.lanes|d.childLanes,o|=d.subtreeFlags&31457280,o|=d.flags&31457280,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)i|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=o,n.childLanes=i,a}function pA(n,a,i){var o=a.pendingProps;switch(Od(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(a),null;case 1:return lt(a),null;case 3:return i=a.stateNode,o=null,n!==null&&(o=n.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),Gs(It),ks(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(oo(a)?Ys(a):n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Qn!==null&&(Hf(Qn),Qn=null))),lt(a),null;case 26:return i=a.memoizedState,n===null?(Ys(a),i!==null?(lt(a),Dy(a,i)):(lt(a),a.flags&=-16777217)):i?i!==n.memoizedState?(Ys(a),lt(a),Dy(a,i)):(lt(a),a.flags&=-16777217):(n.memoizedProps!==o&&Ys(a),lt(a),a.flags&=-16777217),null;case 27:vi(a),i=Rn.current;var d=a.type;if(n!==null&&a.stateNode!=null)n.memoizedProps!==o&&Ys(a);else{if(!o){if(a.stateNode===null)throw Error(r(166));return lt(a),null}n=nn.current,oo(a)?Qp(a):(n=uv(d,o,i),a.stateNode=n,Ys(a))}return lt(a),null;case 5:if(vi(a),i=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==o&&Ys(a);else{if(!o){if(a.stateNode===null)throw Error(r(166));return lt(a),null}if(n=nn.current,oo(a))Qp(a);else{switch(d=Bc(Rn.current),n){case 1:n=d.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:n=d.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":n=d.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":n=d.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":n=d.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof o.is=="string"?d.createElement("select",{is:o.is}):d.createElement("select"),o.multiple?n.multiple=!0:o.size&&(n.size=o.size);break;default:n=typeof o.is=="string"?d.createElement(i,{is:o.is}):d.createElement(i)}}n[Mt]=a,n[Rt]=o;e:for(d=a.child;d!==null;){if(d.tag===5||d.tag===6)n.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break e;for(;d.sibling===null;){if(d.return===null||d.return===a)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}a.stateNode=n;e:switch(Ft(n,i,o),i){case"button":case"input":case"select":case"textarea":n=!!o.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Ys(a)}}return lt(a),a.flags&=-16777217,null;case 6:if(n&&a.stateNode!=null)n.memoizedProps!==o&&Ys(a);else{if(typeof o!="string"&&a.stateNode===null)throw Error(r(166));if(n=Rn.current,oo(a)){if(n=a.stateNode,i=a.memoizedProps,o=null,d=ln,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}n[Mt]=a,n=!!(n.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||sv(n.nodeValue,i)),n||Br(a)}else n=Bc(n).createTextNode(o),n[Mt]=a,a.stateNode=n}return lt(a),null;case 13:if(o=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=oo(a),o!==null&&o.dehydrated!==null){if(n===null){if(!d)throw Error(r(318));if(d=a.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Mt]=a}else uo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;lt(a),d=!1}else Qn!==null&&(Hf(Qn),Qn=null),d=!0;if(!d)return a.flags&256?(zs(a),a):(zs(a),null)}if(zs(a),(a.flags&128)!==0)return a.lanes=i,a;if(i=o!==null,n=n!==null&&n.memoizedState!==null,i){o=a.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool);var g=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),g!==d&&(o.flags|=2048)}return i!==n&&i&&(a.child.flags|=8192),Cc(a,a.updateQueue),lt(a),null;case 4:return ks(),n===null&&Xf(a.stateNode.containerInfo),lt(a),null;case 10:return Gs(a.type),lt(a),null;case 19:if(ht(Ct),d=a.memoizedState,d===null)return lt(a),null;if(o=(a.flags&128)!==0,g=d.rendering,g===null)if(o)Co(d,!1);else{if(mt!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(g=fc(n),g!==null){for(a.flags|=128,Co(d,!1),n=g.updateQueue,a.updateQueue=n,Cc(a,n),a.subtreeFlags=0,n=i,i=a.child;i!==null;)Iy(i,n),i=i.sibling;return Ye(Ct,Ct.current&1|2),a.child}n=n.sibling}d.tail!==null&&hn()>Ic&&(a.flags|=128,o=!0,Co(d,!1),a.lanes=4194304)}else{if(!o)if(n=fc(g),n!==null){if(a.flags|=128,o=!0,n=n.updateQueue,a.updateQueue=n,Cc(a,n),Co(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!Fe)return lt(a),null}else 2*hn()-d.renderingStartTime>Ic&&i!==536870912&&(a.flags|=128,o=!0,Co(d,!1),a.lanes=4194304);d.isBackwards?(g.sibling=a.child,a.child=g):(n=d.last,n!==null?n.sibling=g:a.child=g,d.last=g)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=hn(),a.sibling=null,n=Ct.current,Ye(Ct,o?n&1|2:n&1),a):(lt(a),null);case 22:case 23:return zs(a),Vd(),o=a.memoizedState!==null,n!==null?n.memoizedState!==null!==o&&(a.flags|=8192):o&&(a.flags|=8192),o?(i&536870912)!==0&&(a.flags&128)===0&&(lt(a),a.subtreeFlags&6&&(a.flags|=8192)):lt(a),i=a.updateQueue,i!==null&&Cc(a,i.retryQueue),i=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==i&&(a.flags|=2048),n!==null&&ht(qr),null;case 24:return i=null,n!==null&&(i=n.memoizedState.cache),a.memoizedState.cache!==i&&(a.flags|=2048),Gs(It),lt(a),null;case 25:return null}throw Error(r(156,a.tag))}function _A(n,a){switch(Od(a),a.tag){case 1:return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return Gs(It),ks(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 26:case 27:case 5:return vi(a),null;case 13:if(zs(a),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(r(340));uo()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return ht(Ct),null;case 4:return ks(),null;case 10:return Gs(a.type),null;case 22:case 23:return zs(a),Vd(),n!==null&&ht(qr),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 24:return Gs(It),null;case 25:return null;default:return null}}function Oy(n,a){switch(Od(a),a.tag){case 3:Gs(It),ks();break;case 26:case 27:case 5:vi(a);break;case 4:ks();break;case 13:zs(a);break;case 19:ht(Ct);break;case 10:Gs(a.type);break;case 22:case 23:zs(a),Vd(),n!==null&&ht(qr);break;case 24:Gs(It)}}var yA={getCacheForType:function(n){var a=Yt(It),i=a.data.get(n);return i===void 0&&(i=n(),a.data.set(n,i)),i}},vA=typeof WeakMap=="function"?WeakMap:Map,ot=0,et=null,Oe=null,Be=0,tt=0,Tn=null,Xs=!1,Ji=!1,Df=!1,Zs=0,mt=0,Fa=0,Zr=0,Of=0,zn=0,el=0,Io=null,ys=null,Mf=!1,Lf=0,Ic=1/0,jc=null,Ga=null,Dc=!1,Jr=null,jo=0,Pf=0,Vf=null,Do=0,Uf=null;function bn(){if((ot&2)!==0&&Be!==0)return Be&-Be;if(S.T!==null){var n=Fi;return n!==0?n:$f()}return Uu()}function My(){zn===0&&(zn=(Be&536870912)===0||Fe?Kl():536870912);var n=Vn.current;return n!==null&&(n.flags|=32),zn}function on(n,a,i){(n===et&&tt===2||n.cancelPendingCommit!==null)&&(tl(n,0),Js(n,Be,zn,!1)),pt(n,i),((ot&2)===0||n!==et)&&(n===et&&((ot&2)===0&&(Zr|=i),mt===4&&Js(n,Be,zn,!1)),vs(n))}function Ly(n,a,i){if((ot&6)!==0)throw Error(r(327));var o=!i&&(a&60)===0&&(a&n.expiredLanes)===0||va(n,a),d=o?TA(n,a):qf(n,a,!0),g=o;do{if(d===0){Ji&&!o&&Js(n,a,0,!1);break}else if(d===6)Js(n,a,0,!Xs);else{if(i=n.current.alternate,g&&!xA(i)){d=qf(n,a,!1),g=!1;continue}if(d===2){if(g=a,n.errorRecoveryDisabledLanes&g)var x=0;else x=n.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){a=x;e:{var b=n;d=Io;var D=b.current.memoizedState.isDehydrated;if(D&&(tl(b,x).flags|=256),x=qf(b,x,!1),x!==2){if(Df&&!D){b.errorRecoveryDisabledLanes|=g,Zr|=g,d=4;break e}g=ys,ys=d,g!==null&&Hf(g)}d=x}if(g=!1,d!==2)continue}}if(d===1){tl(n,0),Js(n,a,0,!0);break}e:{switch(o=n,d){case 0:case 1:throw Error(r(345));case 4:if((a&4194176)===a){Js(o,a,zn,!Xs);break e}break;case 2:ys=null;break;case 3:case 5:break;default:throw Error(r(329))}if(o.finishedWork=i,o.finishedLanes=a,(a&62914560)===a&&(g=Lf+300-hn(),10<g)){if(Js(o,a,zn,!Xs),Nn(o,0)!==0)break e;o.timeoutHandle=iv(Py.bind(null,o,i,ys,jc,Mf,a,zn,Zr,el,Xs,2,-0,0),g);break e}Py(o,i,ys,jc,Mf,a,zn,Zr,el,Xs,0,-0,0)}}break}while(!0);vs(n)}function Hf(n){ys===null?ys=n:ys.push.apply(ys,n)}function Py(n,a,i,o,d,g,x,b,D,z,ee,re,W){var X=a.subtreeFlags;if((X&8192||(X&16785408)===16785408)&&(Uo={stylesheets:null,count:0,unsuspend:tS},Ry(a),a=sS(),a!==null)){n.cancelPendingCommit=a(Ky.bind(null,n,i,o,d,x,b,D,1,re,W)),Js(n,g,x,!z);return}Ky(n,i,o,d,x,b,D,ee,re,W)}function xA(n){for(var a=n;;){var i=a.tag;if((i===0||i===11||i===15)&&a.flags&16384&&(i=a.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var d=i[o],g=d.getSnapshot;d=d.value;try{if(!vn(g(),d))return!1}catch{return!1}}if(i=a.child,a.subtreeFlags&16384&&i!==null)i.return=a,a=i;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Js(n,a,i,o){a&=~Of,a&=~Zr,n.suspendedLanes|=a,n.pingedLanes&=~a,o&&(n.warmLanes|=a),o=n.expirationTimes;for(var d=a;0<d;){var g=31-sn(d),x=1<<g;o[g]=-1,d&=~x}i!==0&&Ea(n,i,a)}function Oc(){return(ot&6)===0?(Oo(0),!1):!0}function Bf(){if(Oe!==null){if(tt===0)var n=Oe.return;else n=Oe,Fs=Qr=null,Gd(n),qi=null,mo=0,n=Oe;for(;n!==null;)Oy(n.alternate,n),n=n.return;Oe=null}}function tl(n,a){n.finishedWork=null,n.finishedLanes=0;var i=n.timeoutHandle;i!==-1&&(n.timeoutHandle=-1,UA(i)),i=n.cancelPendingCommit,i!==null&&(n.cancelPendingCommit=null,i()),Bf(),et=n,Oe=i=Ka(n.current,null),Be=a,tt=0,Tn=null,Xs=!1,Ji=va(n,a),Df=!1,el=zn=Of=Zr=Fa=mt=0,ys=Io=null,Mf=!1,(a&8)!==0&&(a|=a&32);var o=n.entangledLanes;if(o!==0)for(n=n.entanglements,o&=a;0<o;){var d=31-sn(o),g=1<<d;a|=n[d],o&=~g}return Zs=a,ac(),i}function Vy(n,a){je=null,S.H=_s,a===ho?(a=Jp(),tt=3):a===Yp?(a=Jp(),tt=4):tt=a===X_?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Tn=a,Oe===null&&(mt=1,Ac(n,Mn(a,n.current)))}function Uy(){var n=S.H;return S.H=_s,n===null?_s:n}function Hy(){var n=S.A;return S.A=yA,n}function zf(){mt=4,Xs||(Be&4194176)!==Be&&Vn.current!==null||(Ji=!0),(Fa&134217727)===0&&(Zr&134217727)===0||et===null||Js(et,Be,zn,!1)}function qf(n,a,i){var o=ot;ot|=2;var d=Uy(),g=Hy();(et!==n||Be!==a)&&(jc=null,tl(n,a)),a=!1;var x=mt;e:do try{if(tt!==0&&Oe!==null){var b=Oe,D=Tn;switch(tt){case 8:Bf(),x=6;break e;case 3:case 2:case 6:Vn.current===null&&(a=!0);var z=tt;if(tt=0,Tn=null,nl(n,b,D,z),i&&Ji){x=0;break e}break;default:z=tt,tt=0,Tn=null,nl(n,b,D,z)}}EA(),x=mt;break}catch(ee){Vy(n,ee)}while(!0);return a&&n.shellSuspendCounter++,Fs=Qr=null,ot=o,S.H=d,S.A=g,Oe===null&&(et=null,Be=0,ac()),x}function EA(){for(;Oe!==null;)By(Oe)}function TA(n,a){var i=ot;ot|=2;var o=Uy(),d=Hy();et!==n||Be!==a?(jc=null,Ic=hn()+500,tl(n,a)):Ji=va(n,a);e:do try{if(tt!==0&&Oe!==null){a=Oe;var g=Tn;t:switch(tt){case 1:tt=0,Tn=null,nl(n,a,g,1);break;case 2:if(Xp(g)){tt=0,Tn=null,zy(a);break}a=function(){tt===2&&et===n&&(tt=7),vs(n)},g.then(a,a);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:Xp(g)?(tt=0,Tn=null,zy(a)):(tt=0,Tn=null,nl(n,a,g,7));break;case 5:var x=null;switch(Oe.tag){case 26:x=Oe.memoizedState;case 5:case 27:var b=Oe;if(!x||_v(x)){tt=0,Tn=null;var D=b.sibling;if(D!==null)Oe=D;else{var z=b.return;z!==null?(Oe=z,Mc(z)):Oe=null}break t}}tt=0,Tn=null,nl(n,a,g,5);break;case 6:tt=0,Tn=null,nl(n,a,g,6);break;case 8:Bf(),mt=6;break e;default:throw Error(r(462))}}bA();break}catch(ee){Vy(n,ee)}while(!0);return Fs=Qr=null,S.H=o,S.A=d,ot=i,Oe!==null?0:(et=null,Be=0,ac(),mt)}function bA(){for(;Oe!==null&&!pd();)By(Oe)}function By(n){var a=uy(n.alternate,n,Zs);n.memoizedProps=n.pendingProps,a===null?Mc(n):Oe=a}function zy(n){var a=n,i=a.alternate;switch(a.tag){case 15:case 0:a=sy(i,a,a.pendingProps,a.type,void 0,Be);break;case 11:a=sy(i,a,a.pendingProps,a.type.render,a.ref,Be);break;case 5:Gd(a);default:Oy(i,a),a=Oe=Iy(a,Zs),a=uy(i,a,Zs)}n.memoizedProps=n.pendingProps,a===null?Mc(n):Oe=a}function nl(n,a,i,o){Fs=Qr=null,Gd(a),qi=null,mo=0;var d=a.return;try{if(hA(n,d,a,i,Be)){mt=1,Ac(n,Mn(i,n.current)),Oe=null;return}}catch(g){if(d!==null)throw Oe=d,g;mt=1,Ac(n,Mn(i,n.current)),Oe=null;return}a.flags&32768?(Fe||o===1?n=!0:Ji||(Be&536870912)!==0?n=!1:(Xs=n=!0,(o===2||o===3||o===6)&&(o=Vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),qy(a,n)):Mc(a)}function Mc(n){var a=n;do{if((a.flags&32768)!==0){qy(a,Xs);return}n=a.return;var i=pA(a.alternate,a,Zs);if(i!==null){Oe=i;return}if(a=a.sibling,a!==null){Oe=a;return}Oe=a=n}while(a!==null);mt===0&&(mt=5)}function qy(n,a){do{var i=_A(n.alternate,n);if(i!==null){i.flags&=32767,Oe=i;return}if(i=n.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!a&&(n=n.sibling,n!==null)){Oe=n;return}Oe=n=i}while(n!==null);mt=6,Oe=null}function Ky(n,a,i,o,d,g,x,b,D,z){var ee=S.T,re=ce.p;try{ce.p=2,S.T=null,AA(n,a,i,o,re,d,g,x,b,D,z)}finally{S.T=ee,ce.p=re}}function AA(n,a,i,o,d,g,x,b){do sl();while(Jr!==null);if((ot&6)!==0)throw Error(r(327));var D=n.finishedWork;if(o=n.finishedLanes,D===null)return null;if(n.finishedWork=null,n.finishedLanes=0,D===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var z=D.lanes|D.childLanes;if(z|=Id,Pu(n,o,z,g,x,b),n===et&&(Oe=et=null,Be=0),(D.subtreeFlags&10256)===0&&(D.flags&10256)===0||Dc||(Dc=!0,Pf=z,Vf=i,NA(Cs,function(){return sl(),null})),i=(D.flags&15990)!==0,(D.subtreeFlags&15990)!==0||i?(i=S.T,S.T=null,g=ce.p,ce.p=2,x=ot,ot|=4,fA(n,D),Ay(D,n),Qb(tm,n.containerInfo),$c=!!em,tm=em=null,n.current=D,xy(n,D.alternate,D),Hl(),ot=x,ce.p=g,S.T=i):n.current=D,Dc?(Dc=!1,Jr=n,jo=o):Fy(n,z),z=n.pendingLanes,z===0&&(Ga=null),zl(D.stateNode),vs(n),a!==null)for(d=n.onRecoverableError,D=0;D<a.length;D++)z=a[D],d(z.value,{componentStack:z.stack});return(jo&3)!==0&&sl(),z=n.pendingLanes,(o&4194218)!==0&&(z&42)!==0?n===Uf?Do++:(Do=0,Uf=n):Do=0,Oo(0),null}function Fy(n,a){(n.pooledCacheLanes&=a)===0&&(a=n.pooledCache,a!=null&&(n.pooledCache=null,po(a)))}function sl(){if(Jr!==null){var n=Jr,a=Pf;Pf=0;var i=Vu(jo),o=S.T,d=ce.p;try{if(ce.p=32>i?32:i,S.T=null,Jr===null)var g=!1;else{i=Vf,Vf=null;var x=Jr,b=jo;if(Jr=null,jo=0,(ot&6)!==0)throw Error(r(331));var D=ot;if(ot|=4,ky(x.current),wy(x,x.current,b,i),ot=D,Oo(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(_a,x)}catch{}g=!0}return g}finally{ce.p=d,S.T=o,Fy(n,a)}}return!1}function Gy(n,a,i){a=Mn(i,a),a=lf(n.stateNode,a,2),n=Ha(n,a,2),n!==null&&(pt(n,2),vs(n))}function Je(n,a,i){if(n.tag===3)Gy(n,n,i);else for(;a!==null;){if(a.tag===3){Gy(a,n,i);break}else if(a.tag===1){var o=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ga===null||!Ga.has(o))){n=Mn(i,n),i=W_(2),o=Ha(a,i,2),o!==null&&(Y_(i,o,a,n),pt(o,2),vs(o));break}}a=a.return}}function Kf(n,a,i){var o=n.pingCache;if(o===null){o=n.pingCache=new vA;var d=new Set;o.set(a,d)}else d=o.get(a),d===void 0&&(d=new Set,o.set(a,d));d.has(i)||(Df=!0,d.add(i),n=SA.bind(null,n,a,i),a.then(n,n))}function SA(n,a,i){var o=n.pingCache;o!==null&&o.delete(a),n.pingedLanes|=n.suspendedLanes&i,n.warmLanes&=~i,et===n&&(Be&i)===i&&(mt===4||mt===3&&(Be&62914560)===Be&&300>hn()-Lf?(ot&2)===0&&tl(n,0):Of|=i,el===Be&&(el=0)),vs(n)}function $y(n,a){a===0&&(a=xa()),n=ja(n,a),n!==null&&(pt(n,a),vs(n))}function wA(n){var a=n.memoizedState,i=0;a!==null&&(i=a.retryLane),$y(n,i)}function RA(n,a){var i=0;switch(n.tag){case 13:var o=n.stateNode,d=n.memoizedState;d!==null&&(i=d.retryLane);break;case 19:o=n.stateNode;break;case 22:o=n.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(a),$y(n,i)}function NA(n,a){return br(n,a)}var Lc=null,al=null,Ff=!1,Pc=!1,Gf=!1,ei=0;function vs(n){n!==al&&n.next===null&&(al===null?Lc=al=n:al=al.next=n),Pc=!0,Ff||(Ff=!0,CA(kA))}function Oo(n,a){if(!Gf&&Pc){Gf=!0;do for(var i=!1,o=Lc;o!==null;){if(n!==0){var d=o.pendingLanes;if(d===0)var g=0;else{var x=o.suspendedLanes,b=o.pingedLanes;g=(1<<31-sn(42|n)+1)-1,g&=d&~(x&~b),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(i=!0,Yy(o,g))}else g=Be,g=Nn(o,o===et?g:0),(g&3)===0||va(o,g)||(i=!0,Yy(o,g));o=o.next}while(i);Gf=!1}}function kA(){Pc=Ff=!1;var n=0;ei!==0&&(VA()&&(n=ei),ei=0);for(var a=hn(),i=null,o=Lc;o!==null;){var d=o.next,g=Qy(o,a);g===0?(o.next=null,i===null?Lc=d:i.next=d,d===null&&(al=i)):(i=o,(n!==0||(g&3)!==0)&&(Pc=!0)),o=d}Oo(n)}function Qy(n,a){for(var i=n.suspendedLanes,o=n.pingedLanes,d=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var x=31-sn(g),b=1<<x,D=d[x];D===-1?((b&i)===0||(b&o)!==0)&&(d[x]=Ti(b,a)):D<=a&&(n.expiredLanes|=b),g&=~b}if(a=et,i=Be,i=Nn(n,n===a?i:0),o=n.callbackNode,i===0||n===a&&tt===2||n.cancelPendingCommit!==null)return o!==null&&o!==null&&Ei(o),n.callbackNode=null,n.callbackPriority=0;if((i&3)===0||va(n,i)){if(a=i&-i,a===n.callbackPriority)return a;switch(o!==null&&Ei(o),Vu(i)){case 2:case 8:i=Ot;break;case 32:i=Cs;break;case 268435456:i=Bl;break;default:i=Cs}return o=Wy.bind(null,n),i=br(i,o),n.callbackPriority=a,n.callbackNode=i,a}return o!==null&&o!==null&&Ei(o),n.callbackPriority=2,n.callbackNode=null,2}function Wy(n,a){var i=n.callbackNode;if(sl()&&n.callbackNode!==i)return null;var o=Be;return o=Nn(n,n===et?o:0),o===0?null:(Ly(n,o,a),Qy(n,hn()),n.callbackNode!=null&&n.callbackNode===i?Wy.bind(null,n):null)}function Yy(n,a){if(sl())return null;Ly(n,a,!0)}function CA(n){HA(function(){(ot&6)!==0?br(wt,n):n()})}function $f(){return ei===0&&(ei=Kl()),ei}function Xy(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:os(""+n)}function Zy(n,a){var i=a.ownerDocument.createElement("input");return i.name=a.name,i.value=a.value,n.id&&i.setAttribute("form",n.id),a.parentNode.insertBefore(i,a),n=new FormData(n),i.parentNode.removeChild(i),n}function IA(n,a,i,o,d){if(a==="submit"&&i&&i.stateNode===d){var g=Xy((d[Rt]||null).action),x=o.submitter;x&&(a=(a=x[Rt]||null)?Xy(a.formAction):x.getAttribute("formAction"),a!==null&&(g=a,x=null));var b=new ki("action","action",null,o,d);n.push({event:b,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ei!==0){var D=x?Zy(d,x):new FormData(d);tf(i,{pending:!0,data:D,method:d.method,action:g},null,D)}}else typeof g=="function"&&(b.preventDefault(),D=x?Zy(d,x):new FormData(d),tf(i,{pending:!0,data:D,method:d.method,action:g},g,D))},currentTarget:d}]})}}for(var Qf=0;Qf<Kp.length;Qf++){var Wf=Kp[Qf],jA=Wf.toLowerCase(),DA=Wf[0].toUpperCase()+Wf.slice(1);$n(jA,"on"+DA)}$n(Up,"onAnimationEnd"),$n(Hp,"onAnimationIteration"),$n(Bp,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(Yb,"onTransitionRun"),$n(Xb,"onTransitionStart"),$n(Zb,"onTransitionCancel"),$n(zp,"onTransitionEnd"),dn("onMouseEnter",["mouseout","mouseover"]),dn("onMouseLeave",["mouseout","mouseover"]),dn("onPointerEnter",["pointerout","pointerover"]),dn("onPointerLeave",["pointerout","pointerover"]),_n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_n("onBeforeInput",["compositionend","keypress","textInput","paste"]),_n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mo));function Jy(n,a){a=(a&4)!==0;for(var i=0;i<n.length;i++){var o=n[i],d=o.event;o=o.listeners;e:{var g=void 0;if(a)for(var x=o.length-1;0<=x;x--){var b=o[x],D=b.instance,z=b.currentTarget;if(b=b.listener,D!==g&&d.isPropagationStopped())break e;g=b,d.currentTarget=z;try{g(d)}catch(ee){bc(ee)}d.currentTarget=null,g=D}else for(x=0;x<o.length;x++){if(b=o[x],D=b.instance,z=b.currentTarget,b=b.listener,D!==g&&d.isPropagationStopped())break e;g=b,d.currentTarget=z;try{g(d)}catch(ee){bc(ee)}d.currentTarget=null,g=D}}}}function Pe(n,a){var i=a[Sr];i===void 0&&(i=a[Sr]=new Set);var o=n+"__bubble";i.has(o)||(ev(a,n,2,!1),i.add(o))}function Yf(n,a,i){var o=0;a&&(o|=4),ev(i,n,o,a)}var Vc="_reactListening"+Math.random().toString(36).slice(2);function Xf(n){if(!n[Vc]){n[Vc]=!0,Gl.forEach(function(i){i!=="selectionchange"&&(OA.has(i)||Yf(i,!1,n),Yf(i,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[Vc]||(a[Vc]=!0,Yf("selectionchange",!1,a))}}function ev(n,a,i,o){switch(bv(a)){case 2:var d=iS;break;case 8:d=lS;break;default:d=cm}i=d.bind(null,a,i,n),d=void 0,!jn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(d=!0),o?d!==void 0?n.addEventListener(a,i,{capture:!0,passive:d}):n.addEventListener(a,i,!0):d!==void 0?n.addEventListener(a,i,{passive:d}):n.addEventListener(a,i,!1)}function Zf(n,a,i,o,d){var g=o;if((a&1)===0&&(a&2)===0&&o!==null)e:for(;;){if(o===null)return;var x=o.tag;if(x===3||x===4){var b=o.stateNode.containerInfo;if(b===d||b.nodeType===8&&b.parentNode===d)break;if(x===4)for(x=o.return;x!==null;){var D=x.tag;if((D===3||D===4)&&(D=x.stateNode.containerInfo,D===d||D.nodeType===8&&D.parentNode===d))return;x=x.return}for(;b!==null;){if(x=Gn(b),x===null)return;if(D=x.tag,D===5||D===6||D===26||D===27){o=g=x;continue e}b=b.parentNode}}o=o.return}qu(function(){var z=g,ee=Ni(i),re=[];e:{var W=qp.get(n);if(W!==void 0){var X=ki,_e=n;switch(n){case"keypress":if(cs(i)===0)break e;case"keydown":case"keyup":X=Mi;break;case"focusin":_e="focus",X=ji;break;case"focusout":_e="blur",X=ji;break;case"beforeblur":case"afterblur":X=ji;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=bd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Xu;break;case Up:case Hp:case Bp:X=Di;break;case zp:X=Ju;break;case"scroll":case"scrollend":X=Ku;break;case"wheel":X=Li;break;case"copy":case"cut":case"paste":X=Oi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=ao;break;case"toggle":case"beforetoggle":X=tc}var we=(a&4)!==0,gt=!we&&(n==="scroll"||n==="scrollend"),K=we?W!==null?W+"Capture":null:W;we=[];for(var B=z,Q;B!==null;){var te=B;if(Q=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||Q===null||K===null||(te=Cr(B,K),te!=null&&we.push(Lo(B,te,Q))),gt)break;B=B.return}0<we.length&&(W=new X(W,_e,null,i,ee),re.push({event:W,listeners:we}))}}if((a&7)===0){e:{if(W=n==="mouseover"||n==="pointerover",X=n==="mouseout"||n==="pointerout",W&&i!==In&&(_e=i.relatedTarget||i.fromElement)&&(Gn(_e)||_e[Is]))break e;if((X||W)&&(W=ee.window===ee?ee:(W=ee.ownerDocument)?W.defaultView||W.parentWindow:window,X?(_e=i.relatedTarget||i.toElement,X=z,_e=_e?Gn(_e):null,_e!==null&&(gt=pe(_e),we=_e.tag,_e!==gt||we!==5&&we!==27&&we!==6)&&(_e=null)):(X=null,_e=z),X!==_e)){if(we=Dn,te="onMouseLeave",K="onMouseEnter",B="mouse",(n==="pointerout"||n==="pointerover")&&(we=ao,te="onPointerLeave",K="onPointerEnter",B="pointer"),gt=X==null?W:Sa(X),Q=_e==null?W:Sa(_e),W=new we(te,B+"leave",X,i,ee),W.target=gt,W.relatedTarget=Q,te=null,Gn(ee)===z&&(we=new we(K,B+"enter",_e,i,ee),we.target=Q,we.relatedTarget=gt,te=we),gt=te,X&&_e)t:{for(we=X,K=_e,B=0,Q=we;Q;Q=rl(Q))B++;for(Q=0,te=K;te;te=rl(te))Q++;for(;0<B-Q;)we=rl(we),B--;for(;0<Q-B;)K=rl(K),Q--;for(;B--;){if(we===K||K!==null&&we===K.alternate)break t;we=rl(we),K=rl(K)}we=null}else we=null;X!==null&&tv(re,W,X,we,!1),_e!==null&&gt!==null&&tv(re,gt,_e,we,!0)}}e:{if(W=z?Sa(z):window,X=W.nodeName&&W.nodeName.toLowerCase(),X==="select"||X==="input"&&W.type==="file")var fe=Np;else if(kt(W))if(kp)fe=Gb;else{fe=Kb;var De=qb}else X=W.nodeName,!X||X.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?z&&Xl(z.elementType)&&(fe=Np):fe=Fb;if(fe&&(fe=fe(n,z))){Us(re,fe,i,ee);break e}De&&De(n,W,z),n==="focusout"&&z&&W.type==="number"&&z.memoizedProps.value!=null&&Ri(W,"number",W.value)}switch(De=z?Sa(z):window,n){case"focusin":(kt(De)||De.contentEditable==="true")&&(Pi=De,Nd=z,lo=null);break;case"focusout":lo=Nd=Pi=null;break;case"mousedown":kd=!0;break;case"contextmenu":case"mouseup":case"dragend":kd=!1,Pp(re,i,ee);break;case"selectionchange":if(Wb)break;case"keydown":case"keyup":Pp(re,i,ee)}var ve;if(fs)e:{switch(n){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Ue?Y(n,i)&&(Te="onCompositionEnd"):n==="keydown"&&i.keyCode===229&&(Te="onCompositionStart");Te&&(v&&i.locale!=="ko"&&(Ue||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Ue&&(ve=Jl()):(us=ee,Ia="value"in us?us.value:us.textContent,Ue=!0)),De=Uc(z,Te),0<De.length&&(Te=new no(Te,n,null,i,ee),re.push({event:Te,listeners:De}),ve?Te.data=ve:(ve=oe(i),ve!==null&&(Te.data=ve)))),(ve=y?Nt(n,i):He(n,i))&&(Te=Uc(z,"onBeforeInput"),0<Te.length&&(De=new no("onBeforeInput","beforeinput",null,i,ee),re.push({event:De,listeners:Te}),De.data=ve)),IA(re,n,z,i,ee)}Jy(re,a)})}function Lo(n,a,i){return{instance:n,listener:a,currentTarget:i}}function Uc(n,a){for(var i=a+"Capture",o=[];n!==null;){var d=n,g=d.stateNode;d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=Cr(n,i),d!=null&&o.unshift(Lo(n,d,g)),d=Cr(n,a),d!=null&&o.push(Lo(n,d,g))),n=n.return}return o}function rl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function tv(n,a,i,o,d){for(var g=a._reactName,x=[];i!==null&&i!==o;){var b=i,D=b.alternate,z=b.stateNode;if(b=b.tag,D!==null&&D===o)break;b!==5&&b!==26&&b!==27||z===null||(D=z,d?(z=Cr(i,g),z!=null&&x.unshift(Lo(i,z,D))):d||(z=Cr(i,g),z!=null&&x.push(Lo(i,z,D)))),i=i.return}x.length!==0&&n.push({event:a,listeners:x})}var MA=/\r\n?/g,LA=/\u0000|\uFFFD/g;function nv(n){return(typeof n=="string"?n:""+n).replace(MA,`
`).replace(LA,"")}function sv(n,a){return a=nv(a),nv(n)===a}function Hc(){}function Ze(n,a,i,o,d,g){switch(i){case"children":typeof o=="string"?a==="body"||a==="textarea"&&o===""||Cn(n,o):(typeof o=="number"||typeof o=="bigint")&&a!=="body"&&Cn(n,""+o);break;case"className":Na(n,"class",o);break;case"tabIndex":Na(n,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Na(n,i,o);break;case"style":zu(n,o,g);break;case"data":if(a!=="object"){Na(n,"data",o);break}case"src":case"href":if(o===""&&(a!=="a"||i!=="href")){n.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){n.removeAttribute(i);break}o=os(""+o),n.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){n.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(i==="formAction"?(a!=="input"&&Ze(n,a,"name",d.name,d,null),Ze(n,a,"formEncType",d.formEncType,d,null),Ze(n,a,"formMethod",d.formMethod,d,null),Ze(n,a,"formTarget",d.formTarget,d,null)):(Ze(n,a,"encType",d.encType,d,null),Ze(n,a,"method",d.method,d,null),Ze(n,a,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){n.removeAttribute(i);break}o=os(""+o),n.setAttribute(i,o);break;case"onClick":o!=null&&(n.onclick=Hc);break;case"onScroll":o!=null&&Pe("scroll",n);break;case"onScrollEnd":o!=null&&Pe("scrollend",n);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(i=o.__html,i!=null){if(d.children!=null)throw Error(r(60));n.innerHTML=i}}break;case"multiple":n.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":n.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){n.removeAttribute("xlink:href");break}i=os(""+o),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?n.setAttribute(i,""+o):n.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?n.setAttribute(i,""):n.removeAttribute(i);break;case"capture":case"download":o===!0?n.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?n.setAttribute(i,o):n.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?n.setAttribute(i,o):n.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?n.removeAttribute(i):n.setAttribute(i,o);break;case"popover":Pe("beforetoggle",n),Pe("toggle",n),Ra(n,"popover",o);break;case"xlinkActuate":kn(n,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":kn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":kn(n,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":kn(n,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":kn(n,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":kn(n,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":kn(n,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":kn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":kn(n,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ra(n,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Ed.get(i)||i,Ra(n,i,o))}}function Jf(n,a,i,o,d,g){switch(i){case"style":zu(n,o,g);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(i=o.__html,i!=null){if(d.children!=null)throw Error(r(60));n.innerHTML=i}}break;case"children":typeof o=="string"?Cn(n,o):(typeof o=="number"||typeof o=="bigint")&&Cn(n,""+o);break;case"onScroll":o!=null&&Pe("scroll",n);break;case"onScrollEnd":o!=null&&Pe("scrollend",n);break;case"onClick":o!=null&&(n.onclick=Hc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Si.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(d=i.endsWith("Capture"),a=i.slice(2,d?i.length-7:void 0),g=n[Rt]||null,g=g!=null?g[i]:null,typeof g=="function"&&n.removeEventListener(a,g,d),typeof o=="function")){typeof g!="function"&&g!==null&&(i in n?n[i]=null:n.hasAttribute(i)&&n.removeAttribute(i)),n.addEventListener(a,o,d);break e}i in n?n[i]=o:o===!0?n.setAttribute(i,""):Ra(n,i,o)}}}function Ft(n,a,i){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",n),Pe("load",n);var o=!1,d=!1,g;for(g in i)if(i.hasOwnProperty(g)){var x=i[g];if(x!=null)switch(g){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Ze(n,a,g,x,i,null)}}d&&Ze(n,a,"srcSet",i.srcSet,i,null),o&&Ze(n,a,"src",i.src,i,null);return;case"input":Pe("invalid",n);var b=g=x=d=null,D=null,z=null;for(o in i)if(i.hasOwnProperty(o)){var ee=i[o];if(ee!=null)switch(o){case"name":d=ee;break;case"type":x=ee;break;case"checked":D=ee;break;case"defaultChecked":z=ee;break;case"value":g=ee;break;case"defaultValue":b=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,a));break;default:Ze(n,a,o,ee,i,null)}}Nr(n,g,b,D,z,x,d,!1),Rr(n);return;case"select":Pe("invalid",n),o=x=g=null;for(d in i)if(i.hasOwnProperty(d)&&(b=i[d],b!=null))switch(d){case"value":g=b;break;case"defaultValue":x=b;break;case"multiple":o=b;default:Ze(n,a,d,b,i,null)}a=g,i=x,n.multiple=!!o,a!=null?Ke(n,!!o,a,!1):i!=null&&Ke(n,!!o,i,!0);return;case"textarea":Pe("invalid",n),g=d=o=null;for(x in i)if(i.hasOwnProperty(x)&&(b=i[x],b!=null))switch(x){case"value":o=b;break;case"defaultValue":d=b;break;case"children":g=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:Ze(n,a,x,b,i,null)}Ca(n,o,d,g),Rr(n);return;case"option":for(D in i)if(i.hasOwnProperty(D)&&(o=i[D],o!=null))switch(D){case"selected":n.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ze(n,a,D,o,i,null)}return;case"dialog":Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":Pe("load",n);break;case"video":case"audio":for(o=0;o<Mo.length;o++)Pe(Mo[o],n);break;case"image":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"embed":case"source":case"link":Pe("error",n),Pe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in i)if(i.hasOwnProperty(z)&&(o=i[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Ze(n,a,z,o,i,null)}return;default:if(Xl(a)){for(ee in i)i.hasOwnProperty(ee)&&(o=i[ee],o!==void 0&&Jf(n,a,ee,o,i,void 0));return}}for(b in i)i.hasOwnProperty(b)&&(o=i[b],o!=null&&Ze(n,a,b,o,i,null))}function PA(n,a,i,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,x=null,b=null,D=null,z=null,ee=null;for(X in i){var re=i[X];if(i.hasOwnProperty(X)&&re!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":D=re;default:o.hasOwnProperty(X)||Ze(n,a,X,null,o,re)}}for(var W in o){var X=o[W];if(re=i[W],o.hasOwnProperty(W)&&(X!=null||re!=null))switch(W){case"type":g=X;break;case"name":d=X;break;case"checked":z=X;break;case"defaultChecked":ee=X;break;case"value":x=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,a));break;default:X!==re&&Ze(n,a,W,X,o,re)}}ka(n,x,b,D,z,ee,g,d);return;case"select":X=x=b=W=null;for(g in i)if(D=i[g],i.hasOwnProperty(g)&&D!=null)switch(g){case"value":break;case"multiple":X=D;default:o.hasOwnProperty(g)||Ze(n,a,g,null,o,D)}for(d in o)if(g=o[d],D=i[d],o.hasOwnProperty(d)&&(g!=null||D!=null))switch(d){case"value":W=g;break;case"defaultValue":b=g;break;case"multiple":x=g;default:g!==D&&Ze(n,a,d,g,o,D)}a=b,i=x,o=X,W!=null?Ke(n,!!i,W,!1):!!o!=!!i&&(a!=null?Ke(n,!!i,a,!0):Ke(n,!!i,i?[]:"",!1));return;case"textarea":X=W=null;for(b in i)if(d=i[b],i.hasOwnProperty(b)&&d!=null&&!o.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ze(n,a,b,null,o,d)}for(x in o)if(d=o[x],g=i[x],o.hasOwnProperty(x)&&(d!=null||g!=null))switch(x){case"value":W=d;break;case"defaultValue":X=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==g&&Ze(n,a,x,d,o,g)}kr(n,W,X);return;case"option":for(var _e in i)if(W=i[_e],i.hasOwnProperty(_e)&&W!=null&&!o.hasOwnProperty(_e))switch(_e){case"selected":n.selected=!1;break;default:Ze(n,a,_e,null,o,W)}for(D in o)if(W=o[D],X=i[D],o.hasOwnProperty(D)&&W!==X&&(W!=null||X!=null))switch(D){case"selected":n.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:Ze(n,a,D,W,o,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in i)W=i[we],i.hasOwnProperty(we)&&W!=null&&!o.hasOwnProperty(we)&&Ze(n,a,we,null,o,W);for(z in o)if(W=o[z],X=i[z],o.hasOwnProperty(z)&&W!==X&&(W!=null||X!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,a));break;default:Ze(n,a,z,W,o,X)}return;default:if(Xl(a)){for(var gt in i)W=i[gt],i.hasOwnProperty(gt)&&W!==void 0&&!o.hasOwnProperty(gt)&&Jf(n,a,gt,void 0,o,W);for(ee in o)W=o[ee],X=i[ee],!o.hasOwnProperty(ee)||W===X||W===void 0&&X===void 0||Jf(n,a,ee,W,o,X);return}}for(var K in i)W=i[K],i.hasOwnProperty(K)&&W!=null&&!o.hasOwnProperty(K)&&Ze(n,a,K,null,o,W);for(re in o)W=o[re],X=i[re],!o.hasOwnProperty(re)||W===X||W==null&&X==null||Ze(n,a,re,W,o,X)}var em=null,tm=null;function Bc(n){return n.nodeType===9?n:n.ownerDocument}function av(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rv(n,a){if(n===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&a==="foreignObject"?0:n}function nm(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var sm=null;function VA(){var n=window.event;return n&&n.type==="popstate"?n===sm?!1:(sm=n,!0):(sm=null,!1)}var iv=typeof setTimeout=="function"?setTimeout:void 0,UA=typeof clearTimeout=="function"?clearTimeout:void 0,lv=typeof Promise=="function"?Promise:void 0,HA=typeof queueMicrotask=="function"?queueMicrotask:typeof lv<"u"?function(n){return lv.resolve(null).then(n).catch(BA)}:iv;function BA(n){setTimeout(function(){throw n})}function am(n,a){var i=a,o=0;do{var d=i.nextSibling;if(n.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"){if(o===0){n.removeChild(d),Ko(a);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=d}while(i);Ko(a)}function rm(n){var a=n.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var i=a;switch(a=a.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":rm(i),wr(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}n.removeChild(i)}}function zA(n,a,i,o){for(;n.nodeType===1;){var d=i;if(n.nodeName.toLowerCase()!==a.toLowerCase()){if(!o&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(o){if(!n[Aa])switch(a){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==d.rel||n.getAttribute("href")!==(d.href==null?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(a==="input"&&n.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=Yn(n.nextSibling),n===null)break}return null}function qA(n,a,i){if(a==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=Yn(n.nextSibling),n===null))return null;return n}function Yn(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return n}function ov(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var i=n.data;if(i==="$"||i==="$!"||i==="$?"){if(a===0)return n;a--}else i==="/$"&&a++}n=n.previousSibling}return null}function uv(n,a,i){switch(a=Bc(i),n){case"html":if(n=a.documentElement,!n)throw Error(r(452));return n;case"head":if(n=a.head,!n)throw Error(r(453));return n;case"body":if(n=a.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}var qn=new Map,cv=new Set;function zc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var ea=ce.d;ce.d={f:KA,r:FA,D:GA,C:$A,L:QA,m:WA,X:XA,S:YA,M:ZA};function KA(){var n=ea.f(),a=Oc();return n||a}function FA(n){var a=js(n);a!==null&&a.tag===5&&a.type==="form"?P_(a):ea.r(n)}var il=typeof document>"u"?null:document;function hv(n,a,i){var o=il;if(o&&typeof a=="string"&&a){var d=dt(a);d='link[rel="'+n+'"][href="'+d+'"]',typeof i=="string"&&(d+='[crossorigin="'+i+'"]'),cv.has(d)||(cv.add(d),n={rel:n,crossOrigin:i,href:a},o.querySelector(d)===null&&(a=o.createElement("link"),Ft(a,"link",n),it(a),o.head.appendChild(a)))}}function GA(n){ea.D(n),hv("dns-prefetch",n,null)}function $A(n,a){ea.C(n,a),hv("preconnect",n,a)}function QA(n,a,i){ea.L(n,a,i);var o=il;if(o&&n&&a){var d='link[rel="preload"][as="'+dt(a)+'"]';a==="image"&&i&&i.imageSrcSet?(d+='[imagesrcset="'+dt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(d+='[imagesizes="'+dt(i.imageSizes)+'"]')):d+='[href="'+dt(n)+'"]';var g=d;switch(a){case"style":g=ll(n);break;case"script":g=ol(n)}qn.has(g)||(n=I({rel:"preload",href:a==="image"&&i&&i.imageSrcSet?void 0:n,as:a},i),qn.set(g,n),o.querySelector(d)!==null||a==="style"&&o.querySelector(Po(g))||a==="script"&&o.querySelector(Vo(g))||(a=o.createElement("link"),Ft(a,"link",n),it(a),o.head.appendChild(a)))}}function WA(n,a){ea.m(n,a);var i=il;if(i&&n){var o=a&&typeof a.as=="string"?a.as:"script",d='link[rel="modulepreload"][as="'+dt(o)+'"][href="'+dt(n)+'"]',g=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=ol(n)}if(!qn.has(g)&&(n=I({rel:"modulepreload",href:n},a),qn.set(g,n),i.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Vo(g)))return}o=i.createElement("link"),Ft(o,"link",n),it(o),i.head.appendChild(o)}}}function YA(n,a,i){ea.S(n,a,i);var o=il;if(o&&n){var d=wa(o).hoistableStyles,g=ll(n);a=a||"default";var x=d.get(g);if(!x){var b={loading:0,preload:null};if(x=o.querySelector(Po(g)))b.loading=5;else{n=I({rel:"stylesheet",href:n,"data-precedence":a},i),(i=qn.get(g))&&im(n,i);var D=x=o.createElement("link");it(D),Ft(D,"link",n),D._p=new Promise(function(z,ee){D.onload=z,D.onerror=ee}),D.addEventListener("load",function(){b.loading|=1}),D.addEventListener("error",function(){b.loading|=2}),b.loading|=4,qc(x,a,o)}x={type:"stylesheet",instance:x,count:1,state:b},d.set(g,x)}}}function XA(n,a){ea.X(n,a);var i=il;if(i&&n){var o=wa(i).hoistableScripts,d=ol(n),g=o.get(d);g||(g=i.querySelector(Vo(d)),g||(n=I({src:n,async:!0},a),(a=qn.get(d))&&lm(n,a),g=i.createElement("script"),it(g),Ft(g,"link",n),i.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(d,g))}}function ZA(n,a){ea.M(n,a);var i=il;if(i&&n){var o=wa(i).hoistableScripts,d=ol(n),g=o.get(d);g||(g=i.querySelector(Vo(d)),g||(n=I({src:n,async:!0,type:"module"},a),(a=qn.get(d))&&lm(n,a),g=i.createElement("script"),it(g),Ft(g,"link",n),i.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(d,g))}}function dv(n,a,i,o){var d=(d=Rn.current)?zc(d):null;if(!d)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(a=ll(i.href),i=wa(d).hoistableStyles,o=i.get(a),o||(o={type:"style",instance:null,count:0,state:null},i.set(a,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){n=ll(i.href);var g=wa(d).hoistableStyles,x=g.get(n);if(x||(d=d.ownerDocument||d,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,x),(g=d.querySelector(Po(n)))&&!g._p&&(x.instance=g,x.state.loading=5),qn.has(n)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},qn.set(n,i),g||JA(d,n,i,x.state))),a&&o===null)throw Error(r(528,""));return x}if(a&&o!==null)throw Error(r(529,""));return null;case"script":return a=i.async,i=i.src,typeof i=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ol(i),i=wa(d).hoistableScripts,o=i.get(a),o||(o={type:"script",instance:null,count:0,state:null},i.set(a,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function ll(n){return'href="'+dt(n)+'"'}function Po(n){return'link[rel="stylesheet"]['+n+"]"}function fv(n){return I({},n,{"data-precedence":n.precedence,precedence:null})}function JA(n,a,i,o){n.querySelector('link[rel="preload"][as="style"]['+a+"]")?o.loading=1:(a=n.createElement("link"),o.preload=a,a.addEventListener("load",function(){return o.loading|=1}),a.addEventListener("error",function(){return o.loading|=2}),Ft(a,"link",i),it(a),n.head.appendChild(a))}function ol(n){return'[src="'+dt(n)+'"]'}function Vo(n){return"script[async]"+n}function mv(n,a,i){if(a.count++,a.instance===null)switch(a.type){case"style":var o=n.querySelector('style[data-href~="'+dt(i.href)+'"]');if(o)return a.instance=o,it(o),o;var d=I({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(n.ownerDocument||n).createElement("style"),it(o),Ft(o,"style",d),qc(o,i.precedence,n),a.instance=o;case"stylesheet":d=ll(i.href);var g=n.querySelector(Po(d));if(g)return a.state.loading|=4,a.instance=g,it(g),g;o=fv(i),(d=qn.get(d))&&im(o,d),g=(n.ownerDocument||n).createElement("link"),it(g);var x=g;return x._p=new Promise(function(b,D){x.onload=b,x.onerror=D}),Ft(g,"link",o),a.state.loading|=4,qc(g,i.precedence,n),a.instance=g;case"script":return g=ol(i.src),(d=n.querySelector(Vo(g)))?(a.instance=d,it(d),d):(o=i,(d=qn.get(g))&&(o=I({},i),lm(o,d)),n=n.ownerDocument||n,d=n.createElement("script"),it(d),Ft(d,"link",o),n.head.appendChild(d),a.instance=d);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(o=a.instance,a.state.loading|=4,qc(o,i.precedence,n));return a.instance}function qc(n,a,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,g=d,x=0;x<o.length;x++){var b=o[x];if(b.dataset.precedence===a)g=b;else if(g!==d)break}g?g.parentNode.insertBefore(n,g.nextSibling):(a=i.nodeType===9?i.head:i,a.insertBefore(n,a.firstChild))}function im(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.title==null&&(n.title=a.title)}function lm(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.integrity==null&&(n.integrity=a.integrity)}var Kc=null;function gv(n,a,i){if(Kc===null){var o=new Map,d=Kc=new Map;d.set(i,o)}else d=Kc,o=d.get(i),o||(o=new Map,d.set(i,o));if(o.has(n))return o;for(o.set(n,null),i=i.getElementsByTagName(n),d=0;d<i.length;d++){var g=i[d];if(!(g[Aa]||g[Mt]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var x=g.getAttribute(a)||"";x=n+x;var b=o.get(x);b?b.push(g):o.set(x,[g])}}return o}function pv(n,a,i){n=n.ownerDocument||n,n.head.insertBefore(i,a==="title"?n.querySelector("head > title"):null)}function eS(n,a,i){if(i===1||a.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return n=a.disabled,typeof a.precedence=="string"&&n==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function _v(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Uo=null;function tS(){}function nS(n,a,i){if(Uo===null)throw Error(r(475));var o=Uo;if(a.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=ll(i.href),g=n.querySelector(Po(d));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(o.count++,o=Fc.bind(o),n.then(o,o)),a.state.loading|=4,a.instance=g,it(g);return}g=n.ownerDocument||n,i=fv(i),(d=qn.get(d))&&im(i,d),g=g.createElement("link"),it(g);var x=g;x._p=new Promise(function(b,D){x.onload=b,x.onerror=D}),Ft(g,"link",i),a.instance=g}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(o.count++,a=Fc.bind(o),n.addEventListener("load",a),n.addEventListener("error",a))}}function sS(){if(Uo===null)throw Error(r(475));var n=Uo;return n.stylesheets&&n.count===0&&om(n,n.stylesheets),0<n.count?function(a){var i=setTimeout(function(){if(n.stylesheets&&om(n,n.stylesheets),n.unsuspend){var o=n.unsuspend;n.unsuspend=null,o()}},6e4);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(i)}}:null}function Fc(){if(this.count--,this.count===0){if(this.stylesheets)om(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Gc=null;function om(n,a){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Gc=new Map,a.forEach(aS,n),Gc=null,Fc.call(n))}function aS(n,a){if(!(a.state.loading&4)){var i=Gc.get(n);if(i)var o=i.get(null);else{i=new Map,Gc.set(n,i);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var x=d[g];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(i.set(x.dataset.precedence,x),o=x)}o&&i.set(null,o)}d=a.instance,x=d.getAttribute("data-precedence"),g=i.get(x)||o,g===o&&i.set(null,d),i.set(x,d),this.count++,o=Fc.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),g?g.parentNode.insertBefore(d,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),a.state.loading|=4}}var Ho={$$typeof:k,Provider:null,Consumer:null,_currentValue:Ne,_currentValue2:Ne,_threadCount:0};function rS(n,a,i,o,d,g,x,b){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function yv(n,a,i,o,d,g,x,b,D,z,ee,re){return n=new rS(n,a,i,x,b,D,z,re),a=1,g===!0&&(a|=24),g=Bn(3,null,null,a),n.current=g,g.stateNode=n,a=Ud(),a.refCount++,n.pooledCache=a,a.refCount++,g.memoizedState={element:o,isDehydrated:i,cache:a},xf(g),n}function vv(n){return n?(n=Hi,n):Hi}function xv(n,a,i,o,d,g){d=vv(d),o.context===null?o.context=d:o.pendingContext=d,o=Ua(a),o.payload={element:i},g=g===void 0?null:g,g!==null&&(o.callback=g),i=Ha(n,o,a),i!==null&&(on(i,n,a),bo(i,n,a))}function Ev(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var i=n.retryLane;n.retryLane=i!==0&&i<a?i:a}}function um(n,a){Ev(n,a),(n=n.alternate)&&Ev(n,a)}function Tv(n){if(n.tag===13){var a=ja(n,67108864);a!==null&&on(a,n,67108864),um(n,67108864)}}var $c=!0;function iS(n,a,i,o){var d=S.T;S.T=null;var g=ce.p;try{ce.p=2,cm(n,a,i,o)}finally{ce.p=g,S.T=d}}function lS(n,a,i,o){var d=S.T;S.T=null;var g=ce.p;try{ce.p=8,cm(n,a,i,o)}finally{ce.p=g,S.T=d}}function cm(n,a,i,o){if($c){var d=hm(o);if(d===null)Zf(n,a,o,Qc,i),Av(n,o);else if(uS(d,n,a,i,o))o.stopPropagation();else if(Av(n,o),a&4&&-1<oS.indexOf(n)){for(;d!==null;){var g=js(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var x=Fn(g.pendingLanes);if(x!==0){var b=g;for(b.pendingLanes|=2,b.entangledLanes|=2;x;){var D=1<<31-sn(x);b.entanglements[1]|=D,x&=~D}vs(g),(ot&6)===0&&(Ic=hn()+500,Oo(0))}}break;case 13:b=ja(g,2),b!==null&&on(b,g,2),Oc(),um(g,2)}if(g=hm(o),g===null&&Zf(n,a,o,Qc,i),g===d)break;d=g}d!==null&&o.stopPropagation()}else Zf(n,a,o,null,i)}}function hm(n){return n=Ni(n),dm(n)}var Qc=null;function dm(n){if(Qc=null,n=Gn(n),n!==null){var a=pe(n);if(a===null)n=null;else{var i=a.tag;if(i===13){if(n=me(a),n!==null)return n;n=null}else if(i===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}return Qc=n,null}function bv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Du()){case wt:return 2;case Ot:return 8;case Cs:case Ou:return 32;case Bl:return 268435456;default:return 32}default:return 32}}var fm=!1,$a=null,Qa=null,Wa=null,Bo=new Map,zo=new Map,Ya=[],oS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Av(n,a){switch(n){case"focusin":case"focusout":$a=null;break;case"dragenter":case"dragleave":Qa=null;break;case"mouseover":case"mouseout":Wa=null;break;case"pointerover":case"pointerout":Bo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":zo.delete(a.pointerId)}}function qo(n,a,i,o,d,g){return n===null||n.nativeEvent!==g?(n={blockedOn:a,domEventName:i,eventSystemFlags:o,nativeEvent:g,targetContainers:[d]},a!==null&&(a=js(a),a!==null&&Tv(a)),n):(n.eventSystemFlags|=o,a=n.targetContainers,d!==null&&a.indexOf(d)===-1&&a.push(d),n)}function uS(n,a,i,o,d){switch(a){case"focusin":return $a=qo($a,n,a,i,o,d),!0;case"dragenter":return Qa=qo(Qa,n,a,i,o,d),!0;case"mouseover":return Wa=qo(Wa,n,a,i,o,d),!0;case"pointerover":var g=d.pointerId;return Bo.set(g,qo(Bo.get(g)||null,n,a,i,o,d)),!0;case"gotpointercapture":return g=d.pointerId,zo.set(g,qo(zo.get(g)||null,n,a,i,o,d)),!0}return!1}function Sv(n){var a=Gn(n.target);if(a!==null){var i=pe(a);if(i!==null){if(a=i.tag,a===13){if(a=me(i),a!==null){n.blockedOn=a,ba(n.priority,function(){if(i.tag===13){var o=bn(),d=ja(i,o);d!==null&&on(d,i,o),um(i,o)}});return}}else if(a===3&&i.stateNode.current.memoizedState.isDehydrated){n.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Wc(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var i=hm(n.nativeEvent);if(i===null){i=n.nativeEvent;var o=new i.constructor(i.type,i);In=o,i.target.dispatchEvent(o),In=null}else return a=js(i),a!==null&&Tv(a),n.blockedOn=i,!1;a.shift()}return!0}function wv(n,a,i){Wc(n)&&i.delete(a)}function cS(){fm=!1,$a!==null&&Wc($a)&&($a=null),Qa!==null&&Wc(Qa)&&(Qa=null),Wa!==null&&Wc(Wa)&&(Wa=null),Bo.forEach(wv),zo.forEach(wv)}function Yc(n,a){n.blockedOn===a&&(n.blockedOn=null,fm||(fm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,cS)))}var Xc=null;function Rv(n){Xc!==n&&(Xc=n,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Xc===n&&(Xc=null);for(var a=0;a<n.length;a+=3){var i=n[a],o=n[a+1],d=n[a+2];if(typeof o!="function"){if(dm(o||i)===null)continue;break}var g=js(i);g!==null&&(n.splice(a,3),a-=3,tf(g,{pending:!0,data:d,method:i.method,action:o},o,d))}}))}function Ko(n){function a(D){return Yc(D,n)}$a!==null&&Yc($a,n),Qa!==null&&Yc(Qa,n),Wa!==null&&Yc(Wa,n),Bo.forEach(a),zo.forEach(a);for(var i=0;i<Ya.length;i++){var o=Ya[i];o.blockedOn===n&&(o.blockedOn=null)}for(;0<Ya.length&&(i=Ya[0],i.blockedOn===null);)Sv(i),i.blockedOn===null&&Ya.shift();if(i=(n.ownerDocument||n).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var d=i[o],g=i[o+1],x=d[Rt]||null;if(typeof g=="function")x||Rv(i);else if(x){var b=null;if(g&&g.hasAttribute("formAction")){if(d=g,x=g[Rt]||null)b=x.formAction;else if(dm(d)!==null)continue}else b=x.action;typeof b=="function"?i[o+1]=b:(i.splice(o,3),o-=3),Rv(i)}}}function mm(n){this._internalRoot=n}Zc.prototype.render=mm.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(r(409));var i=a.current,o=bn();xv(i,o,n,a,null,null)},Zc.prototype.unmount=mm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;n.tag===0&&sl(),xv(n.current,2,null,n,null,null),Oc(),a[Is]=null}};function Zc(n){this._internalRoot=n}Zc.prototype.unstable_scheduleHydration=function(n){if(n){var a=Uu();n={blockedOn:null,target:n,priority:a};for(var i=0;i<Ya.length&&a!==0&&a<Ya[i].priority;i++);Ya.splice(i,0,n),i===0&&Sv(n)}};var Nv=e.version;if(Nv!=="19.0.0")throw Error(r(527,Nv,"19.0.0"));ce.findDOMNode=function(n){var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=le(a),n=n!==null?ge(n):null,n=n===null?null:n.stateNode,n};var hS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:Gn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{_a=Jc.inject(hS),Wt=Jc}catch{}}return Go.createRoot=function(n,a){if(!l(n))throw Error(r(299));var i=!1,o="",d=F_,g=G_,x=$_,b=null;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks)),a=yv(n,1,!1,null,null,i,o,d,g,x,b,null),n[Is]=a.current,Xf(n.nodeType===8?n.parentNode:n),new mm(a)},Go.hydrateRoot=function(n,a,i){if(!l(n))throw Error(r(299));var o=!1,d="",g=F_,x=G_,b=$_,D=null,z=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(x=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(D=i.unstable_transitionCallbacks),i.formState!==void 0&&(z=i.formState)),a=yv(n,1,!0,a,i??null,o,d,g,x,b,D,z),a.context=vv(null),i=a.current,o=bn(),d=Ua(o),d.callback=null,Ha(i,d,o),a.current.lanes=o,pt(a,o),vs(a),n[Is]=a.current,Xf(n),new Zc(a)},Go.version="19.0.0",Go}var Vv;function TS(){if(Vv)return _m.exports;Vv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),_m.exports=ES(),_m.exports}var bS=TS();const AS=N0(bS);var $o={},Uv;function SS(){if(Uv)return $o;Uv=1,Object.defineProperty($o,"__esModule",{value:!0}),$o.parse=h,$o.serialize=_;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function h(A,k){const j=new u,q=A.length;if(q<2)return j;const V=(k==null?void 0:k.decode)||E;let $=0;do{const H=A.indexOf("=",$);if(H===-1)break;const G=A.indexOf(";",$),Z=G===-1?q:G;if(H>Z){$=A.lastIndexOf(";",H-1)+1;continue}const J=m(A,$,H),ae=p(A,H,J),O=A.slice(J,ae);if(j[O]===void 0){let R=m(A,H+1,Z),S=p(A,Z,R);const I=V(A.slice(R,S));j[O]=I}$=Z+1}while($<q);return j}function m(A,k,j){do{const q=A.charCodeAt(k);if(q!==32&&q!==9)return k}while(++k<j);return j}function p(A,k,j){for(;k>j;){const q=A.charCodeAt(--k);if(q!==32&&q!==9)return k+1}return j}function _(A,k,j){const q=(j==null?void 0:j.encode)||encodeURIComponent;if(!s.test(A))throw new TypeError(`argument name is invalid: ${A}`);const V=q(k);if(!e.test(V))throw new TypeError(`argument val is invalid: ${k}`);let $=A+"="+V;if(!j)return $;if(j.maxAge!==void 0){if(!Number.isInteger(j.maxAge))throw new TypeError(`option maxAge is invalid: ${j.maxAge}`);$+="; Max-Age="+j.maxAge}if(j.domain){if(!t.test(j.domain))throw new TypeError(`option domain is invalid: ${j.domain}`);$+="; Domain="+j.domain}if(j.path){if(!r.test(j.path))throw new TypeError(`option path is invalid: ${j.path}`);$+="; Path="+j.path}if(j.expires){if(!T(j.expires)||!Number.isFinite(j.expires.valueOf()))throw new TypeError(`option expires is invalid: ${j.expires}`);$+="; Expires="+j.expires.toUTCString()}if(j.httpOnly&&($+="; HttpOnly"),j.secure&&($+="; Secure"),j.partitioned&&($+="; Partitioned"),j.priority)switch(typeof j.priority=="string"?j.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${j.priority}`)}if(j.sameSite)switch(typeof j.sameSite=="string"?j.sameSite.toLowerCase():j.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${j.sameSite}`)}return $}function E(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function T(A){return l.call(A)==="[object Date]"}return $o}SS();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Hv="popstate";function wS(s={}){function e(r,l){let{pathname:u,search:h,hash:m}=r.location;return Pm("",{pathname:u,search:h,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(r,l){return typeof l=="string"?l:ou(l)}return NS(e,t,null,s)}function rt(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Zn(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RS(){return Math.random().toString(36).substring(2,10)}function Bv(s,e){return{usr:s.state,key:s.key,idx:e}}function Pm(s,e,t=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Nl(e):e,state:t,key:e&&e.key||r||RS()}}function ou({pathname:s="/",search:e="",hash:t=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(s+=t.charAt(0)==="#"?t:"#"+t),s}function Nl(s){let e={};if(s){let t=s.indexOf("#");t>=0&&(e.hash=s.substring(t),s=s.substring(0,t));let r=s.indexOf("?");r>=0&&(e.search=s.substring(r),s=s.substring(0,r)),s&&(e.pathname=s)}return e}function NS(s,e,t,r={}){let{window:l=document.defaultView,v5Compat:u=!1}=r,h=l.history,m="POP",p=null,_=E();_==null&&(_=0,h.replaceState({...h.state,idx:_},""));function E(){return(h.state||{idx:null}).idx}function T(){m="POP";let V=E(),$=V==null?null:V-_;_=V,p&&p({action:m,location:q.location,delta:$})}function A(V,$){m="PUSH";let H=Pm(q.location,V,$);_=E()+1;let G=Bv(H,_),Z=q.createHref(H);try{h.pushState(G,"",Z)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;l.location.assign(Z)}u&&p&&p({action:m,location:q.location,delta:1})}function k(V,$){m="REPLACE";let H=Pm(q.location,V,$);_=E();let G=Bv(H,_),Z=q.createHref(H);h.replaceState(G,"",Z),u&&p&&p({action:m,location:q.location,delta:0})}function j(V){let $=l.location.origin!=="null"?l.location.origin:l.location.href,H=typeof V=="string"?V:ou(V);return H=H.replace(/ $/,"%20"),rt($,`No window.location.(origin|href) available to create URL for href: ${H}`),new URL(H,$)}let q={get action(){return m},get location(){return s(l,h)},listen(V){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(Hv,T),p=V,()=>{l.removeEventListener(Hv,T),p=null}},createHref(V){return e(l,V)},createURL:j,encodeLocation(V){let $=j(V);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:A,replace:k,go(V){return h.go(V)}};return q}function k0(s,e,t="/"){return kS(s,e,t,!1)}function kS(s,e,t,r){let l=typeof e=="string"?Nl(e):e,u=ur(l.pathname||"/",t);if(u==null)return null;let h=C0(s);CS(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let _=BS(u);m=US(h[p],_,r)}return m}function C0(s,e=[],t=[],r=""){let l=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(rt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length));let _=ra([r,p.relativePath]),E=t.concat(p);u.children&&u.children.length>0&&(rt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),C0(u.children,e,E,_)),!(u.path==null&&!u.index)&&e.push({path:_,score:PS(_,u.index),routesMeta:E})};return s.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))l(u,h);else for(let p of I0(u.path))l(u,h,p)}),e}function I0(s){let e=s.split("/");if(e.length===0)return[];let[t,...r]=e,l=t.endsWith("?"),u=t.replace(/\?$/,"");if(r.length===0)return l?[u,""]:[u];let h=I0(r.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),l&&m.push(...h),m.map(p=>s.startsWith("/")&&p===""?"/":p)}function CS(s){s.sort((e,t)=>e.score!==t.score?t.score-e.score:VS(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var IS=/^:[\w-]+$/,jS=3,DS=2,OS=1,MS=10,LS=-2,zv=s=>s==="*";function PS(s,e){let t=s.split("/"),r=t.length;return t.some(zv)&&(r+=LS),e&&(r+=DS),t.filter(l=>!zv(l)).reduce((l,u)=>l+(IS.test(u)?jS:u===""?OS:MS),r)}function VS(s,e){return s.length===e.length&&s.slice(0,-1).every((r,l)=>r===e[l])?s[s.length-1]-e[e.length-1]:0}function US(s,e,t=!1){let{routesMeta:r}=s,l={},u="/",h=[];for(let m=0;m<r.length;++m){let p=r[m],_=m===r.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=Th({path:p.relativePath,caseSensitive:p.caseSensitive,end:_},E),A=p.route;if(!T&&_&&t&&!r[r.length-1].route.index&&(T=Th({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(l,T.params),h.push({params:l,pathname:ra([u,T.pathname]),pathnameBase:FS(ra([u,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(u=ra([u,T.pathnameBase]))}return h}function Th(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[t,r]=HS(s.path,s.caseSensitive,s.end),l=e.match(t);if(!l)return null;let u=l[0],h=u.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:r.reduce((_,{paramName:E,isOptional:T},A)=>{if(E==="*"){let j=m[A]||"";h=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const k=m[A];return T&&!k?_[E]=void 0:_[E]=(k||"").replace(/%2F/g,"/"),_},{}),pathname:u,pathnameBase:h,pattern:s}}function HS(s,e=!1,t=!0){Zn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(r.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(r.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),r]}function BS(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function ur(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=s.charAt(t);return r&&r!=="/"?null:s.slice(t)||"/"}function zS(s,e="/"){let{pathname:t,search:r="",hash:l=""}=typeof s=="string"?Nl(s):s;return{pathname:t?t.startsWith("/")?t:qS(t,e):e,search:GS(r),hash:$S(l)}}function qS(s,e){let t=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?t.length>1&&t.pop():l!=="."&&t.push(l)}),t.length>1?t.join("/"):"/"}function Em(s,e,t,r){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KS(s){return s.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function gg(s){let e=KS(s);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function pg(s,e,t,r=!1){let l;typeof s=="string"?l=Nl(s):(l={...s},rt(!l.pathname||!l.pathname.includes("?"),Em("?","pathname","search",l)),rt(!l.pathname||!l.pathname.includes("#"),Em("#","pathname","hash",l)),rt(!l.search||!l.search.includes("#"),Em("#","search","hash",l)));let u=s===""||l.pathname==="",h=u?"/":l.pathname,m;if(h==null)m=t;else{let T=e.length-1;if(!r&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),T-=1;l.pathname=A.join("/")}m=T>=0?e[T]:"/"}let p=zS(l,m),_=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(_||E)&&(p.pathname+="/"),p}var ra=s=>s.join("/").replace(/\/\/+/g,"/"),FS=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),GS=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,$S=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function QS(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var j0=["POST","PUT","PATCH","DELETE"];new Set(j0);var WS=["GET",...j0];new Set(WS);var kl=L.createContext(null);kl.displayName="DataRouter";var qh=L.createContext(null);qh.displayName="DataRouterState";var D0=L.createContext({isTransitioning:!1});D0.displayName="ViewTransition";var YS=L.createContext(new Map);YS.displayName="Fetchers";var XS=L.createContext(null);XS.displayName="Await";var ns=L.createContext(null);ns.displayName="Navigation";var yu=L.createContext(null);yu.displayName="Location";var ss=L.createContext({outlet:null,matches:[],isDataRoute:!1});ss.displayName="Route";var _g=L.createContext(null);_g.displayName="RouteError";function ZS(s,{relative:e}={}){rt(Cl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=L.useContext(ns),{hash:l,pathname:u,search:h}=vu(s,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:ra([t,u])),r.createHref({pathname:m,search:h,hash:l})}function Cl(){return L.useContext(yu)!=null}function yr(){return rt(Cl(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(yu).location}var O0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function M0(s){L.useContext(ns).static||L.useLayoutEffect(s)}function Il(){let{isDataRoute:s}=L.useContext(ss);return s?dw():JS()}function JS(){rt(Cl(),"useNavigate() may be used only in the context of a <Router> component.");let s=L.useContext(kl),{basename:e,navigator:t}=L.useContext(ns),{matches:r}=L.useContext(ss),{pathname:l}=yr(),u=JSON.stringify(gg(r)),h=L.useRef(!1);return M0(()=>{h.current=!0}),L.useCallback((p,_={})=>{if(Zn(h.current,O0),!h.current)return;if(typeof p=="number"){t.go(p);return}let E=pg(p,JSON.parse(u),l,_.relative==="path");s==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ra([e,E.pathname])),(_.replace?t.replace:t.push)(E,_.state,_)},[e,t,u,l,s])}L.createContext(null);function ew(){let{matches:s}=L.useContext(ss),e=s[s.length-1];return e?e.params:{}}function vu(s,{relative:e}={}){let{matches:t}=L.useContext(ss),{pathname:r}=yr(),l=JSON.stringify(gg(t));return L.useMemo(()=>pg(s,JSON.parse(l),r,e==="path"),[s,l,r,e])}function tw(s,e){return L0(s,e)}function L0(s,e,t,r){var H;rt(Cl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:u}=L.useContext(ns),{matches:h}=L.useContext(ss),m=h[h.length-1],p=m?m.params:{},_=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let G=T&&T.path||"";P0(_,!T||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let A=yr(),k;if(e){let G=typeof e=="string"?Nl(e):e;rt(E==="/"||((H=G.pathname)==null?void 0:H.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${G.pathname}" was given in the \`location\` prop.`),k=G}else k=A;let j=k.pathname||"/",q=j;if(E!=="/"){let G=E.replace(/^\//,"").split("/");q="/"+j.replace(/^\//,"").split("/").slice(G.length).join("/")}let V=!u&&t&&t.matches&&t.matches.length>0?t.matches:k0(s,{pathname:q});Zn(T||V!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Zn(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=iw(V&&V.map(G=>Object.assign({},G,{params:Object.assign({},p,G.params),pathname:ra([E,l.encodeLocation?l.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?E:ra([E,l.encodeLocation?l.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),h,t,r);return e&&$?L.createElement(yu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},$):$}function nw(){let s=hw(),e=QS(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),t=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=L.createElement(L.Fragment,null,L.createElement("p",null,"💿 Hey developer 👋"),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:l},t):null,h)}var sw=L.createElement(nw,null),aw=class extends L.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){console.error("React Router caught the following error during render",s,e)}render(){return this.state.error!==void 0?L.createElement(ss.Provider,{value:this.props.routeContext},L.createElement(_g.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rw({routeContext:s,match:e,children:t}){let r=L.useContext(kl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(ss.Provider,{value:s},t)}function iw(s,e=[],t=null,r=null){if(s==null){if(!t)return null;if(t.errors)s=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)s=t.matches;else return null}let l=s,u=t==null?void 0:t.errors;if(u!=null){let p=l.findIndex(_=>_.route.id&&(u==null?void 0:u[_.route.id])!==void 0);rt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let h=!1,m=-1;if(t)for(let p=0;p<l.length;p++){let _=l[p];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=p),_.route.id){let{loaderData:E,errors:T}=t,A=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!T||T[_.route.id]===void 0);if(_.route.lazy||A){h=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((p,_,E)=>{let T,A=!1,k=null,j=null;t&&(T=u&&_.route.id?u[_.route.id]:void 0,k=_.route.errorElement||sw,h&&(m<0&&E===0?(P0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,j=null):m===E&&(A=!0,j=_.route.hydrateFallbackElement||null)));let q=e.concat(l.slice(0,E+1)),V=()=>{let $;return T?$=k:A?$=j:_.route.Component?$=L.createElement(_.route.Component,null):_.route.element?$=_.route.element:$=p,L.createElement(rw,{match:_,routeContext:{outlet:p,matches:q,isDataRoute:t!=null},children:$})};return t&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?L.createElement(aw,{location:t.location,revalidation:t.revalidation,component:k,error:T,children:V(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):V()},null)}function yg(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lw(s){let e=L.useContext(kl);return rt(e,yg(s)),e}function ow(s){let e=L.useContext(qh);return rt(e,yg(s)),e}function uw(s){let e=L.useContext(ss);return rt(e,yg(s)),e}function vg(s){let e=uw(s),t=e.matches[e.matches.length-1];return rt(t.route.id,`${s} can only be used on routes that contain a unique "id"`),t.route.id}function cw(){return vg("useRouteId")}function hw(){var r;let s=L.useContext(_g),e=ow("useRouteError"),t=vg("useRouteError");return s!==void 0?s:(r=e.errors)==null?void 0:r[t]}function dw(){let{router:s}=lw("useNavigate"),e=vg("useNavigate"),t=L.useRef(!1);return M0(()=>{t.current=!0}),L.useCallback(async(l,u={})=>{Zn(t.current,O0),t.current&&(typeof l=="number"?s.navigate(l):await s.navigate(l,{fromRouteId:e,...u}))},[s,e])}var qv={};function P0(s,e,t){!e&&!qv[s]&&(qv[s]=!0,Zn(!1,t))}L.memo(fw);function fw({routes:s,future:e,state:t}){return L0(s,void 0,t,e)}function Kv({to:s,replace:e,state:t,relative:r}){rt(Cl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=L.useContext(ns);Zn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=L.useContext(ss),{pathname:h}=yr(),m=Il(),p=pg(s,gg(u),h,r==="path"),_=JSON.stringify(p);return L.useEffect(()=>{m(JSON.parse(_),{replace:e,state:t,relative:r})},[m,_,r,e,t]),null}function bt(s){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mw({basename:s="/",children:e=null,location:t,navigationType:r="POP",navigator:l,static:u=!1}){rt(!Cl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=s.replace(/^\/*/,"/"),m=L.useMemo(()=>({basename:h,navigator:l,static:u,future:{}}),[h,l,u]);typeof t=="string"&&(t=Nl(t));let{pathname:p="/",search:_="",hash:E="",state:T=null,key:A="default"}=t,k=L.useMemo(()=>{let j=ur(p,h);return j==null?null:{location:{pathname:j,search:_,hash:E,state:T,key:A},navigationType:r}},[h,p,_,E,T,A,r]);return Zn(k!=null,`<Router basename="${h}"> is not able to match the URL "${p}${_}${E}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:L.createElement(ns.Provider,{value:m},L.createElement(yu.Provider,{children:e,value:k}))}function gw({children:s,location:e}){return tw(Vm(s),e)}function Vm(s,e=[]){let t=[];return L.Children.forEach(s,(r,l)=>{if(!L.isValidElement(r))return;let u=[...e,l];if(r.type===L.Fragment){t.push.apply(t,Vm(r.props.children,u));return}rt(r.type===bt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=Vm(r.props.children,u)),t.push(h)}),t}var ch="get",hh="application/x-www-form-urlencoded";function Kh(s){return s!=null&&typeof s.tagName=="string"}function pw(s){return Kh(s)&&s.tagName.toLowerCase()==="button"}function _w(s){return Kh(s)&&s.tagName.toLowerCase()==="form"}function yw(s){return Kh(s)&&s.tagName.toLowerCase()==="input"}function vw(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function xw(s,e){return s.button===0&&(!e||e==="_self")&&!vw(s)}var eh=null;function Ew(){if(eh===null)try{new FormData(document.createElement("form"),0),eh=!1}catch{eh=!0}return eh}var Tw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tm(s){return s!=null&&!Tw.has(s)?(Zn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hh}"`),null):s}function bw(s,e){let t,r,l,u,h;if(_w(s)){let m=s.getAttribute("action");r=m?ur(m,e):null,t=s.getAttribute("method")||ch,l=Tm(s.getAttribute("enctype"))||hh,u=new FormData(s)}else if(pw(s)||yw(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||m.getAttribute("action");if(r=p?ur(p,e):null,t=s.getAttribute("formmethod")||m.getAttribute("method")||ch,l=Tm(s.getAttribute("formenctype"))||Tm(m.getAttribute("enctype"))||hh,u=new FormData(m,s),!Ew()){let{name:_,type:E,value:T}=s;if(E==="image"){let A=_?`${_}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else _&&u.append(_,T)}}else{if(Kh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ch,r=null,l=hh,h=s}return u&&l==="text/plain"&&(h=u,u=void 0),{action:r,method:t.toLowerCase(),encType:l,formData:u,body:h}}function xg(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}async function Aw(s,e){if(s.id in e)return e[s.id];try{let t=await import(s.module);return e[s.id]=t,t}catch(t){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Sw(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function ww(s,e,t){let r=await Promise.all(s.map(async l=>{let u=e.routes[l.route.id];if(u){let h=await Aw(u,t);return h.links?h.links():[]}return[]}));return Cw(r.flat(1).filter(Sw).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Fv(s,e,t,r,l,u){let h=(p,_)=>t[_]?p.route.id!==t[_].route.id:!0,m=(p,_)=>{var E;return t[_].pathname!==p.pathname||((E=t[_].route.path)==null?void 0:E.endsWith("*"))&&t[_].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,_)=>h(p,_)||m(p,_)):u==="data"?e.filter((p,_)=>{var T;let E=r.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,_)||m(p,_))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function Rw(s,e,{includeHydrateFallback:t}={}){return Nw(s.map(r=>{let l=e.routes[r.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),t&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function Nw(s){return[...new Set(s)]}function kw(s){let e={},t=Object.keys(s).sort();for(let r of t)e[r]=s[r];return e}function Cw(s,e){let t=new Set;return new Set(e),s.reduce((r,l)=>{let u=JSON.stringify(kw(l));return t.has(u)||(t.add(u),r.push({key:u,link:l})),r},[])}function Iw(s){let e=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function jw(){let s=L.useContext(kl);return xg(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Dw(){let s=L.useContext(qh);return xg(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Eg=L.createContext(void 0);Eg.displayName="FrameworkContext";function V0(){let s=L.useContext(Eg);return xg(s,"You must render this element inside a <HydratedRouter> element"),s}function Ow(s,e){let t=L.useContext(Eg),[r,l]=L.useState(!1),[u,h]=L.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:_,onMouseLeave:E,onTouchStart:T}=e,A=L.useRef(null);L.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let q=$=>{$.forEach(H=>{h(H.isIntersecting)})},V=new IntersectionObserver(q,{threshold:.5});return A.current&&V.observe(A.current),()=>{V.disconnect()}}},[s]),L.useEffect(()=>{if(r){let q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(q)}}},[r]);let k=()=>{l(!0)},j=()=>{l(!1),h(!1)};return t?s!=="intent"?[u,A,{}]:[u,A,{onFocus:Qo(m,k),onBlur:Qo(p,j),onMouseEnter:Qo(_,k),onMouseLeave:Qo(E,j),onTouchStart:Qo(T,k)}]:[!1,A,{}]}function Qo(s,e){return t=>{s&&s(t),t.defaultPrevented||e(t)}}function Mw({page:s,...e}){let{router:t}=jw(),r=L.useMemo(()=>k0(t.routes,s,t.basename),[t.routes,s,t.basename]);return r?L.createElement(Pw,{page:s,matches:r,...e}):null}function Lw(s){let{manifest:e,routeModules:t}=V0(),[r,l]=L.useState([]);return L.useEffect(()=>{let u=!1;return ww(s,e,t).then(h=>{u||l(h)}),()=>{u=!0}},[s,e,t]),r}function Pw({page:s,matches:e,...t}){let r=yr(),{manifest:l,routeModules:u}=V0(),{loaderData:h,matches:m}=Dw(),p=L.useMemo(()=>Fv(s,e,m,l,r,"data"),[s,e,m,l,r]),_=L.useMemo(()=>Fv(s,e,m,l,r,"assets"),[s,e,m,l,r]),E=L.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let k=new Set,j=!1;if(e.forEach(V=>{var H;let $=l.routes[V.route.id];!$||!$.hasLoader||(!p.some(G=>G.route.id===V.route.id)&&V.route.id in h&&((H=u[V.route.id])!=null&&H.shouldRevalidate)||$.hasClientLoader?j=!0:k.add(V.route.id))}),k.size===0)return[];let q=Iw(s);return j&&k.size>0&&q.searchParams.set("_routes",e.filter(V=>k.has(V.route.id)).map(V=>V.route.id).join(",")),[q.pathname+q.search]},[h,r,l,p,e,s,u]),T=L.useMemo(()=>Rw(_,l),[_,l]),A=Lw(_);return L.createElement(L.Fragment,null,E.map(k=>L.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...t})),T.map(k=>L.createElement("link",{key:k,rel:"modulepreload",href:k,...t})),A.map(({key:k,link:j})=>L.createElement("link",{key:k,...j})))}function Vw(...s){return e=>{s.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var U0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{U0&&(window.__reactRouterVersion="7.2.0")}catch{}function Uw({basename:s,children:e,window:t}){let r=L.useRef();r.current==null&&(r.current=wS({window:t,v5Compat:!0}));let l=r.current,[u,h]=L.useState({action:l.action,location:l.location}),m=L.useCallback(p=>{L.startTransition(()=>h(p))},[h]);return L.useLayoutEffect(()=>l.listen(m),[l,m]),L.createElement(mw,{basename:s,children:e,location:u.location,navigationType:u.action,navigator:l})}var H0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$e=L.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:l,reloadDocument:u,replace:h,state:m,target:p,to:_,preventScrollReset:E,viewTransition:T,...A},k){let{basename:j}=L.useContext(ns),q=typeof _=="string"&&H0.test(_),V,$=!1;if(typeof _=="string"&&q&&(V=_,U0))try{let S=new URL(window.location.href),I=_.startsWith("//")?new URL(S.protocol+_):new URL(_),C=ur(I.pathname,j);I.origin===S.origin&&C!=null?_=C+I.search+I.hash:$=!0}catch{Zn(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=ZS(_,{relative:l}),[G,Z,J]=Ow(r,A),ae=qw(_,{replace:h,state:m,target:p,preventScrollReset:E,relative:l,viewTransition:T});function O(S){e&&e(S),S.defaultPrevented||ae(S)}let R=L.createElement("a",{...A,...J,href:V||H,onClick:$||u?e:O,ref:Vw(k,Z),target:p,"data-discover":!q&&t==="render"?"true":void 0});return G&&!q?L.createElement(L.Fragment,null,R,L.createElement(Mw,{page:H})):R});$e.displayName="Link";var Hw=L.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:l=!1,style:u,to:h,viewTransition:m,children:p,..._},E){let T=vu(h,{relative:_.relative}),A=yr(),k=L.useContext(qh),{navigator:j,basename:q}=L.useContext(ns),V=k!=null&&Qw(T)&&m===!0,$=j.encodeLocation?j.encodeLocation(T).pathname:T.pathname,H=A.pathname,G=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;t||(H=H.toLowerCase(),G=G?G.toLowerCase():null,$=$.toLowerCase()),G&&q&&(G=ur(G,q)||G);const Z=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let J=H===$||!l&&H.startsWith($)&&H.charAt(Z)==="/",ae=G!=null&&(G===$||!l&&G.startsWith($)&&G.charAt($.length)==="/"),O={isActive:J,isPending:ae,isTransitioning:V},R=J?e:void 0,S;typeof r=="function"?S=r(O):S=[r,J?"active":null,ae?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(O):u;return L.createElement($e,{..._,"aria-current":R,className:S,ref:E,style:I,to:h,viewTransition:m},typeof p=="function"?p(O):p)});Hw.displayName="NavLink";var Bw=L.forwardRef(({discover:s="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:l,state:u,method:h=ch,action:m,onSubmit:p,relative:_,preventScrollReset:E,viewTransition:T,...A},k)=>{let j=Gw(),q=$w(m,{relative:_}),V=h.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&H0.test(m),H=G=>{if(p&&p(G),G.defaultPrevented)return;G.preventDefault();let Z=G.nativeEvent.submitter,J=(Z==null?void 0:Z.getAttribute("formmethod"))||h;j(Z||G.currentTarget,{fetcherKey:e,method:J,navigate:t,replace:l,state:u,relative:_,preventScrollReset:E,viewTransition:T})};return L.createElement("form",{ref:k,method:V,action:q,onSubmit:r?p:H,...A,"data-discover":!$&&s==="render"?"true":void 0})});Bw.displayName="Form";function zw(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function B0(s){let e=L.useContext(kl);return rt(e,zw(s)),e}function qw(s,{target:e,replace:t,state:r,preventScrollReset:l,relative:u,viewTransition:h}={}){let m=Il(),p=yr(),_=vu(s,{relative:u});return L.useCallback(E=>{if(xw(E,e)){E.preventDefault();let T=t!==void 0?t:ou(p)===ou(_);m(s,{replace:T,state:r,preventScrollReset:l,relative:u,viewTransition:h})}},[p,m,_,t,r,e,s,l,u,h])}var Kw=0,Fw=()=>`__${String(++Kw)}__`;function Gw(){let{router:s}=B0("useSubmit"),{basename:e}=L.useContext(ns),t=cw();return L.useCallback(async(r,l={})=>{let{action:u,method:h,encType:m,formData:p,body:_}=bw(r,e);if(l.navigate===!1){let E=l.fetcherKey||Fw();await s.fetch(E,t,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:_,formMethod:l.method||h,formEncType:l.encType||m,flushSync:l.flushSync})}else await s.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:_,formMethod:l.method||h,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[s,e,t])}function $w(s,{relative:e}={}){let{basename:t}=L.useContext(ns),r=L.useContext(ss);rt(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),u={...vu(s||".",{relative:e})},h=yr();if(s==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!s||s===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:ra([t,u.pathname])),ou(u)}function Qw(s,e={}){let t=L.useContext(D0);rt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=B0("useViewTransitionState"),l=vu(s,{relative:e.relative});if(!t.isTransitioning)return!1;let u=ur(t.currentLocation.pathname,r)||t.currentLocation.pathname,h=ur(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Th(l.pathname,h)!=null||Th(l.pathname,u)!=null}new TextEncoder;document.addEventListener("DOMContentLoaded",function(){const s=["/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0171-high.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_113.jpg","/AimRV/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg"];function e(){const t=document.querySelectorAll(".dynamic-background");if(t.length===0){setTimeout(e,100);return}let r=s;try{const l=JSON.parse(localStorage.getItem("aimrv-background-images"));l&&Array.isArray(l)&&l.length>0&&(r=l)}catch(l){console.error("Error loading custom background images:",l)}t.forEach(function(l){let u=0;l.style.backgroundImage=`url(${r[u]})`,l.style.backgroundSize="cover",l.style.backgroundPosition="center",l.style.backgroundRepeat="no-repeat";const h=document.createElement("div");h.className="background-overlay",h.style.position="absolute",h.style.top="0",h.style.left="0",h.style.width="100%",h.style.height="100%",h.style.backgroundSize="cover",h.style.backgroundPosition="center",h.style.opacity="0",h.style.transition="opacity 2s ease-in-out",h.style.zIndex="1",getComputedStyle(l).position==="static"&&(l.style.position="relative"),Array.from(l.children).forEach(p=>{p!==h&&(p.style.zIndex===""||parseInt(p.style.zIndex)<10)&&(p.style.position="relative",p.style.zIndex="10")}),l.appendChild(h);function m(){const p=(u+1)%r.length;h.style.backgroundImage=`url(${r[p]})`,h.style.opacity="1",setTimeout(()=>{l.style.backgroundImage=`url(${r[p]})`,h.style.opacity="0",u=p},2e3)}setInterval(m,5e3)}),window.addEventListener("storage",function(l){if(l.key==="aimrv-background-images")try{const u=JSON.parse(l.newValue);u&&Array.isArray(u)&&u.length>0&&(r=u)}catch(u){console.error("Error updating background images:",u)}})}e()});const Ww=()=>{};var Gv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=function(s){const e=[];let t=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[t++]=l:l<2048?(e[t++]=l>>6|192,e[t++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[t++]=l>>18|240,e[t++]=l>>12&63|128,e[t++]=l>>6&63|128,e[t++]=l&63|128):(e[t++]=l>>12|224,e[t++]=l>>6&63|128,e[t++]=l&63|128)}return e},Yw=function(s){const e=[];let t=0,r=0;for(;t<s.length;){const l=s[t++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[t++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[t++],h=s[t++],m=s[t++],p=((l&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const u=s[t++],h=s[t++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|h&63)}}return e.join("")},q0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],h=l+1<s.length,m=h?s[l+1]:0,p=l+2<s.length,_=p?s[l+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let A=(m&15)<<2|_>>6,k=_&63;p||(k=64,h||(A=64)),r.push(t[E],t[T],t[A],t[k])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(z0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Yw(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=t[s.charAt(l++)],m=l<s.length?t[s.charAt(l)]:0;++l;const _=l<s.length?t[s.charAt(l)]:64;++l;const T=l<s.length?t[s.charAt(l)]:64;if(++l,u==null||m==null||_==null||T==null)throw new Xw;const A=u<<2|m>>4;if(r.push(A),_!==64){const k=m<<4&240|_>>2;if(r.push(k),T!==64){const j=_<<6&192|T;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Xw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Zw=function(s){const e=z0(s);return q0.encodeByteArray(e,!0)},bh=function(s){return Zw(s).replace(/\./g,"")},K0=function(s){try{return q0.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=()=>Jw().__FIREBASE_DEFAULTS__,tR=()=>{if(typeof process>"u"||typeof Gv>"u")return;const s=Gv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},nR=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&K0(s[1]);return e&&JSON.parse(e)},Fh=()=>{try{return Ww()||eR()||tR()||nR()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},F0=s=>{var e,t;return(t=(e=Fh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[s]},G0=s=>{const e=F0(s);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},$0=()=>{var s;return(s=Fh())===null||s===void 0?void 0:s.config},Q0=s=>{var e;return(e=Fh())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},s);return[bh(JSON.stringify(t)),bh(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function rR(){var s;const e=(s=Fh())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lR(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function oR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uR(){const s=tn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function cR(){return!rR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hR(){try{return typeof indexedDB=="object"}catch{return!1}}function dR(){return new Promise((s,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),t||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{t=!1},l.onerror=()=>{var u;e(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR="FirebaseError";class Rs extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=fR,Object.setPrototypeOf(this,Rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xu.prototype.create)}}class xu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},l=`${this.service}/${e}`,u=this.errors[e],h=u?mR(u,r):"Error",m=`${this.serviceName}: ${h} (${l}).`;return new Rs(l,m,r)}}function mR(s,e){return s.replace(gR,(t,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const gR=/\{\$([^}]+)}/g;function pR(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function ai(s,e){if(s===e)return!0;const t=Object.keys(s),r=Object.keys(e);for(const l of t){if(!r.includes(l))return!1;const u=s[l],h=e[l];if($v(u)&&$v(h)){if(!ai(u,h))return!1}else if(u!==h)return!1}for(const l of r)if(!t.includes(l))return!1;return!0}function $v(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(s){const e=[];for(const[t,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Yo(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,u]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Xo(s){const e=s.indexOf("?");if(!e)return"";const t=s.indexOf("#",e);return s.substring(e,t>0?t:void 0)}function _R(s,e){const t=new yR(s,e);return t.subscribe.bind(t)}class yR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let l;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");vR(e,["next","error","complete"])?l=e:l={next:e,error:t,complete:r},l.next===void 0&&(l.next=bm),l.error===void 0&&(l.error=bm),l.complete===void 0&&(l.complete=bm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vR(s,e){if(typeof s!="object"||s===null)return!1;for(const t of e)if(t in s&&typeof s[t]=="function")return!0;return!1}function bm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(s){return s&&s._delegate?s._delegate:s}class cr{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new sR;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:t});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TR(e))try{this.getOrInitializeService({instanceIdentifier:ti})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=ti){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ti){return this.instances.has(e)}getOptions(e=ti){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&h.resolve(l)}return l}onInit(e,t){var r;const l=this.normalizeInstanceIdentifier(t),u=(r=this.onInitCallbacks.get(l))!==null&&r!==void 0?r:new Set;u.add(e),this.onInitCallbacks.set(l,u);const h=this.instances.get(l);return h&&e(h,l),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const l of r)try{l(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ER(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ti){return this.component?this.component.multipleInstances?e:ti:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ER(s){return s===ti?void 0:s}function TR(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new xR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Me||(Me={}));const AR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},SR=Me.INFO,wR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},RR=(s,e,...t)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=wR[e];if(l)console[l](`[${r}]  ${s.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tg{constructor(e){this.name=e,this._logLevel=SR,this._logHandler=RR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const NR=(s,e)=>e.some(t=>s instanceof t);let Qv,Wv;function kR(){return Qv||(Qv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CR(){return Wv||(Wv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Y0=new WeakMap,Um=new WeakMap,X0=new WeakMap,Am=new WeakMap,bg=new WeakMap;function IR(s){const e=new Promise((t,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",h)},u=()=>{t(rr(s.result)),l()},h=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&Y0.set(t,s)}).catch(()=>{}),bg.set(e,s),e}function jR(s){if(Um.has(s))return;const e=new Promise((t,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",h),s.removeEventListener("abort",h)},u=()=>{t(),l()},h=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",h),s.addEventListener("abort",h)});Um.set(s,e)}let Hm={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return Um.get(s);if(e==="objectStoreNames")return s.objectStoreNames||X0.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return rr(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function DR(s){Hm=s(Hm)}function OR(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=s.call(Sm(this),e,...t);return X0.set(r,e.sort?e.sort():[e]),rr(r)}:CR().includes(s)?function(...e){return s.apply(Sm(this),e),rr(Y0.get(this))}:function(...e){return rr(s.apply(Sm(this),e))}}function MR(s){return typeof s=="function"?OR(s):(s instanceof IDBTransaction&&jR(s),NR(s,kR())?new Proxy(s,Hm):s)}function rr(s){if(s instanceof IDBRequest)return IR(s);if(Am.has(s))return Am.get(s);const e=MR(s);return e!==s&&(Am.set(s,e),bg.set(e,s)),e}const Sm=s=>bg.get(s);function LR(s,e,{blocked:t,upgrade:r,blocking:l,terminated:u}={}){const h=indexedDB.open(s,e),m=rr(h);return r&&h.addEventListener("upgradeneeded",p=>{r(rr(h.result),p.oldVersion,p.newVersion,rr(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const PR=["get","getKey","getAll","getAllKeys","count"],VR=["put","add","delete","clear"],wm=new Map;function Yv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(wm.get(e))return wm.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,l=VR.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(l||PR.includes(t)))return;const u=async function(h,...m){const p=this.transaction(h,l?"readwrite":"readonly");let _=p.store;return r&&(_=_.index(m.shift())),(await Promise.all([_[t](...m),l&&p.done]))[0]};return wm.set(e,u),u}DR(s=>({...s,get:(e,t,r)=>Yv(e,t)||s.get(e,t,r),has:(e,t)=>!!Yv(e,t)||s.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(HR(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function HR(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bm="@firebase/app",Xv="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new Tg("@firebase/app"),BR="@firebase/app-compat",zR="@firebase/analytics-compat",qR="@firebase/analytics",KR="@firebase/app-check-compat",FR="@firebase/app-check",GR="@firebase/auth",$R="@firebase/auth-compat",QR="@firebase/database",WR="@firebase/data-connect",YR="@firebase/database-compat",XR="@firebase/functions",ZR="@firebase/functions-compat",JR="@firebase/installations",eN="@firebase/installations-compat",tN="@firebase/messaging",nN="@firebase/messaging-compat",sN="@firebase/performance",aN="@firebase/performance-compat",rN="@firebase/remote-config",iN="@firebase/remote-config-compat",lN="@firebase/storage",oN="@firebase/storage-compat",uN="@firebase/firestore",cN="@firebase/vertexai",hN="@firebase/firestore-compat",dN="firebase",fN="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="[DEFAULT]",mN={[Bm]:"fire-core",[BR]:"fire-core-compat",[qR]:"fire-analytics",[zR]:"fire-analytics-compat",[FR]:"fire-app-check",[KR]:"fire-app-check-compat",[GR]:"fire-auth",[$R]:"fire-auth-compat",[QR]:"fire-rtdb",[WR]:"fire-data-connect",[YR]:"fire-rtdb-compat",[XR]:"fire-fn",[ZR]:"fire-fn-compat",[JR]:"fire-iid",[eN]:"fire-iid-compat",[tN]:"fire-fcm",[nN]:"fire-fcm-compat",[sN]:"fire-perf",[aN]:"fire-perf-compat",[rN]:"fire-rc",[iN]:"fire-rc-compat",[lN]:"fire-gcs",[oN]:"fire-gcs-compat",[uN]:"fire-fst",[hN]:"fire-fst-compat",[cN]:"fire-vertex","fire-js":"fire-js",[dN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new Map,gN=new Map,qm=new Map;function Zv(s,e){try{s.container.addComponent(e)}catch(t){ua.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,t)}}function ri(s){const e=s.name;if(qm.has(e))return ua.debug(`There were multiple attempts to register component ${e}.`),!1;qm.set(e,s);for(const t of Ah.values())Zv(t,s);for(const t of gN.values())Zv(t,s);return!0}function Gh(s,e){const t=s.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),s.container.getProvider(e)}function An(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ir=new xu("app","Firebase",pN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new cr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=fN;function Z0(s,e={}){let t=s;typeof e!="object"&&(e={name:e});const r=Object.assign({name:zm,automaticDataCollectionEnabled:!1},e),l=r.name;if(typeof l!="string"||!l)throw ir.create("bad-app-name",{appName:String(l)});if(t||(t=$0()),!t)throw ir.create("no-options");const u=Ah.get(l);if(u){if(ai(t,u.options)&&ai(r,u.config))return u;throw ir.create("duplicate-app",{appName:l})}const h=new bR(l);for(const p of qm.values())h.addComponent(p);const m=new _N(t,r,h);return Ah.set(l,m),m}function Ag(s=zm){const e=Ah.get(s);if(!e&&s===zm&&$0())return Z0();if(!e)throw ir.create("no-app",{appName:s});return e}function Es(s,e,t){var r;let l=(r=mN[s])!==null&&r!==void 0?r:s;t&&(l+=`-${t}`);const u=l.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${l}" with version "${e}":`];u&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ua.warn(m.join(" "));return}ri(new cr(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="firebase-heartbeat-database",vN=1,uu="firebase-heartbeat-store";let Rm=null;function J0(){return Rm||(Rm=LR(yN,vN,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(uu)}catch(t){console.warn(t)}}}}).catch(s=>{throw ir.create("idb-open",{originalErrorMessage:s.message})})),Rm}async function xN(s){try{const t=(await J0()).transaction(uu),r=await t.objectStore(uu).get(eE(s));return await t.done,r}catch(e){if(e instanceof Rs)ua.warn(e.message);else{const t=ir.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ua.warn(t.message)}}}async function Jv(s,e){try{const r=(await J0()).transaction(uu,"readwrite");await r.objectStore(uu).put(e,eE(s)),await r.done}catch(t){if(t instanceof Rs)ua.warn(t.message);else{const r=ir.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ua.warn(r.message)}}}function eE(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=1024,TN=30;class bN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new SN(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=ex();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>TN){const h=wN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ua.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ex(),{heartbeatsToSend:r,unsentEntries:l}=AN(this._heartbeatsCache.heartbeats),u=bh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return ua.warn(t),""}}}function ex(){return new Date().toISOString().substring(0,10)}function AN(s,e=EN){const t=[];let r=s.slice();for(const l of s){const u=t.find(h=>h.agent===l.agent);if(u){if(u.dates.push(l.date),tx(t)>e){u.dates.pop();break}}else if(t.push({agent:l.agent,dates:[l.date]}),tx(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class SN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hR()?dR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await xN(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const l=await this.read();return Jv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const l=await this.read();return Jv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function tx(s){return bh(JSON.stringify({version:2,heartbeats:s})).length}function wN(s){if(s.length===0)return-1;let e=0,t=s[0].date;for(let r=1;r<s.length;r++)s[r].date<t&&(t=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(s){ri(new cr("platform-logger",e=>new UR(e),"PRIVATE")),ri(new cr("heartbeat",e=>new bN(e),"PRIVATE")),Es(Bm,Xv,s),Es(Bm,Xv,"esm2017"),Es("fire-js","")}RN("");var NN="firebase",kN="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Es(NN,kN,"app");var nx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lr,tE;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,R){function S(){}S.prototype=R.prototype,O.D=R.prototype,O.prototype=new S,O.prototype.constructor=O,O.C=function(I,C,P){for(var N=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)N[Ee-2]=arguments[Ee];return R.prototype[C].apply(I,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(O,R,S){S||(S=0);var I=Array(16);if(typeof R=="string")for(var C=0;16>C;++C)I[C]=R.charCodeAt(S++)|R.charCodeAt(S++)<<8|R.charCodeAt(S++)<<16|R.charCodeAt(S++)<<24;else for(C=0;16>C;++C)I[C]=R[S++]|R[S++]<<8|R[S++]<<16|R[S++]<<24;R=O.g[0],S=O.g[1],C=O.g[2];var P=O.g[3],N=R+(P^S&(C^P))+I[0]+3614090360&4294967295;R=S+(N<<7&4294967295|N>>>25),N=P+(C^R&(S^C))+I[1]+3905402710&4294967295,P=R+(N<<12&4294967295|N>>>20),N=C+(S^P&(R^S))+I[2]+606105819&4294967295,C=P+(N<<17&4294967295|N>>>15),N=S+(R^C&(P^R))+I[3]+3250441966&4294967295,S=C+(N<<22&4294967295|N>>>10),N=R+(P^S&(C^P))+I[4]+4118548399&4294967295,R=S+(N<<7&4294967295|N>>>25),N=P+(C^R&(S^C))+I[5]+1200080426&4294967295,P=R+(N<<12&4294967295|N>>>20),N=C+(S^P&(R^S))+I[6]+2821735955&4294967295,C=P+(N<<17&4294967295|N>>>15),N=S+(R^C&(P^R))+I[7]+4249261313&4294967295,S=C+(N<<22&4294967295|N>>>10),N=R+(P^S&(C^P))+I[8]+1770035416&4294967295,R=S+(N<<7&4294967295|N>>>25),N=P+(C^R&(S^C))+I[9]+2336552879&4294967295,P=R+(N<<12&4294967295|N>>>20),N=C+(S^P&(R^S))+I[10]+4294925233&4294967295,C=P+(N<<17&4294967295|N>>>15),N=S+(R^C&(P^R))+I[11]+2304563134&4294967295,S=C+(N<<22&4294967295|N>>>10),N=R+(P^S&(C^P))+I[12]+1804603682&4294967295,R=S+(N<<7&4294967295|N>>>25),N=P+(C^R&(S^C))+I[13]+4254626195&4294967295,P=R+(N<<12&4294967295|N>>>20),N=C+(S^P&(R^S))+I[14]+2792965006&4294967295,C=P+(N<<17&4294967295|N>>>15),N=S+(R^C&(P^R))+I[15]+1236535329&4294967295,S=C+(N<<22&4294967295|N>>>10),N=R+(C^P&(S^C))+I[1]+4129170786&4294967295,R=S+(N<<5&4294967295|N>>>27),N=P+(S^C&(R^S))+I[6]+3225465664&4294967295,P=R+(N<<9&4294967295|N>>>23),N=C+(R^S&(P^R))+I[11]+643717713&4294967295,C=P+(N<<14&4294967295|N>>>18),N=S+(P^R&(C^P))+I[0]+3921069994&4294967295,S=C+(N<<20&4294967295|N>>>12),N=R+(C^P&(S^C))+I[5]+3593408605&4294967295,R=S+(N<<5&4294967295|N>>>27),N=P+(S^C&(R^S))+I[10]+38016083&4294967295,P=R+(N<<9&4294967295|N>>>23),N=C+(R^S&(P^R))+I[15]+3634488961&4294967295,C=P+(N<<14&4294967295|N>>>18),N=S+(P^R&(C^P))+I[4]+3889429448&4294967295,S=C+(N<<20&4294967295|N>>>12),N=R+(C^P&(S^C))+I[9]+568446438&4294967295,R=S+(N<<5&4294967295|N>>>27),N=P+(S^C&(R^S))+I[14]+3275163606&4294967295,P=R+(N<<9&4294967295|N>>>23),N=C+(R^S&(P^R))+I[3]+4107603335&4294967295,C=P+(N<<14&4294967295|N>>>18),N=S+(P^R&(C^P))+I[8]+1163531501&4294967295,S=C+(N<<20&4294967295|N>>>12),N=R+(C^P&(S^C))+I[13]+2850285829&4294967295,R=S+(N<<5&4294967295|N>>>27),N=P+(S^C&(R^S))+I[2]+4243563512&4294967295,P=R+(N<<9&4294967295|N>>>23),N=C+(R^S&(P^R))+I[7]+1735328473&4294967295,C=P+(N<<14&4294967295|N>>>18),N=S+(P^R&(C^P))+I[12]+2368359562&4294967295,S=C+(N<<20&4294967295|N>>>12),N=R+(S^C^P)+I[5]+4294588738&4294967295,R=S+(N<<4&4294967295|N>>>28),N=P+(R^S^C)+I[8]+2272392833&4294967295,P=R+(N<<11&4294967295|N>>>21),N=C+(P^R^S)+I[11]+1839030562&4294967295,C=P+(N<<16&4294967295|N>>>16),N=S+(C^P^R)+I[14]+4259657740&4294967295,S=C+(N<<23&4294967295|N>>>9),N=R+(S^C^P)+I[1]+2763975236&4294967295,R=S+(N<<4&4294967295|N>>>28),N=P+(R^S^C)+I[4]+1272893353&4294967295,P=R+(N<<11&4294967295|N>>>21),N=C+(P^R^S)+I[7]+4139469664&4294967295,C=P+(N<<16&4294967295|N>>>16),N=S+(C^P^R)+I[10]+3200236656&4294967295,S=C+(N<<23&4294967295|N>>>9),N=R+(S^C^P)+I[13]+681279174&4294967295,R=S+(N<<4&4294967295|N>>>28),N=P+(R^S^C)+I[0]+3936430074&4294967295,P=R+(N<<11&4294967295|N>>>21),N=C+(P^R^S)+I[3]+3572445317&4294967295,C=P+(N<<16&4294967295|N>>>16),N=S+(C^P^R)+I[6]+76029189&4294967295,S=C+(N<<23&4294967295|N>>>9),N=R+(S^C^P)+I[9]+3654602809&4294967295,R=S+(N<<4&4294967295|N>>>28),N=P+(R^S^C)+I[12]+3873151461&4294967295,P=R+(N<<11&4294967295|N>>>21),N=C+(P^R^S)+I[15]+530742520&4294967295,C=P+(N<<16&4294967295|N>>>16),N=S+(C^P^R)+I[2]+3299628645&4294967295,S=C+(N<<23&4294967295|N>>>9),N=R+(C^(S|~P))+I[0]+4096336452&4294967295,R=S+(N<<6&4294967295|N>>>26),N=P+(S^(R|~C))+I[7]+1126891415&4294967295,P=R+(N<<10&4294967295|N>>>22),N=C+(R^(P|~S))+I[14]+2878612391&4294967295,C=P+(N<<15&4294967295|N>>>17),N=S+(P^(C|~R))+I[5]+4237533241&4294967295,S=C+(N<<21&4294967295|N>>>11),N=R+(C^(S|~P))+I[12]+1700485571&4294967295,R=S+(N<<6&4294967295|N>>>26),N=P+(S^(R|~C))+I[3]+2399980690&4294967295,P=R+(N<<10&4294967295|N>>>22),N=C+(R^(P|~S))+I[10]+4293915773&4294967295,C=P+(N<<15&4294967295|N>>>17),N=S+(P^(C|~R))+I[1]+2240044497&4294967295,S=C+(N<<21&4294967295|N>>>11),N=R+(C^(S|~P))+I[8]+1873313359&4294967295,R=S+(N<<6&4294967295|N>>>26),N=P+(S^(R|~C))+I[15]+4264355552&4294967295,P=R+(N<<10&4294967295|N>>>22),N=C+(R^(P|~S))+I[6]+2734768916&4294967295,C=P+(N<<15&4294967295|N>>>17),N=S+(P^(C|~R))+I[13]+1309151649&4294967295,S=C+(N<<21&4294967295|N>>>11),N=R+(C^(S|~P))+I[4]+4149444226&4294967295,R=S+(N<<6&4294967295|N>>>26),N=P+(S^(R|~C))+I[11]+3174756917&4294967295,P=R+(N<<10&4294967295|N>>>22),N=C+(R^(P|~S))+I[2]+718787259&4294967295,C=P+(N<<15&4294967295|N>>>17),N=S+(P^(C|~R))+I[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(C+(N<<21&4294967295|N>>>11))&4294967295,O.g[2]=O.g[2]+C&4294967295,O.g[3]=O.g[3]+P&4294967295}r.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var S=R-this.blockSize,I=this.B,C=this.h,P=0;P<R;){if(C==0)for(;P<=S;)l(this,O,P),P+=this.blockSize;if(typeof O=="string"){for(;P<R;)if(I[C++]=O.charCodeAt(P++),C==this.blockSize){l(this,I),C=0;break}}else for(;P<R;)if(I[C++]=O[P++],C==this.blockSize){l(this,I),C=0;break}}this.h=C,this.o+=R},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var S=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=S&255,S/=256;for(this.u(O),O=Array(16),R=S=0;4>R;++R)for(var I=0;32>I;I+=8)O[S++]=this.g[R]>>>I&255;return O};function u(O,R){var S=m;return Object.prototype.hasOwnProperty.call(S,O)?S[O]:S[O]=R(O)}function h(O,R){this.h=R;for(var S=[],I=!0,C=O.length-1;0<=C;C--){var P=O[C]|0;I&&P==R||(S[C]=P,I=!1)}this.g=S}var m={};function p(O){return-128<=O&&128>O?u(O,function(R){return new h([R|0],0>R?-1:0)}):new h([O|0],0>O?-1:0)}function _(O){if(isNaN(O)||!isFinite(O))return T;if(0>O)return V(_(-O));for(var R=[],S=1,I=0;O>=S;I++)R[I]=O/S|0,S*=4294967296;return new h(R,0)}function E(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return V(E(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=_(Math.pow(R,8)),I=T,C=0;C<O.length;C+=8){var P=Math.min(8,O.length-C),N=parseInt(O.substring(C,C+P),R);8>P?(P=_(Math.pow(R,P)),I=I.j(P).add(_(N))):(I=I.j(S),I=I.add(_(N)))}return I}var T=p(0),A=p(1),k=p(16777216);s=h.prototype,s.m=function(){if(q(this))return-V(this).m();for(var O=0,R=1,S=0;S<this.g.length;S++){var I=this.i(S);O+=(0<=I?I:4294967296+I)*R,R*=4294967296}return O},s.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(j(this))return"0";if(q(this))return"-"+V(this).toString(O);for(var R=_(Math.pow(O,6)),S=this,I="";;){var C=Z(S,R).g;S=$(S,C.j(R));var P=((0<S.g.length?S.g[0]:S.h)>>>0).toString(O);if(S=C,j(S))return P+I;for(;6>P.length;)P="0"+P;I=P+I}},s.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function j(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function q(O){return O.h==-1}s.l=function(O){return O=$(this,O),q(O)?-1:j(O)?0:1};function V(O){for(var R=O.g.length,S=[],I=0;I<R;I++)S[I]=~O.g[I];return new h(S,~O.h).add(A)}s.abs=function(){return q(this)?V(this):this},s.add=function(O){for(var R=Math.max(this.g.length,O.g.length),S=[],I=0,C=0;C<=R;C++){var P=I+(this.i(C)&65535)+(O.i(C)&65535),N=(P>>>16)+(this.i(C)>>>16)+(O.i(C)>>>16);I=N>>>16,P&=65535,N&=65535,S[C]=N<<16|P}return new h(S,S[S.length-1]&-2147483648?-1:0)};function $(O,R){return O.add(V(R))}s.j=function(O){if(j(this)||j(O))return T;if(q(this))return q(O)?V(this).j(V(O)):V(V(this).j(O));if(q(O))return V(this.j(V(O)));if(0>this.l(k)&&0>O.l(k))return _(this.m()*O.m());for(var R=this.g.length+O.g.length,S=[],I=0;I<2*R;I++)S[I]=0;for(I=0;I<this.g.length;I++)for(var C=0;C<O.g.length;C++){var P=this.i(I)>>>16,N=this.i(I)&65535,Ee=O.i(C)>>>16,Ie=O.i(C)&65535;S[2*I+2*C]+=N*Ie,H(S,2*I+2*C),S[2*I+2*C+1]+=P*Ie,H(S,2*I+2*C+1),S[2*I+2*C+1]+=N*Ee,H(S,2*I+2*C+1),S[2*I+2*C+2]+=P*Ee,H(S,2*I+2*C+2)}for(I=0;I<R;I++)S[I]=S[2*I+1]<<16|S[2*I];for(I=R;I<2*R;I++)S[I]=0;return new h(S,0)};function H(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function G(O,R){this.g=O,this.h=R}function Z(O,R){if(j(R))throw Error("division by zero");if(j(O))return new G(T,T);if(q(O))return R=Z(V(O),R),new G(V(R.g),V(R.h));if(q(R))return R=Z(O,V(R)),new G(V(R.g),R.h);if(30<O.g.length){if(q(O)||q(R))throw Error("slowDivide_ only works with positive integers.");for(var S=A,I=R;0>=I.l(O);)S=J(S),I=J(I);var C=ae(S,1),P=ae(I,1);for(I=ae(I,2),S=ae(S,2);!j(I);){var N=P.add(I);0>=N.l(O)&&(C=C.add(S),P=N),I=ae(I,1),S=ae(S,1)}return R=$(O,C.j(R)),new G(C,R)}for(C=T;0<=O.l(R);){for(S=Math.max(1,Math.floor(O.m()/R.m())),I=Math.ceil(Math.log(S)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),P=_(S),N=P.j(R);q(N)||0<N.l(O);)S-=I,P=_(S),N=P.j(R);j(P)&&(P=A),C=C.add(P),O=$(O,N)}return new G(C,O)}s.A=function(O){return Z(this,O).h},s.and=function(O){for(var R=Math.max(this.g.length,O.g.length),S=[],I=0;I<R;I++)S[I]=this.i(I)&O.i(I);return new h(S,this.h&O.h)},s.or=function(O){for(var R=Math.max(this.g.length,O.g.length),S=[],I=0;I<R;I++)S[I]=this.i(I)|O.i(I);return new h(S,this.h|O.h)},s.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),S=[],I=0;I<R;I++)S[I]=this.i(I)^O.i(I);return new h(S,this.h^O.h)};function J(O){for(var R=O.g.length+1,S=[],I=0;I<R;I++)S[I]=O.i(I)<<1|O.i(I-1)>>>31;return new h(S,O.h)}function ae(O,R){var S=R>>5;R%=32;for(var I=O.g.length-S,C=[],P=0;P<I;P++)C[P]=0<R?O.i(P+S)>>>R|O.i(P+S+1)<<32-R:O.i(P+S);return new h(C,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,tE=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=_,h.fromString=E,lr=h}).apply(typeof nx<"u"?nx:typeof self<"u"?self:typeof window<"u"?window:{});var th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nE,Zo,sE,dh,Km,aE,rE,iE;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof th=="object"&&th];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=t(this);function l(c,y){if(y)e:{var v=r;c=c.split(".");for(var w=0;w<c.length-1;w++){var F=c[w];if(!(F in v))break e;v=v[F]}c=c[c.length-1],w=v[c],y=y(w),y!=w&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,w=!1,F={next:function(){if(!w&&v<c.length){var Y=v++;return{value:y(Y,c[Y]),done:!1}}return w=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}l("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function _(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function T(c,y,v){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,w),c.apply(y,F)}}return function(){return c.apply(y,arguments)}}function A(c,y,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,A.apply(null,arguments)}function k(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function j(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(w,F,Y){for(var oe=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)oe[Ue-2]=arguments[Ue];return y.prototype[F].apply(w,oe)}}function q(c){const y=c.length;if(0<y){const v=Array(y);for(let w=0;w<y;w++)v[w]=c[w];return v}return[]}function V(c,y){for(let v=1;v<arguments.length;v++){const w=arguments[v];if(p(w)){const F=c.length||0,Y=w.length||0;c.length=F+Y;for(let oe=0;oe<Y;oe++)c[F+oe]=w[oe]}else c.push(w)}}class ${constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function H(c){return/^[\s\xa0]*$/.test(c)}function G(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function Z(c){return Z[" "](c),c}Z[" "]=function(){};var J=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function ae(c,y,v){for(const w in c)y.call(v,c[w],w,c)}function O(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function R(c){const y={};for(const v in c)y[v]=c[v];return y}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,y){let v,w;for(let F=1;F<arguments.length;F++){w=arguments[F];for(v in w)c[v]=w[v];for(let Y=0;Y<S.length;Y++)v=S[Y],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function C(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function P(c){m.setTimeout(()=>{throw c},0)}function N(){var c=me;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ee{constructor(){this.h=this.g=null}add(y,v){const w=Ie.get();w.set(y,v),this.h?this.h.next=w:this.g=w,this.h=w}}var Ie=new $(()=>new ie,c=>c.reset());class ie{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,pe=!1,me=new Ee,U=()=>{const c=m.Promise.resolve(void 0);ye=()=>{c.then(le)}};var le=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(v){P(v)}var y=Ie;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}pe=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function Ne(c,y){if(ue.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(J){e:{try{Z(y.nodeName);var F=!0;break e}catch{}F=!1}F||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ke[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ne.aa.h.call(this)}}j(Ne,ue);var ke={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var vt="closure_listenable_"+(1e6*Math.random()|0),qe=0;function ht(c,y,v,w,F){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!w,this.ha=F,this.key=++qe,this.da=this.fa=!1}function Ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function nn(c){this.src=c,this.g={},this.h=0}nn.prototype.add=function(c,y,v,w,F){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var oe=Rn(c,y,w,F);return-1<oe?(y=c[oe],v||(y.fa=!1)):(y=new ht(y,this.src,Y,!!w,F),y.fa=v,c.push(y)),y};function Ns(c,y){var v=y.type;if(v in c.g){var w=c.g[v],F=Array.prototype.indexOf.call(w,y,void 0),Y;(Y=0<=F)&&Array.prototype.splice.call(w,F,1),Y&&(Ye(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Rn(c,y,v,w){for(var F=0;F<c.length;++F){var Y=c[F];if(!Y.da&&Y.listener==y&&Y.capture==!!v&&Y.ha==w)return F}return-1}var ga="closure_lm_"+(1e6*Math.random()|0),pa={};function ks(c,y,v,w,F){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)ks(c,y[Y],v,w,F);return null}return v=Du(v),c&&c[vt]?c.K(y,v,_(w)?!!w.capture:!1,F):Ul(c,y,v,!1,w,F)}function Ul(c,y,v,w,F,Y){if(!y)throw Error("Invalid event type");var oe=_(F)?!!F.capture:!!F,Ue=Hl(c);if(Ue||(c[ga]=Ue=new nn(c)),v=Ue.add(y,v,w,oe,Y),v.proxy)return v;if(w=vi(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)ce||(F=oe),F===void 0&&(F=!1),c.addEventListener(y.toString(),w,F);else if(c.attachEvent)c.attachEvent(Ei(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function vi(){function c(v){return y.call(c.src,c.listener,v)}const y=pd;return c}function xi(c,y,v,w,F){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)xi(c,y[Y],v,w,F);else w=_(w)?!!w.capture:!!w,v=Du(v),c&&c[vt]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],v=Rn(Y,v,w,F),-1<v&&(Ye(Y[v]),Array.prototype.splice.call(Y,v,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=Hl(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Rn(y,v,w,F)),(v=-1<c?y[c]:null)&&br(v))}function br(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[vt])Ns(y.i,c);else{var v=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(v,w,c.capture):y.detachEvent?y.detachEvent(Ei(v),w):y.addListener&&y.removeListener&&y.removeListener(w),(v=Hl(y))?(Ns(v,c),v.h==0&&(v.src=null,y[ga]=null)):Ye(c)}}}function Ei(c){return c in pa?pa[c]:pa[c]="on"+c}function pd(c,y){if(c.da)c=!0;else{y=new Ne(y,this);var v=c.listener,w=c.ha||c.src;c.fa&&br(c),c=v.call(w,y)}return c}function Hl(c){return c=c[ga],c instanceof nn?c:null}var hn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Du(c){return typeof c=="function"?c:(c[hn]||(c[hn]=function(y){return c.handleEvent(y)}),c[hn])}function wt(){ge.call(this),this.i=new nn(this),this.M=this,this.F=null}j(wt,ge),wt.prototype[vt]=!0,wt.prototype.removeEventListener=function(c,y,v,w){xi(this,c,y,v,w)};function Ot(c,y){var v,w=c.F;if(w)for(v=[];w;w=w.F)v.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new ue(y,c);else if(y instanceof ue)y.target=y.target||c;else{var F=y;y=new ue(w,c),I(y,F)}if(F=!0,v)for(var Y=v.length-1;0<=Y;Y--){var oe=y.g=v[Y];F=Cs(oe,w,!0,y)&&F}if(oe=y.g=c,F=Cs(oe,w,!0,y)&&F,F=Cs(oe,w,!1,y)&&F,v)for(Y=0;Y<v.length;Y++)oe=y.g=v[Y],F=Cs(oe,w,!1,y)&&F}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],w=0;w<v.length;w++)Ye(v[w]);delete c.g[y],c.h--}}this.F=null},wt.prototype.K=function(c,y,v,w){return this.i.add(String(c),y,!1,v,w)},wt.prototype.L=function(c,y,v,w){return this.i.add(String(c),y,!0,v,w)};function Cs(c,y,v,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,Y=0;Y<y.length;++Y){var oe=y[Y];if(oe&&!oe.da&&oe.capture==v){var Ue=oe.listener,Nt=oe.ha||oe.src;oe.fa&&Ns(c.i,oe),F=Ue.call(Nt,w)!==!1&&F}}return F&&!w.defaultPrevented}function Ou(c,y,v){if(typeof c=="function")v&&(c=A(c,v));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Bl(c){c.g=Ou(()=>{c.g=null,c.i&&(c.i=!1,Bl(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class _d extends ge{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Bl(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ar(c){ge.call(this),this.h=c,this.g={}}j(Ar,ge);var _a=[];function Wt(c){ae(c.g,function(y,v){this.g.hasOwnProperty(v)&&br(y)},c),c.g={}}Ar.prototype.N=function(){Ar.aa.N.call(this),Wt(this)},Ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zl=m.JSON.stringify,as=m.JSON.parse,sn=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function ql(){}ql.prototype.h=null;function Mu(c){return c.h||(c.h=c.i())}function Lu(){}var rs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ya(){ue.call(this,"d")}j(ya,ue);function Fn(){ue.call(this,"c")}j(Fn,ue);var Nn={},va=null;function Ti(){return va=va||new wt}Nn.La="serverreachability";function Kl(c){ue.call(this,Nn.La,c)}j(Kl,ue);function xa(c){const y=Ti();Ot(y,new Kl(y))}Nn.STAT_EVENT="statevent";function bi(c,y){ue.call(this,Nn.STAT_EVENT,c),this.stat=y}j(bi,ue);function pt(c){const y=Ti();Ot(y,new bi(y,c))}Nn.Ma="timingevent";function Pu(c,y){ue.call(this,Nn.Ma,c),this.size=y}j(Pu,ue);function Ea(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Ta(){this.g=!0}Ta.prototype.xa=function(){this.g=!1};function Vu(c,y,v,w,F,Y){c.info(function(){if(c.g)if(Y)for(var oe="",Ue=Y.split("&"),Nt=0;Nt<Ue.length;Nt++){var He=Ue[Nt].split("=");if(1<He.length){var Pt=He[0];He=He[1];var kt=Pt.split("_");oe=2<=kt.length&&kt[1]=="type"?oe+(Pt+"="+He+"&"):oe+(Pt+"=redacted&")}}else oe=null;else oe=Y;return"XMLHTTP REQ ("+w+") [attempt "+F+"]: "+y+`
`+v+`
`+oe})}function Uu(c,y,v,w,F,Y,oe){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+F+"]: "+y+`
`+v+`
`+Y+" "+oe})}function ba(c,y,v,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Mt(c,v)+(w?" "+w:"")})}function is(c,y){c.info(function(){return"TIMEOUT: "+y})}Ta.prototype.info=function(){};function Mt(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var w=v[c];if(!(2>w.length)){var F=w[1];if(Array.isArray(F)&&!(1>F.length)){var Y=F[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var oe=1;oe<F.length;oe++)F[oe]=""}}}}return zl(v)}catch{return y}}var Rt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Is={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sr;function Ai(){}j(Ai,ql),Ai.prototype.g=function(){return new XMLHttpRequest},Ai.prototype.i=function(){return{}},Sr=new Ai;function ls(c,y,v,w){this.j=c,this.i=y,this.l=v,this.R=w||1,this.U=new Ar(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fl}function Fl(){this.i=null,this.g="",this.h=!1}var Aa={},wr={};function Gn(c,y,v){c.L=1,c.v=kr(dt(y)),c.m=v,c.P=!0,js(c,null)}function js(c,y){c.F=Date.now(),it(c),c.A=dt(c.v);var v=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),Ms(v.i,"t",w),c.C=0,v=c.j.J,c.h=new Fl,c.g=Ju(c.j,v?y:null,!c.m),0<c.O&&(c.M=new _d(A(c.Y,c,c.g),c.O)),y=c.U,v=c.g,w=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(_a[0]=F.toString()),F=_a);for(var Y=0;Y<F.length;Y++){var oe=ks(v,F[Y],w||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),xa(),Vu(c.i,c.u,c.A,c.l,c.R,c.m)}ls.prototype.ca=function(c){c=c.target;const y=this.M;y&&Dn(c)==3?y.j():this.Y(c)},ls.prototype.Y=function(c){try{if(c==this.g)e:{const kt=Dn(this.g);var y=this.g.Ba();const Us=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||Fu(this.g)))){this.J||kt!=4||y==7||(y==8||0>=Us?xa(3):xa(2)),Si(this);var v=this.g.Z();this.X=v;t:if(Sa(this)){var w=Fu(this.g);c="";var F=w.length,Y=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dn(this),_n(this);var oe="";break t}this.h.i=new m.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(Y&&y==F-1)});w.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=v==200,Uu(this.i,this.u,this.A,this.l,this.R,kt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,Nt=this.g;if((Ue=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Ue)){var He=Ue;break t}}He=null}if(v=He)ba(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yn(this,v);else{this.o=!1,this.s=3,pt(12),dn(this),_n(this);break e}}if(this.P){v=!0;let zt;for(;!this.J&&this.C<oe.length;)if(zt=wa(this,oe),zt==wr){kt==4&&(this.s=4,pt(14),v=!1),ba(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Aa){this.s=4,pt(15),ba(this.i,this.l,oe,"[Invalid Chunk]"),v=!1;break}else ba(this.i,this.l,zt,null),yn(this,zt);if(Sa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||oe.length!=0||this.h.h||(this.s=1,pt(16),v=!1),this.o=this.o&&v,!v)ba(this.i,this.l,oe,"[Invalid Chunked Response]"),dn(this),_n(this);else if(0<oe.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Lr(Pt),Pt.M=!0,pt(11))}}else ba(this.i,this.l,oe,null),yn(this,oe);kt==4&&dn(this),this.o&&!this.J&&(kt==4?Yu(this.j,this):(this.o=!1,it(this)))}else bd(this.g),v==400&&0<oe.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),dn(this),_n(this)}}}catch{}finally{}};function Sa(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function wa(c,y){var v=c.C,w=y.indexOf(`
`,v);return w==-1?wr:(v=Number(y.substring(v,w)),isNaN(v)?Aa:(w+=1,w+v>y.length?wr:(y=y.slice(w,w+v),c.C=w+v,y)))}ls.prototype.cancel=function(){this.J=!0,dn(this)};function it(c){c.S=Date.now()+c.I,Gl(c,c.I)}function Gl(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ea(A(c.ba,c),y)}function Si(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ls.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(is(this.i,this.A),this.L!=2&&(xa(),pt(17)),dn(this),this.s=2,_n(this)):Gl(this,this.S-c)};function _n(c){c.j.G==0||c.J||Yu(c.j,c)}function dn(c){Si(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Wt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function yn(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Ra(v.h,c))){if(!c.K&&Ra(v.h,c)&&v.G==3){try{var w=v.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var F=w;if(F[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Mi(v),Di(v);else break e;so(v),pt(18)}}else v.za=F[1],0<v.za-v.T&&37500>F[2]&&v.F&&v.v==0&&!v.C&&(v.C=Ea(A(v.Za,v),6e3));if(1>=Hu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Vs(v,11)}else if((c.K||v.g==c)&&Mi(v),!H(y))for(F=v.Da.g.parse(y),y=0;y<F.length;y++){let He=F[y];if(v.T=He[0],He=He[1],v.G==2)if(He[0]=="c"){v.K=He[1],v.ia=He[2];const Pt=He[3];Pt!=null&&(v.la=Pt,v.j.info("VER="+v.la));const kt=He[4];kt!=null&&(v.Aa=kt,v.j.info("SVER="+v.Aa));const Us=He[5];Us!=null&&typeof Us=="number"&&0<Us&&(w=1.5*Us,v.L=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const zt=c.g;if(zt){const ms=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ms){var Y=w.h;Y.g||ms.indexOf("spdy")==-1&&ms.indexOf("quic")==-1&&ms.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Na(Y,Y.h),Y.h=null))}if(w.D){const ro=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;ro&&(w.ya=ro,Ke(w.I,w.D,ro))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),w=v;var oe=c;if(w.qa=Zu(w,w.J?w.ia:null,w.W),oe.K){kn(w.h,oe);var Ue=oe,Nt=w.L;Nt&&(Ue.I=Nt),Ue.B&&(Si(Ue),it(Ue)),w.g=oe}else Qu(w);0<v.i.length&&Oi(v)}else He[0]!="stop"&&He[0]!="close"||Vs(v,7);else v.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Vs(v,7):to(v):He[0]!="noop"&&v.l&&v.l.ta(He),v.v=0)}}xa(4)}catch{}}var yd=class{constructor(c,y){this.g=c,this.map=y}};function $l(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ql(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Hu(c){return c.h?1:c.g?c.g.size:0}function Ra(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Na(c,y){c.g?c.g.add(y):c.h=y}function kn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}$l.prototype.cancel=function(){if(this.i=an(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function an(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return q(c.i)}function Bu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,w=0;w<v;w++)y.push(c[w]);return y}y=[],v=0;for(w in c)y[v++]=c[w];return y}function vd(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const w in c)y[v++]=w;return y}}}function Rr(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=vd(c),w=Bu(c),F=w.length,Y=0;Y<F;Y++)y.call(void 0,w[Y],v&&v[Y],c)}var Wl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wi(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var w=c[v].indexOf("="),F=null;if(0<=w){var Y=c[v].substring(0,w);F=c[v].substring(w+1)}else Y=c[v];y(Y,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Ds(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ds){this.h=c.h,ka(this,c.j),this.o=c.o,this.g=c.g,Nr(this,c.s),this.l=c.l;var y=c.i,v=new os;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Ri(this,v),this.m=c.m}else c&&(y=String(c).match(Wl))?(this.h=!1,ka(this,y[1]||"",!0),this.o=Ca(y[2]||""),this.g=Ca(y[3]||"",!0),Nr(this,y[4]),this.l=Ca(y[5]||"",!0),Ri(this,y[6]||"",!0),this.m=Ca(y[7]||"")):(this.h=!1,this.i=new os(null,this.h))}Ds.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Cn(y,Yl,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Cn(y,Yl,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Cn(v,v.charAt(0)=="/"?Xl:zu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Cn(v,Td)),c.join("")};function dt(c){return new Ds(c)}function ka(c,y,v){c.j=v?Ca(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Nr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ri(c,y,v){y instanceof os?(c.i=y,Zl(c.i,c.h)):(v||(y=Cn(y,Ed)),c.i=new os(y,c.h))}function Ke(c,y,v){c.i.set(y,v)}function kr(c){return Ke(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ca(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Cn(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,xd),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function xd(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Yl=/[#\/\?@]/g,zu=/[#\?:]/g,Xl=/[#\?]/g,Ed=/[#\?@]/g,Td=/#/g;function os(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function In(c){c.g||(c.g=new Map,c.h=0,c.i&&wi(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}s=os.prototype,s.add=function(c,y){In(this),this.i=null,c=Ls(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Ni(c,y){In(c),y=Ls(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Os(c,y){return In(c),y=Ls(c,y),c.g.has(y)}s.forEach=function(c,y){In(this),this.g.forEach(function(v,w){v.forEach(function(F){c.call(y,F,w,this)},this)},this)},s.na=function(){In(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let w=0;w<y.length;w++){const F=c[w];for(let Y=0;Y<F.length;Y++)v.push(y[w])}return v},s.V=function(c){In(this);let y=[];if(typeof c=="string")Os(this,c)&&(y=y.concat(this.g.get(Ls(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},s.set=function(c,y){return In(this),this.i=null,c=Ls(this,c),Os(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},s.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Ms(c,y,v){Ni(c,y),0<v.length&&(c.i=null,c.g.set(Ls(c,y),q(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var w=y[v];const Y=encodeURIComponent(String(w)),oe=this.V(w);for(w=0;w<oe.length;w++){var F=Y;oe[w]!==""&&(F+="="+encodeURIComponent(String(oe[w]))),c.push(F)}}return this.i=c.join("&")};function Ls(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Zl(c,y){y&&!c.j&&(In(c),c.i=null,c.g.forEach(function(v,w){var F=w.toLowerCase();w!=F&&(Ni(this,w),Ms(this,F,v))},c)),c.j=y}function qu(c,y){const v=new Ta;if(m.Image){const w=new Image;w.onload=k(jn,v,"TestLoadImage: loaded",!0,y,w),w.onerror=k(jn,v,"TestLoadImage: error",!1,y,w),w.onabort=k(jn,v,"TestLoadImage: abort",!1,y,w),w.ontimeout=k(jn,v,"TestLoadImage: timeout",!1,y,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function Cr(c,y){const v=new Ta,w=new AbortController,F=setTimeout(()=>{w.abort(),jn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(Y=>{clearTimeout(F),Y.ok?jn(v,"TestPingServer: ok",!0,y):jn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),jn(v,"TestPingServer: error",!1,y)})}function jn(c,y,v,w,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),w(v)}catch{}}function Ir(){this.g=new sn}function us(c,y,v){const w=v||"";try{Rr(c,function(F,Y){let oe=F;_(F)&&(oe=zl(F)),y.push(w+Y+"="+encodeURIComponent(oe))})}catch(F){throw y.push(w+"type="+encodeURIComponent("_badmap")),F}}function Ia(c){this.l=c.Ub||null,this.j=c.eb||!1}j(Ia,ql),Ia.prototype.g=function(){return new Ps(this.l,this.j)},Ia.prototype.i=function(c){return function(){return c}}({});function Ps(c,y){wt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(Ps,wt),s=Ps.prototype,s.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,hs(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cs(this)),this.readyState=0},s.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,hs(this)),this.g&&(this.readyState=3,hs(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}s.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?cs(this):hs(this),this.readyState==3&&Jl(this)}},s.Ra=function(c){this.g&&(this.response=this.responseText=c,cs(this))},s.Qa=function(c){this.g&&(this.response=c,cs(this))},s.ga=function(){this.g&&cs(this)};function cs(c){c.readyState=4,c.l=null,c.j=null,c.v=null,hs(c)}s.setRequestHeader=function(c,y){this.u.append(c,y)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function hs(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ps.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function eo(c){let y="";return ae(c,function(v,w){y+=w,y+=":",y+=v,y+=`\r
`}),y}function Lt(c,y,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=eo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Ke(c,y,v))}function Qe(c){wt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(Qe,wt);var ki=/^https?$/i,jr=["POST","PUT"];s=Qe.prototype,s.Ha=function(c){this.J=c},s.ea=function(c,y,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sr.g(),this.v=this.o?Mu(this.o):Mu(Sr),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){Ku(this,Y);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var F in w)v.set(F,w[F]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Y of w.keys())v.set(Y,w.get(Y));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),F=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(jr,y,void 0))||w||F||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,oe]of v)this.g.setRequestHeader(Y,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Dr(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){Ku(this,Y)}};function Ku(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ci(c),ds(c)}function Ci(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ot(this,"complete"),Ot(this,"abort"),ds(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ds(this,!0)),Qe.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Ii(this):this.bb())},s.bb=function(){Ii(this)};function Ii(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Dn(c)!=4||c.Z()!=2)){if(c.u&&Dn(c)==4)Ou(c.Ea,0,c);else if(Ot(c,"readystatechange"),Dn(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var w;if(w=oe===0){var F=String(c.D).match(Wl)[1]||null;!F&&m.self&&m.self.location&&(F=m.self.location.protocol.slice(0,-1)),w=!ki.test(F?F.toLowerCase():"")}v=w}if(v)Ot(c,"complete"),Ot(c,"success");else{c.m=6;try{var Y=2<Dn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",Ci(c)}}finally{ds(c)}}}}function ds(c,y){if(c.g){Dr(c);const v=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ot(c,"ready");try{v.onreadystatechange=w}catch{}}}function Dr(c){c.I&&(m.clearTimeout(c.I),c.I=null)}s.isActive=function(){return!!this.g};function Dn(c){return c.g?c.g.readyState:0}s.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),as(y)}};function Fu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function bd(c){const y={};c=(c.g&&2<=Dn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(H(c[w]))continue;var v=C(c[w]);const F=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=y[F]||[];y[F]=Y,Y.push(v)}O(y,function(w){return w.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Or(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function ji(c){this.Aa=0,this.i=[],this.j=new Ta,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Or("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Or("baseRetryDelayMs",5e3,c),this.cb=Or("retryDelaySeedMs",1e4,c),this.Wa=Or("forwardChannelMaxRetries",2,c),this.wa=Or("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new $l(c&&c.concurrentRequestLimit),this.Da=new Ir,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=ji.prototype,s.la=8,s.G=1,s.connect=function(c,y,v,w){pt(0),this.W=c,this.H=y||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.I=Zu(this,null,this.W),Oi(this)};function to(c){if(Gu(c),c.G==3){var y=c.U++,v=dt(c.I);if(Ke(v,"SID",c.K),Ke(v,"RID",y),Ke(v,"TYPE","terminate"),Mr(c,v),y=new ls(c,c.j,y),y.L=2,y.v=kr(dt(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=Ju(y.j,null),y.g.ea(y.v)),y.F=Date.now(),it(y)}Xu(c)}function Di(c){c.g&&(Lr(c),c.g.cancel(),c.g=null)}function Gu(c){Di(c),c.u&&(m.clearTimeout(c.u),c.u=null),Mi(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Oi(c){if(!Ql(c.h)&&!c.s){c.s=!0;var y=c.Ga;ye||U(),pe||(ye(),pe=!0),me.add(y,c),c.B=0}}function Ad(c,y){return Hu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ea(A(c.Ga,c,y),ao(c,c.B)),c.B++,!0)}s.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new ls(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=R(Y),I(Y,this.S)):Y=this.S),this.m!==null||this.O||(F.H=Y,Y=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=$u(this,F,y),v=dt(this.I),Ke(v,"RID",c),Ke(v,"CVER",22),this.D&&Ke(v,"X-HTTP-Session-Id",this.D),Mr(this,v),Y&&(this.O?y="headers="+encodeURIComponent(String(eo(Y)))+"&"+y:this.m&&Lt(v,this.m,Y)),Na(this.h,F),this.Ua&&Ke(v,"TYPE","init"),this.P?(Ke(v,"$req",y),Ke(v,"SID","null"),F.T=!0,Gn(F,v,null)):Gn(F,v,y),this.G=2}}else this.G==3&&(c?no(this,c):this.i.length==0||Ql(this.h)||no(this))};function no(c,y){var v;y?v=y.l:v=c.U++;const w=dt(c.I);Ke(w,"SID",c.K),Ke(w,"RID",v),Ke(w,"AID",c.T),Mr(c,w),c.m&&c.o&&Lt(w,c.m,c.o),v=new ls(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=$u(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Na(c.h,v),Gn(v,w,y)}function Mr(c,y){c.H&&ae(c.H,function(v,w){Ke(y,w,v)}),c.l&&Rr({},function(v,w){Ke(y,w,v)})}function $u(c,y,v){v=Math.min(c.i.length,v);var w=c.l?A(c.l.Na,c.l,c):null;e:{var F=c.i;let Y=-1;for(;;){const oe=["count="+v];Y==-1?0<v?(Y=F[0].g,oe.push("ofs="+Y)):Y=0:oe.push("ofs="+Y);let Ue=!0;for(let Nt=0;Nt<v;Nt++){let He=F[Nt].g;const Pt=F[Nt].map;if(He-=Y,0>He)Y=Math.max(0,F[Nt].g-100),Ue=!1;else try{us(Pt,oe,"req"+He+"_")}catch{w&&w(Pt)}}if(Ue){w=oe.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,w}function Qu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ye||U(),pe||(ye(),pe=!0),me.add(y,c),c.v=0}}function so(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ea(A(c.Fa,c),ao(c,c.v)),c.v++,!0)}s.Fa=function(){if(this.u=null,Wu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ea(A(this.ab,this),c)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),Di(this),Wu(this))};function Lr(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Wu(c){c.g=new ls(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=dt(c.qa);Ke(y,"RID","rpc"),Ke(y,"SID",c.K),Ke(y,"AID",c.T),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ke(y,"TO",c.ja),Ke(y,"TYPE","xmlhttp"),Mr(c,y),c.m&&c.o&&Lt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=kr(dt(y)),v.m=null,v.P=!0,js(v,c)}s.Za=function(){this.C!=null&&(this.C=null,Di(this),so(this),pt(19))};function Mi(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Yu(c,y){var v=null;if(c.g==y){Mi(c),Lr(c),c.g=null;var w=2}else if(Ra(c.h,y))v=y.D,kn(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var F=c.B;w=Ti(),Ot(w,new Pu(w,v)),Oi(c)}else Qu(c);else if(F=y.s,F==3||F==0&&0<y.X||!(w==1&&Ad(c,y)||w==2&&so(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),F){case 1:Vs(c,5);break;case 4:Vs(c,10);break;case 3:Vs(c,6);break;default:Vs(c,2)}}}function ao(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Vs(c,y){if(c.j.info("Error code "+y),y==2){var v=A(c.fb,c),w=c.Xa;const F=!w;w=new Ds(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ka(w,"https"),kr(w),F?qu(w.toString(),v):Cr(w.toString(),v)}else pt(2);c.G=0,c.l&&c.l.sa(y),Xu(c),Gu(c)}s.fb=function(c){c?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function Xu(c){if(c.G=0,c.ka=[],c.l){const y=an(c.h);(y.length!=0||c.i.length!=0)&&(V(c.ka,y),V(c.ka,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.ra()}}function Zu(c,y,v){var w=v instanceof Ds?dt(v):new Ds(v);if(w.g!="")y&&(w.g=y+"."+w.g),Nr(w,w.s);else{var F=m.location;w=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var Y=new Ds(null);w&&ka(Y,w),y&&(Y.g=y),F&&Nr(Y,F),v&&(Y.l=v),w=Y}return v=c.D,y=c.ya,v&&y&&Ke(w,v,y),Ke(w,"VER",c.la),Mr(c,w),w}function Ju(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Qe(new Ia({eb:v})):new Qe(c.pa),y.Ha(c.J),y}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ec(){}s=ec.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Li(){}Li.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){wt.call(this),this.g=new ji(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!H(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!H(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new fs(this)}j(rn,wt),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){to(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=zl(c),c=v);y.i.push(new yd(y.Ya++,c)),y.G==3&&Oi(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,to(this.g),delete this.g,rn.aa.N.call(this)};function tc(c){ya.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}j(tc,ya);function nc(){Fn.call(this),this.status=1}j(nc,Fn);function fs(c){this.g=c}j(fs,ec),fs.prototype.ua=function(){Ot(this.g,"a")},fs.prototype.ta=function(c){Ot(this.g,new tc(c))},fs.prototype.sa=function(c){Ot(this.g,new nc)},fs.prototype.ra=function(){Ot(this.g,"b")},Li.prototype.createWebChannel=Li.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,iE=function(){return new Li},rE=function(){return Ti()},aE=Nn,Km={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rt.NO_ERROR=0,Rt.TIMEOUT=8,Rt.HTTP_ERROR=6,dh=Rt,Is.COMPLETE="complete",sE=Is,Lu.EventType=rs,rs.OPEN="a",rs.CLOSE="b",rs.ERROR="c",rs.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Zo=Lu,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,nE=Qe}).apply(typeof th<"u"?th:typeof self<"u"?self:typeof window<"u"?window:{});const sx="@firebase/firestore",ax="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jl="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=new Tg("@firebase/firestore");function cl(){return ii.logLevel}function he(s,...e){if(ii.logLevel<=Me.DEBUG){const t=e.map(Sg);ii.debug(`Firestore (${jl}): ${s}`,...t)}}function ca(s,...e){if(ii.logLevel<=Me.ERROR){const t=e.map(Sg);ii.error(`Firestore (${jl}): ${s}`,...t)}}function xl(s,...e){if(ii.logLevel<=Me.WARN){const t=e.map(Sg);ii.warn(`Firestore (${jl}): ${s}`,...t)}}function Sg(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(s="Unexpected state"){const e=`FIRESTORE (${jl}) INTERNAL ASSERTION FAILED: `+s;throw ca(e),new Error(e)}function We(s,e){s||Ae()}function Re(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Rs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Jt.UNAUTHENTICATED))}shutdown(){}}class IN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class jN{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0);let r=this.i;const l=p=>this.i!==r?(r=this.i,t(p)):Promise.resolve();let u=new ia;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ia,e.enqueueRetryable(()=>l(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},m=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ia)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string"),new lE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string"),new Jt(e)}}class DN{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class ON{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new DN(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MN{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,An(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){We(this.o===void 0);const r=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const l=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>l(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?l(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new rx(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(We(typeof t.token=="string"),this.R=t.token,new rx(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<s;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=LN(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<t&&(r+=e.charAt(l[u]%62))}return r}}function Ve(s,e){return s<e?-1:s>e?1:0}function El(s,e,t){return s.length===e.length&&s.every((r,l)=>t(r,e[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=-62135596800,lx=1e6;class jt{static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*lx);return new jt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ix)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lx}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ix;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new jt(0,0))}static max(){return new Se(new jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox="__name__";class xs{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ae(),r===void 0?r=e.length-t:r>e.length-t&&Ae(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return xs.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof xs?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let l=0;l<r;l++){const u=xs.compareSegments(e.get(l),t.get(l));if(u!==0)return u}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=xs.isNumericId(e),l=xs.isNumericId(t);return r&&!l?-1:!r&&l?1:r&&l?xs.extractNumericId(e).compare(xs.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return lr.fromString(e.substring(4,e.length-2))}}class nt extends xs{construct(e,t,r){return new nt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(l=>l.length>0))}return new nt(t)}static emptyPath(){return new nt([])}}const PN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends xs{construct(e,t,r){return new $t(e,t,r)}static isValidIdentifier(e){return PN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ox}static keyField(){return new $t([ox])}static fromServerFormat(e){const t=[];let r="",l=0;const u=()=>{if(r.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;l<e.length;){const m=e[l];if(m==="\\"){if(l+1===e.length)throw new de(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,l+=2}else m==="`"?(h=!h,l++):m!=="."||h?(r+=m,l++):(u(),l++)}if(u(),h)throw new de(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(t)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(nt.fromString(e))}static fromName(e){return new xe(nt.fromString(e).popFirst(5))}static empty(){return new xe(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new nt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=-1;function VN(s,e){const t=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Se.fromTimestamp(r===1e9?new jt(t+1,0):new jt(t,r));return new hr(l,xe.empty(),e)}function UN(s){return new hr(s.readTime,s.key,cu)}class hr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new hr(Se.min(),xe.empty(),cu)}static max(){return new hr(Se.max(),xe.empty(),cu)}}function HN(s,e){let t=s.readTime.compareTo(e.readTime);return t!==0?t:(t=xe.comparator(s.documentKey,e.documentKey),t!==0?t:Ve(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(s){if(s.code!==ne.FAILED_PRECONDITION||s.message!==BN)throw s;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,r)=>{t(e)})}static reject(e){return new se((t,r)=>{r(e)})}static waitFor(e){return new se((t,r)=>{let l=0,u=0,h=!1;e.forEach(m=>{++l,m.next(()=>{++u,h&&u===l&&t()},p=>r(p))}),h=!0,u===l&&t()})}static or(e){let t=se.resolve(!1);for(const r of e)t=t.next(l=>l?se.resolve(l):r());return t}static forEach(e,t){const r=[];return e.forEach((l,u)=>{r.push(t.call(this,l,u))}),this.waitFor(r)}static mapArray(e,t){return new se((r,l)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const _=p;t(e[_]).next(E=>{h[_]=E,++m,m===u&&r(h)},E=>l(E))}})}static doWhile(e,t){return new se((r,l)=>{const u=()=>{e()===!0?t().next(()=>{u()},l):r()};u()})}}function qN(s){const e=s.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ol(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}$h.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg=-1;function Qh(s){return s==null}function Sh(s){return s===0&&1/s==-1/0}function KN(s){return typeof s=="number"&&Number.isInteger(s)&&!Sh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="";function FN(s){let e="";for(let t=0;t<s.length;t++)e.length>0&&(e=ux(e)),e=GN(s.get(t),e);return ux(e)}function GN(s,e){let t=e;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":t+="";break;case uE:t+="";break;default:t+=u}}return t}function ux(s){return s+uE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(s){let e=0;for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e++;return e}function vr(s,e){for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e(t,s[t])}function cE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,t){this.comparator=e,this.root=t||Gt.EMPTY}insert(e,t){return new ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return t+r.left.size;l<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nh(this.root,e,this.comparator,!0)}}class nh{constructor(e,t,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,t,r,l,u){this.key=e,this.value=t,this.color=r??Gt.RED,this.left=l??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,l,u){return new Gt(e??this.key,t??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let l=this;const u=r(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,t,r),null):u===0?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),t(e,l.key)===0){if(l.right.isEmpty())return Gt.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,t,r,l,u){return this}insert(e,t,r){return new Gt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new hx(this.data.getIterator())}getIteratorFrom(e){return new hx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dt(this.comparator);return t.data=e,t}}class hx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Sn([])}unionWith(e){let t=new Dt($t.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Sn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return El(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new hE("Invalid base64 string: "+u):u}}(e);return new Qt(t)}static fromUint8Array(e){const t=function(l){let u="";for(let h=0;h<l.length;++h)u+=String.fromCharCode(l[h]);return u}(e);return new Qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let l=0;l<t.length;l++)r[l]=t.charCodeAt(l);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const $N=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dr(s){if(We(!!s),typeof s=="string"){let e=0;const t=$N.exec(s);if(We(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(s.seconds),nanos:yt(s.nanos)}}function yt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function fr(s){return typeof s=="string"?Qt.fromBase64String(s):Qt.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="server_timestamp",fE="__type__",mE="__previous_value__",gE="__local_write_time__";function Rg(s){var e,t;return((t=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[fE])===null||t===void 0?void 0:t.stringValue)===dE}function Wh(s){const e=s.mapValue.fields[mE];return Rg(e)?Wh(e):e}function hu(s){const e=dr(s.mapValue.fields[gE].timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,t,r,l,u,h,m,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=_}}const wh="(default)";class du{constructor(e,t){this.projectId=e,this.database=t||wh}static empty(){return new du("","")}get isDefaultDatabase(){return this.database===wh}isEqual(e){return e instanceof du&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="__type__",WN="__max__",sh={mapValue:{}},_E="__vector__",Rh="value";function mr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Rg(s)?4:XN(s)?9007199254740991:YN(s)?10:11:Ae()}function ws(s,e){if(s===e)return!0;const t=mr(s);if(t!==mr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return hu(s).isEqual(hu(e));case 3:return function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const h=dr(l.timestampValue),m=dr(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(l,u){return fr(l.bytesValue).isEqual(fr(u.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(l,u){return yt(l.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(l.geoPointValue.longitude)===yt(u.geoPointValue.longitude)}(s,e);case 2:return function(l,u){if("integerValue"in l&&"integerValue"in u)return yt(l.integerValue)===yt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const h=yt(l.doubleValue),m=yt(u.doubleValue);return h===m?Sh(h)===Sh(m):isNaN(h)&&isNaN(m)}return!1}(s,e);case 9:return El(s.arrayValue.values||[],e.arrayValue.values||[],ws);case 10:case 11:return function(l,u){const h=l.mapValue.fields||{},m=u.mapValue.fields||{};if(cx(h)!==cx(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!ws(h[p],m[p])))return!1;return!0}(s,e);default:return Ae()}}function fu(s,e){return(s.values||[]).find(t=>ws(t,e))!==void 0}function Tl(s,e){if(s===e)return 0;const t=mr(s),r=mr(e);if(t!==r)return Ve(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(s.booleanValue,e.booleanValue);case 2:return function(u,h){const m=yt(u.integerValue||u.doubleValue),p=yt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(s,e);case 3:return dx(s.timestampValue,e.timestampValue);case 4:return dx(hu(s),hu(e));case 5:return Ve(s.stringValue,e.stringValue);case 6:return function(u,h){const m=fr(u),p=fr(h);return m.compareTo(p)}(s.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let _=0;_<m.length&&_<p.length;_++){const E=Ve(m[_],p[_]);if(E!==0)return E}return Ve(m.length,p.length)}(s.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Ve(yt(u.latitude),yt(h.latitude));return m!==0?m:Ve(yt(u.longitude),yt(h.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return fx(s.arrayValue,e.arrayValue);case 10:return function(u,h){var m,p,_,E;const T=u.fields||{},A=h.fields||{},k=(m=T[Rh])===null||m===void 0?void 0:m.arrayValue,j=(p=A[Rh])===null||p===void 0?void 0:p.arrayValue,q=Ve(((_=k==null?void 0:k.values)===null||_===void 0?void 0:_.length)||0,((E=j==null?void 0:j.values)===null||E===void 0?void 0:E.length)||0);return q!==0?q:fx(k,j)}(s.mapValue,e.mapValue);case 11:return function(u,h){if(u===sh.mapValue&&h===sh.mapValue)return 0;if(u===sh.mapValue)return 1;if(h===sh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),_=h.fields||{},E=Object.keys(_);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const A=Ve(p[T],E[T]);if(A!==0)return A;const k=Tl(m[p[T]],_[E[T]]);if(k!==0)return k}return Ve(p.length,E.length)}(s.mapValue,e.mapValue);default:throw Ae()}}function dx(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ve(s,e);const t=dr(s),r=dr(e),l=Ve(t.seconds,r.seconds);return l!==0?l:Ve(t.nanos,r.nanos)}function fx(s,e){const t=s.values||[],r=e.values||[];for(let l=0;l<t.length&&l<r.length;++l){const u=Tl(t[l],r[l]);if(u)return u}return Ve(t.length,r.length)}function bl(s){return Fm(s)}function Fm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(t){const r=dr(t);return`time(${r.seconds},${r.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(t){return fr(t).toBase64()}(s.bytesValue):"referenceValue"in s?function(t){return xe.fromName(t).toString()}(s.referenceValue):"geoPointValue"in s?function(t){return`geo(${t.latitude},${t.longitude})`}(s.geoPointValue):"arrayValue"in s?function(t){let r="[",l=!0;for(const u of t.values||[])l?l=!1:r+=",",r+=Fm(u);return r+"]"}(s.arrayValue):"mapValue"in s?function(t){const r=Object.keys(t.fields||{}).sort();let l="{",u=!0;for(const h of r)u?u=!1:l+=",",l+=`${h}:${Fm(t.fields[h])}`;return l+"}"}(s.mapValue):Ae()}function fh(s){switch(mr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wh(s);return e?16+fh(e):16;case 5:return 2*s.stringValue.length;case 6:return fr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((l,u)=>l+fh(u),0)}(s.arrayValue);case 10:case 11:return function(r){let l=0;return vr(r.fields,(u,h)=>{l+=u.length+fh(h)}),l}(s.mapValue);default:throw Ae()}}function mx(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Gm(s){return!!s&&"integerValue"in s}function Ng(s){return!!s&&"arrayValue"in s}function gx(s){return!!s&&"nullValue"in s}function px(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function mh(s){return!!s&&"mapValue"in s}function YN(s){var e,t;return((t=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[pE])===null||t===void 0?void 0:t.stringValue)===_E}function nu(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return vr(s.mapValue.fields,(t,r)=>e.mapValue.fields[t]=nu(r)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(s.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=nu(s.arrayValue.values[t]);return e}return Object.assign({},s)}function XN(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===WN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!mh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nu(t)}setAll(e){let t=$t.emptyPath(),r={},l=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,r,l),r={},l=[],t=m.popLast()}h?r[m.lastSegment()]=nu(h):l.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,l)}delete(e){const t=this.field(e.popLast());mh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ws(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=t.mapValue.fields[e.get(r)];mh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,r){vr(t,(l,u)=>e[l]=u);for(const l of r)delete e[l]}clone(){return new pn(nu(this.value))}}function yE(s){const e=[];return vr(s.fields,(t,r)=>{const l=new $t([t]);if(mh(r)){const u=yE(r.mapValue).fields;if(u.length===0)e.push(l);else for(const h of u)e.push(l.child(h))}else e.push(l)}),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,t,r,l,u,h,m){this.key=e,this.documentType=t,this.version=r,this.readTime=l,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new en(e,0,Se.min(),Se.min(),Se.min(),pn.empty(),0)}static newFoundDocument(e,t,r,l){return new en(e,1,t,Se.min(),r,l,0)}static newNoDocument(e,t){return new en(e,2,t,Se.min(),Se.min(),pn.empty(),0)}static newUnknownDocument(e,t){return new en(e,3,t,Se.min(),Se.min(),pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,t){this.position=e,this.inclusive=t}}function _x(s,e,t){let r=0;for(let l=0;l<s.position.length;l++){const u=e[l],h=s.position[l];if(u.field.isKeyField()?r=xe.comparator(xe.fromName(h.referenceValue),t.key):r=Tl(h,t.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function yx(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let t=0;t<s.position.length;t++)if(!ws(s.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,t="asc"){this.field=e,this.dir=t}}function ZN(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{}class St extends vE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new ek(e,t,r):t==="array-contains"?new sk(e,r):t==="in"?new ak(e,r):t==="not-in"?new rk(e,r):t==="array-contains-any"?new ik(e,r):new St(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new tk(e,r):new nk(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Tl(t,this.value)):t!==null&&mr(this.value)===mr(t)&&this.matchesComparison(Tl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends vE{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Jn(e,t)}matches(e){return xE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function xE(s){return s.op==="and"}function EE(s){return JN(s)&&xE(s)}function JN(s){for(const e of s.filters)if(e instanceof Jn)return!1;return!0}function $m(s){if(s instanceof St)return s.field.canonicalString()+s.op.toString()+bl(s.value);if(EE(s))return s.filters.map(e=>$m(e)).join(",");{const e=s.filters.map(t=>$m(t)).join(",");return`${s.op}(${e})`}}function TE(s,e){return s instanceof St?function(r,l){return l instanceof St&&r.op===l.op&&r.field.isEqual(l.field)&&ws(r.value,l.value)}(s,e):s instanceof Jn?function(r,l){return l instanceof Jn&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce((u,h,m)=>u&&TE(h,l.filters[m]),!0):!1}(s,e):void Ae()}function bE(s){return s instanceof St?function(t){return`${t.field.canonicalString()} ${t.op} ${bl(t.value)}`}(s):s instanceof Jn?function(t){return t.op.toString()+" {"+t.getFilters().map(bE).join(" ,")+"}"}(s):"Filter"}class ek extends St{constructor(e,t,r){super(e,t,r),this.key=xe.fromName(r.referenceValue)}matches(e){const t=xe.comparator(e.key,this.key);return this.matchesComparison(t)}}class tk extends St{constructor(e,t){super(e,"in",t),this.keys=AE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class nk extends St{constructor(e,t){super(e,"not-in",t),this.keys=AE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function AE(s,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>xe.fromName(r.referenceValue))}class sk extends St{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ng(t)&&fu(t.arrayValue,this.value)}}class ak extends St{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&fu(this.value.arrayValue,t)}}class rk extends St{constructor(e,t){super(e,"not-in",t)}matches(e){if(fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!fu(this.value.arrayValue,t)}}class ik extends St{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ng(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>fu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,t=null,r=[],l=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=h,this.endAt=m,this.le=null}}function vx(s,e=null,t=[],r=[],l=null,u=null,h=null){return new lk(s,e,t,r,l,u,h)}function kg(s){const e=Re(s);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>$m(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(u){return u.field.canonicalString()+u.dir}(r)).join(","),Qh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>bl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>bl(r)).join(",")),e.le=t}return e.le}function Cg(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<s.orderBy.length;t++)if(!ZN(s.orderBy[t],e.orderBy[t]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let t=0;t<s.filters.length;t++)if(!TE(s.filters[t],e.filters[t]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!yx(s.startAt,e.startAt)&&yx(s.endAt,e.endAt)}function Qm(s){return xe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,t=null,r=[],l=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function ok(s,e,t,r,l,u,h,m){return new Ml(s,e,t,r,l,u,h,m)}function Ig(s){return new Ml(s)}function xx(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function SE(s){return s.collectionGroup!==null}function su(s){const e=Re(s);if(e.he===null){e.he=[];const t=new Set;for(const u of e.explicitOrderBy)e.he.push(u),t.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Dt($t.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.he.push(new mu(u,r))}),t.has($t.keyField().canonicalString())||e.he.push(new mu($t.keyField(),r))}return e.he}function Ts(s){const e=Re(s);return e.Pe||(e.Pe=uk(e,su(s))),e.Pe}function uk(s,e){if(s.limitType==="F")return vx(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(l=>{const u=l.dir==="desc"?"asc":"desc";return new mu(l.field,u)});const t=s.endAt?new Nh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Nh(s.startAt.position,s.startAt.inclusive):null;return vx(s.path,s.collectionGroup,e,s.filters,s.limit,t,r)}}function Wm(s,e){const t=s.filters.concat([e]);return new Ml(s.path,s.collectionGroup,s.explicitOrderBy.slice(),t,s.limit,s.limitType,s.startAt,s.endAt)}function Ym(s,e,t){return new Ml(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,t,s.startAt,s.endAt)}function Yh(s,e){return Cg(Ts(s),Ts(e))&&s.limitType===e.limitType}function wE(s){return`${kg(Ts(s))}|lt:${s.limitType}`}function hl(s){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(l=>bE(l)).join(", ")}]`),Qh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(l=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(l)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(l=>bl(l)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(l=>bl(l)).join(",")),`Target(${r})`}(Ts(s))}; limitType=${s.limitType})`}function Xh(s,e){return e.isFoundDocument()&&function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):xe.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)}(s,e)&&function(r,l){for(const u of su(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0}(s,e)&&function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0}(s,e)&&function(r,l){return!(r.startAt&&!function(h,m,p){const _=_x(h,m,p);return h.inclusive?_<=0:_<0}(r.startAt,su(r),l)||r.endAt&&!function(h,m,p){const _=_x(h,m,p);return h.inclusive?_>=0:_>0}(r.endAt,su(r),l))}(s,e)}function ck(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function RE(s){return(e,t)=>{let r=!1;for(const l of su(s)){const u=hk(l,e,t);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function hk(s,e,t){const r=s.field.isKeyField()?xe.comparator(e.key,t.key):function(u,h,m){const p=h.data.field(u),_=m.data.field(u);return p!==null&&_!==null?Tl(p,_):Ae()}(s.field,e,t);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[t]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){vr(this.inner,(t,r)=>{for(const[l,u]of r)e(l,u)})}isEmpty(){return cE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=new ut(xe.comparator);function ha(){return dk}const NE=new ut(xe.comparator);function Jo(...s){let e=NE;for(const t of s)e=e.insert(t.key,t);return e}function kE(s){let e=NE;return s.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ni(){return au()}function CE(){return au()}function au(){return new di(s=>s.toString(),(s,e)=>s.isEqual(e))}const fk=new ut(xe.comparator),mk=new Dt(xe.comparator);function Le(...s){let e=mk;for(const t of s)e=e.add(t);return e}const gk=new Dt(Ve);function pk(){return gk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sh(e)?"-0":e}}function IE(s){return{integerValue:""+s}}function _k(s,e){return KN(e)?IE(e):jg(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(){this._=void 0}}function yk(s,e,t){return s instanceof kh?function(l,u){const h={fields:{[fE]:{stringValue:dE},[gE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Rg(u)&&(u=Wh(u)),u&&(h.fields[mE]=u),{mapValue:h}}(t,e):s instanceof gu?DE(s,e):s instanceof pu?OE(s,e):function(l,u){const h=jE(l,u),m=Ex(h)+Ex(l.Ie);return Gm(h)&&Gm(l.Ie)?IE(m):jg(l.serializer,m)}(s,e)}function vk(s,e,t){return s instanceof gu?DE(s,e):s instanceof pu?OE(s,e):t}function jE(s,e){return s instanceof Ch?function(r){return Gm(r)||function(u){return!!u&&"doubleValue"in u}(r)}(e)?e:{integerValue:0}:null}class kh extends Zh{}class gu extends Zh{constructor(e){super(),this.elements=e}}function DE(s,e){const t=ME(e);for(const r of s.elements)t.some(l=>ws(l,r))||t.push(r);return{arrayValue:{values:t}}}class pu extends Zh{constructor(e){super(),this.elements=e}}function OE(s,e){let t=ME(e);for(const r of s.elements)t=t.filter(l=>!ws(l,r));return{arrayValue:{values:t}}}class Ch extends Zh{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Ex(s){return yt(s.integerValue||s.doubleValue)}function ME(s){return Ng(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function xk(s,e){return s.field.isEqual(e.field)&&function(r,l){return r instanceof gu&&l instanceof gu||r instanceof pu&&l instanceof pu?El(r.elements,l.elements,ws):r instanceof Ch&&l instanceof Ch?ws(r.Ie,l.Ie):r instanceof kh&&l instanceof kh}(s.transform,e.transform)}class Ek{constructor(e,t){this.version=e,this.transformResults=t}}class Kn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Jh{}function LE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Dg(s.key,Kn.none()):new Tu(s.key,s.data,Kn.none());{const t=s.data,r=pn.empty();let l=new Dt($t.comparator);for(let u of e.fields)if(!l.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?r.delete(u):r.set(u,h),l=l.add(u)}return new xr(s.key,r,new Sn(l.toArray()),Kn.none())}}function Tk(s,e,t){s instanceof Tu?function(l,u,h){const m=l.value.clone(),p=bx(l.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(s,e,t):s instanceof xr?function(l,u,h){if(!gh(l.precondition,u))return void u.convertToUnknownDocument(h.version);const m=bx(l.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(PE(l)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(s,e,t):function(l,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function ru(s,e,t,r){return s instanceof Tu?function(u,h,m,p){if(!gh(u.precondition,h))return m;const _=u.value.clone(),E=Ax(u.fieldTransforms,p,h);return _.setAll(E),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),null}(s,e,t,r):s instanceof xr?function(u,h,m,p){if(!gh(u.precondition,h))return m;const _=Ax(u.fieldTransforms,p,h),E=h.data;return E.setAll(PE(u)),E.setAll(_),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(s,e,t,r):function(u,h,m){return gh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(s,e,t)}function bk(s,e){let t=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),u=jE(r.transform,l||null);u!=null&&(t===null&&(t=pn.empty()),t.set(r.field,u))}return t||null}function Tx(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&El(r,l,(u,h)=>xk(u,h))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Tu extends Jh{constructor(e,t,r,l=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class xr extends Jh{constructor(e,t,r,l,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function PE(s){const e=new Map;return s.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=s.data.field(t);e.set(t,r)}}),e}function bx(s,e,t){const r=new Map;We(s.length===t.length);for(let l=0;l<t.length;l++){const u=s[l],h=u.transform,m=e.data.field(u.field);r.set(u.field,vk(h,m,t[l]))}return r}function Ax(s,e,t){const r=new Map;for(const l of s){const u=l.transform,h=t.data.field(l.field);r.set(l.field,yk(u,h,e))}return r}class Dg extends Jh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ak extends Jh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,t,r,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&Tk(u,e,r[l])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ru(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ru(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=CE();return this.mutations.forEach(l=>{const u=e.get(l.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(l.key)?null:m;const p=LE(h,m);p!==null&&r.set(l.key,p),h.isValidDocument()||h.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Le())}isEqual(e){return this.batchId===e.batchId&&El(this.mutations,e.mutations,(t,r)=>Tx(t,r))&&El(this.baseMutations,e.baseMutations,(t,r)=>Tx(t,r))}}class Og{constructor(e,t,r,l){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=l}static from(e,t,r){We(e.mutations.length===r.length);let l=function(){return fk}();const u=e.mutations;for(let h=0;h<u.length;h++)l=l.insert(u[h].key,r[h].version);return new Og(e,t,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,ze;function Nk(s){switch(s){case ne.OK:return Ae();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ae()}}function VE(s){if(s===void 0)return ca("GRPC error has no .code"),ne.UNKNOWN;switch(s){case At.OK:return ne.OK;case At.CANCELLED:return ne.CANCELLED;case At.UNKNOWN:return ne.UNKNOWN;case At.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case At.INTERNAL:return ne.INTERNAL;case At.UNAVAILABLE:return ne.UNAVAILABLE;case At.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case At.NOT_FOUND:return ne.NOT_FOUND;case At.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case At.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case At.ABORTED:return ne.ABORTED;case At.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case At.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case At.DATA_LOSS:return ne.DATA_LOSS;default:return Ae()}}(ze=At||(At={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=new lr([4294967295,4294967295],0);function Sx(s){const e=kk().encode(s),t=new tE;return t.update(e),new Uint8Array(t.digest())}function wx(s){const e=new DataView(s.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new lr([t,r],0),new lr([l,u],0)]}class Mg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new eu(`Invalid padding: ${t}`);if(r<0)throw new eu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new eu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new eu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=lr.fromNumber(this.Ee)}Ae(e,t,r){let l=e.add(t.multiply(lr.fromNumber(r)));return l.compare(Ck)===1&&(l=new lr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Sx(e),[r,l]=wx(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(r,l,u);if(!this.Re(h))return!1}return!0}static create(e,t,r){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Mg(u,l,t);return r.forEach(m=>h.insert(m)),h}insert(e){if(this.Ee===0)return;const t=Sx(e),[r,l]=wx(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(r,l,u);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,t,r,l,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const l=new Map;return l.set(e,bu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ed(Se.min(),l,new ut(Ve),ha(),Le())}}class bu{constructor(e,t,r,l,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new bu(r,t,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,t,r,l){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=l}}class UE{constructor(e,t){this.targetId=e,this.ge=t}}class HE{constructor(e,t,r=Qt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=l}}class Rx{constructor(){this.pe=0,this.ye=Nx(),this.we=Qt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Le(),t=Le(),r=Le();return this.ye.forEach((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:r=r.add(l);break;default:Ae()}}),new bu(this.we,this.be,e,t,r)}Me(){this.Se=!1,this.ye=Nx()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,We(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class Ik{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ha(),this.$e=ah(),this.Ke=ah(),this.Ue=new ut(Ve)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Ae()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,l)=>{this.Je(l)&&t(l)})}Ze(e){const t=e.targetId,r=e.ge.count,l=this.Xe(t);if(l){const u=l.target;if(Qm(u))if(r===0){const h=new xe(u.path);this.ze(t,h,en.newNoDocument(h,Se.min()))}else We(r===1);else{const h=this.et(t);if(h!==r){const m=this.tt(e),p=m?this.nt(m,e,h):1;if(p!==0){this.Ye(t);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,_)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=t;let h,m;try{h=fr(r).toUint8Array()}catch(p){if(p instanceof hE)return xl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Mg(h,l,u)}catch(p){return xl(p instanceof eu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let l=0;return r.forEach(u=>{const h=this.ke.it(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(t,u,null),l++)}),l}ot(e){const t=new Map;this.qe.forEach((u,h)=>{const m=this.Xe(h);if(m){if(u.current&&Qm(m.target)){const p=new xe(m.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,en.newNoDocument(p,e))}u.ve&&(t.set(h,u.Fe()),u.Me())}});let r=Le();this.Ke.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const _=this.Xe(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(r=r.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const l=new ed(e,t,this.Ue,this.Qe,r);return this.Qe=ha(),this.$e=ah(),this.Ke=ah(),this.Ue=new ut(Ve),l}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const l=this.He(e);this.ut(e,t)?l.xe(t,1):l.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Rx,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Dt(Ve),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Dt(Ve),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Rx),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function ah(){return new ut(xe.comparator)}function Nx(){return new ut(xe.comparator)}const jk={asc:"ASCENDING",desc:"DESCENDING"},Dk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ok={and:"AND",or:"OR"};class Mk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Xm(s,e){return s.useProto3Json||Qh(e)?e:{value:e}}function Ih(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Lk(s,e){return Ih(s,e.toTimestamp())}function bs(s){return We(!!s),Se.fromTimestamp(function(t){const r=dr(t);return new jt(r.seconds,r.nanos)}(s))}function Lg(s,e){return Zm(s,e).canonicalString()}function Zm(s,e){const t=function(l){return new nt(["projects",l.projectId,"databases",l.database])}(s).child("documents");return e===void 0?t:t.child(e)}function zE(s){const e=nt.fromString(s);return We($E(e)),e}function Jm(s,e){return Lg(s.databaseId,e.path)}function Nm(s,e){const t=zE(e);if(t.get(1)!==s.databaseId.projectId)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+s.databaseId.projectId);if(t.get(3)!==s.databaseId.database)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+s.databaseId.database);return new xe(KE(t))}function qE(s,e){return Lg(s.databaseId,e)}function Pk(s){const e=zE(s);return e.length===4?nt.emptyPath():KE(e)}function eg(s){return new nt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function KE(s){return We(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function kx(s,e,t){return{name:Jm(s,e),fields:t.value.mapValue.fields}}function Vk(s,e){let t;if("targetChange"in e){e.targetChange;const r=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=function(_,E){return _.useProto3Json?(We(E===void 0||typeof E=="string"),Qt.fromBase64String(E||"")):(We(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Qt.fromUint8Array(E||new Uint8Array))}(s,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(_){const E=_.code===void 0?ne.UNKNOWN:VE(_.code);return new de(E,_.message||"")}(h);t=new HE(r,l,u,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=Nm(s,r.document.name),u=bs(r.document.updateTime),h=r.document.createTime?bs(r.document.createTime):Se.min(),m=new pn({mapValue:{fields:r.document.fields}}),p=en.newFoundDocument(l,u,h,m),_=r.targetIds||[],E=r.removedTargetIds||[];t=new ph(_,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=Nm(s,r.document),u=r.readTime?bs(r.readTime):Se.min(),h=en.newNoDocument(l,u),m=r.removedTargetIds||[];t=new ph([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=Nm(s,r.document),u=r.removedTargetIds||[];t=new ph([],u,l,null)}else{if(!("filter"in e))return Ae();{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,h=new Rk(l,u),m=r.targetId;t=new UE(m,h)}}return t}function Uk(s,e){let t;if(e instanceof Tu)t={update:kx(s,e.key,e.value)};else if(e instanceof Dg)t={delete:Jm(s,e.key)};else if(e instanceof xr)t={update:kx(s,e.key,e.data),updateMask:Qk(e.fieldMask)};else{if(!(e instanceof Ak))return Ae();t={verify:Jm(s,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(u,h){const m=h.transform;if(m instanceof kh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof gu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof pu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ch)return{fieldPath:h.field.canonicalString(),increment:m.Ie};throw Ae()}(0,r))),e.precondition.isNone||(t.currentDocument=function(l,u){return u.updateTime!==void 0?{updateTime:Lk(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae()}(s,e.precondition)),t}function Hk(s,e){return s&&s.length>0?(We(e!==void 0),s.map(t=>function(l,u){let h=l.updateTime?bs(l.updateTime):bs(u);return h.isEqual(Se.min())&&(h=bs(u)),new Ek(h,l.transformResults||[])}(t,e))):[]}function Bk(s,e){return{documents:[qE(s,e.path)]}}function zk(s,e){const t={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=qE(s,l);const u=function(_){if(_.length!==0)return GE(Jn.create(_,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(_){if(_.length!==0)return _.map(E=>function(A){return{field:dl(A.field),direction:Fk(A.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=Xm(s,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ht:t,parent:l}}function qk(s){let e=Pk(s.parent);const t=s.structuredQuery,r=t.from?t.from.length:0;let l=null;if(r>0){We(r===1);const E=t.from[0];E.allDescendants?l=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=function(T){const A=FE(T);return A instanceof Jn&&EE(A)?A.getFilters():[A]}(t.where));let h=[];t.orderBy&&(h=function(T){return T.map(A=>function(j){return new mu(fl(j.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(A))}(t.orderBy));let m=null;t.limit&&(m=function(T){let A;return A=typeof T=="object"?T.value:T,Qh(A)?null:A}(t.limit));let p=null;t.startAt&&(p=function(T){const A=!!T.before,k=T.values||[];return new Nh(k,A)}(t.startAt));let _=null;return t.endAt&&(_=function(T){const A=!T.before,k=T.values||[];return new Nh(k,A)}(t.endAt)),ok(e,l,h,u,m,"F",p,_)}function Kk(s,e){const t=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function FE(s){return s.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=fl(t.unaryFilter.field);return St.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=fl(t.unaryFilter.field);return St.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=fl(t.unaryFilter.field);return St.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=fl(t.unaryFilter.field);return St.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(s):s.fieldFilter!==void 0?function(t){return St.create(fl(t.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(t.fieldFilter.op),t.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(t){return Jn.create(t.compositeFilter.filters.map(r=>FE(r)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ae()}}(t.compositeFilter.op))}(s):Ae()}function Fk(s){return jk[s]}function Gk(s){return Dk[s]}function $k(s){return Ok[s]}function dl(s){return{fieldPath:s.canonicalString()}}function fl(s){return $t.fromServerFormat(s.fieldPath)}function GE(s){return s instanceof St?function(t){if(t.op==="=="){if(px(t.value))return{unaryFilter:{field:dl(t.field),op:"IS_NAN"}};if(gx(t.value))return{unaryFilter:{field:dl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(px(t.value))return{unaryFilter:{field:dl(t.field),op:"IS_NOT_NAN"}};if(gx(t.value))return{unaryFilter:{field:dl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dl(t.field),op:Gk(t.op),value:t.value}}}(s):s instanceof Jn?function(t){const r=t.getFilters().map(l=>GE(l));return r.length===1?r[0]:{compositeFilter:{op:$k(t.op),filters:r}}}(s):Ae()}function Qk(s){const e=[];return s.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function $E(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,t,r,l,u=Se.min(),h=Se.min(),m=Qt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ar(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e){this.Tt=e}}function Yk(s){const e=qk({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Ym(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.Tn=new Zk}addToCollectionParentIndex(e,t){return this.Tn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(hr.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(hr.min())}updateCollectionGroup(e,t,r){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class Zk{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),l=this.index[t]||new Dt(nt.comparator),u=!l.has(r);return this.index[t]=l.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),l=this.index[t];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Dt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QE=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(QE,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Al(0)}static Un(){return new Al(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="LruGarbageCollector",Jk=1048576;function jx([s,e],[t,r]){const l=Ve(s,t);return l===0?Ve(e,r):l}class eC{constructor(e){this.Hn=e,this.buffer=new Dt(jx),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();jx(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class tC{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(Ix,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ol(t)?he(Ix,"Ignoring IndexedDB error during garbage collection: ",t):await Dl(t)}await this.er(3e5)})}}class nC{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return se.resolve($h.ae);const r=new eC(t);return this.tr.forEachTarget(e,l=>r.Zn(l.sequenceNumber)).next(()=>this.tr.rr(e,l=>r.Zn(l))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(Cx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cx):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,l,u,h,m,p,_;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),l=this.params.maximumSequenceNumbersToCollect):l=T,h=Date.now(),this.nthSequenceNumber(e,l))).next(T=>(r=T,m=Date.now(),this.removeTargets(e,r,t))).next(T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,r))).next(T=>(_=Date.now(),cl()<=Me.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${l} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(_-p)+`ms
Total Duration: ${_-E}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:T})))}}function sC(s,e){return new nC(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this.changes=new di(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?se.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,t,r,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(l=>(r=l,this.remoteDocumentCache.getEntry(e,t))).next(l=>(r!==null&&ru(r.mutation,l,Sn.empty(),jt.now()),l))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Le()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Le()){const l=ni();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,r).next(u=>{let h=Jo();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const r=ni();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Le()))}populateOverlays(e,t,r){const l=[];return r.forEach(u=>{t.has(u)||l.push(u)}),this.documentOverlayCache.getOverlays(e,l).next(u=>{u.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,r,l){let u=ha();const h=au(),m=function(){return au()}();return t.forEach((p,_)=>{const E=r.get(_.key);l.has(_.key)&&(E===void 0||E.mutation instanceof xr)?u=u.insert(_.key,_):E!==void 0?(h.set(_.key,E.mutation.getFieldMask()),ru(E.mutation,_,E.mutation.getFieldMask(),jt.now())):h.set(_.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((_,E)=>h.set(_,E)),t.forEach((_,E)=>{var T;return m.set(_,new rC(E,(T=h.get(_))!==null&&T!==void 0?T:null))}),m))}recalculateAndSaveOverlays(e,t){const r=au();let l=new ut((h,m)=>h-m),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(p=>{const _=t.get(p);if(_===null)return;let E=r.get(p)||Sn.empty();E=m.applyToLocalView(_,E),r.set(p,E);const T=(l.get(m.batchId)||Le()).add(p);l=l.insert(m.batchId,T)})}).next(()=>{const h=[],m=l.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),_=p.key,E=p.value,T=CE();E.forEach(A=>{if(!u.has(A)){const k=LE(t.get(A),r.get(A));k!==null&&T.set(A,k),u=u.add(A)}}),h.push(this.documentOverlayCache.saveOverlays(e,_,T))}return se.waitFor(h)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,l){return function(h){return xe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):SE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,l):this.getDocumentsMatchingCollectionQuery(e,t,r,l)}getNextDocuments(e,t,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,l).next(u=>{const h=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,l-u.size):se.resolve(ni());let m=cu,p=u;return h.next(_=>se.forEach(_,(E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?se.resolve():this.remoteDocumentCache.getEntry(e,E).next(A=>{p=p.insert(E,A)}))).next(()=>this.populateOverlays(e,_,u)).next(()=>this.computeViews(e,p,_,Le())).next(E=>({batchId:m,changes:kE(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new xe(t)).next(r=>{let l=Jo();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l})}getDocumentsMatchingCollectionGroupQuery(e,t,r,l){const u=t.collectionGroup;let h=Jo();return this.indexManager.getCollectionParents(e,u).next(m=>se.forEach(m,p=>{const _=function(T,A){return new Ml(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,r,l).next(E=>{E.forEach((T,A)=>{h=h.insert(T,A)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,u,l))).next(h=>{u.forEach((p,_)=>{const E=_.getKey();h.get(E)===null&&(h=h.insert(E,en.newInvalidDocument(E)))});let m=Jo();return h.forEach((p,_)=>{const E=u.get(p);E!==void 0&&ru(E.mutation,_,Sn.empty(),jt.now()),Xh(t,_)&&(m=m.insert(p,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return se.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(l){return{id:l.id,version:l.version,createTime:bs(l.createTime)}}(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(l){return{name:l.name,query:Yk(l.bundledQuery),readTime:bs(l.readTime)}}(t)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(){this.overlays=new ut(xe.comparator),this.Rr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ni();return se.forEach(t,l=>this.getOverlay(e,l).next(u=>{u!==null&&r.set(l,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((l,u)=>{this.Et(e,t,u)}),se.resolve()}removeOverlaysForBatchId(e,t,r){const l=this.Rr.get(r);return l!==void 0&&(l.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(r)),se.resolve()}getOverlaysForCollection(e,t,r){const l=ni(),u=t.length+1,h=new xe(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,_=p.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===u&&p.largestBatchId>r&&l.set(p.getKey(),p)}return se.resolve(l)}getOverlaysForCollectionGroup(e,t,r,l){let u=new ut((_,E)=>_-E);const h=this.overlays.getIterator();for(;h.hasNext();){const _=h.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>r){let E=u.get(_.largestBatchId);E===null&&(E=ni(),u=u.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const m=ni(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,E)=>m.set(_,E)),!(m.size()>=l)););return se.resolve(m)}Et(e,t,r){const l=this.overlays.get(r.key);if(l!==null){const h=this.Rr.get(l.largestBatchId).delete(r.key);this.Rr.set(l.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new wk(t,r));let u=this.Rr.get(t);u===void 0&&(u=Le(),this.Rr.set(t,u)),this.Rr.set(t,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(){this.Vr=new Dt(Bt.mr),this.gr=new Dt(Bt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Bt(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Bt(e,t))}br(e,t){e.forEach(r=>this.removeReference(r,t))}Sr(e){const t=new xe(new nt([])),r=new Bt(t,e),l=new Bt(t,e+1),u=[];return this.gr.forEachInRange([r,l],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new xe(new nt([])),r=new Bt(t,e),l=new Bt(t,e+1);let u=Le();return this.gr.forEachInRange([r,l],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Bt(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Bt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return xe.comparator(e.key,t.key)||Ve(e.Cr,t.Cr)}static pr(e,t){return Ve(e.Cr,t.Cr)||xe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Dt(Bt.mr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,l){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new Sk(u,t,r,l);this.mutationQueue.push(h);for(const m of l)this.Mr=this.Mr.add(new Bt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return se.resolve(h)}lookupMutationBatch(e,t){return se.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,l=this.Nr(r),u=l<0?0:l;return se.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?wg:this.Fr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Bt(t,0),l=new Bt(t,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([r,l],h=>{const m=this.Or(h.Cr);u.push(m)}),se.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Dt(Ve);return t.forEach(l=>{const u=new Bt(l,0),h=new Bt(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],m=>{r=r.add(m.Cr)})}),se.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,l=r.length+1;let u=r;xe.isDocumentKey(u)||(u=u.child(""));const h=new Bt(new xe(u),0);let m=new Dt(Ve);return this.Mr.forEachWhile(p=>{const _=p.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(m=m.add(p.Cr)),!0)},h),se.resolve(this.Br(m))}Br(e){const t=[];return e.forEach(r=>{const l=this.Or(r);l!==null&&t.push(l)}),t}removeMutationBatch(e,t){We(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return se.forEach(t.mutations,l=>{const u=new Bt(l.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Bt(t,0),l=this.Mr.firstAfterOrEqual(r);return se.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.kr=e,this.docs=function(){return new ut(xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,l=this.docs.get(r),u=l?l.size:0,h=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return se.resolve(r?r.document.mutableCopy():en.newInvalidDocument(t))}getEntries(e,t){let r=ha();return t.forEach(l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():en.newInvalidDocument(l))}),se.resolve(r)}getDocumentsMatchingQuery(e,t,r,l){let u=ha();const h=t.path,m=new xe(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:_,value:{document:E}}=p.getNext();if(!h.isPrefixOf(_.path))break;_.path.length>h.length+1||HN(UN(E),r)<=0||(l.has(E.key)||Xh(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return se.resolve(u)}getAllFromCollectionGroup(e,t,r,l){Ae()}qr(e,t){return se.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new dC(this)}getSize(e){return se.resolve(this.size)}}class dC extends aC{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,l)=>{l.isValidDocument()?t.push(this.Ir.addEntry(e,l)):this.Ir.removeEntry(r)}),se.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e){this.persistence=e,this.Qr=new di(t=>kg(t),Cg),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Pg,this.targetCount=0,this.Ur=Al.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,l)=>t(l)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),se.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Al(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.zn(t),se.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,r){let l=0;const u=[];return this.Qr.forEach((h,m)=>{m.sequenceNumber<=t&&r.get(m.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),l++)}),se.waitFor(u).next(()=>l)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return se.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),se.resolve()}removeMatchingKeys(e,t,r){this.Kr.br(t,r);const l=this.persistence.referenceDelegate,u=[];return l&&t.forEach(h=>{u.push(l.markPotentiallyOrphaned(e,h))}),se.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),se.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return se.resolve(r)}containsKey(e,t){return se.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new $h(0),this.zr=!1,this.zr=!0,this.jr=new uC,this.referenceDelegate=e(this),this.Hr=new fC(this),this.indexManager=new Xk,this.remoteDocumentCache=function(l){return new hC(l)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new Wk(t),this.Yr=new lC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new oC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new cC(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){he("MemoryPersistence","Starting transaction:",e);const l=new mC(this.Gr.next());return this.referenceDelegate.Zr(),r(l).next(u=>this.referenceDelegate.Xr(l).next(()=>u)).toPromise().then(u=>(l.raiseOnCommittedEvent(),u))}ei(e,t){return se.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class mC extends zN{constructor(e){super(),this.currentSequenceNumber=e}}class Vg{constructor(e){this.persistence=e,this.ti=new Pg,this.ni=null}static ri(e){return new Vg(e)}get ii(){if(this.ni)return this.ni;throw Ae()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),se.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),se.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(l=>this.ii.add(l.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(u=>this.ii.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.ii,r=>{const l=xe.fromPath(r);return this.si(e,l).next(u=>{u||t.removeEntry(l,Se.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return se.or([()=>se.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class jh{constructor(e,t){this.persistence=e,this.oi=new di(r=>FN(r.path),(r,l)=>r.isEqual(l)),this.garbageCollector=sC(this,t)}static ri(e,t){return new jh(e,t)}Zr(){}Xr(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(l=>r+l))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return se.forEach(this.oi,(r,l)=>this.ar(e,r,l).next(u=>u?se.resolve():t(l)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.qr(e,h=>this.ar(e,h,t).next(m=>{m||(r++,u.removeEntry(h,Se.min()))})).next(()=>u.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),se.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=fh(e.data.value)),t}ar(e,t,r){return se.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const l=this.oi.get(t);return se.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,t,r,l){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=l}static Yi(e,t){let r=Le(),l=Le();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Ug(e,t.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return cR()?8:qN(tn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,l){const u={result:null};return this.rs(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,t,l,r).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new gC;return this._s(e,t,h).next(m=>{if(u.result=m,this.Xi)return this.us(e,t,h,m.size)})}).next(()=>u.result)}us(e,t,r,l){return r.documentReadCount<this.es?(cl()<=Me.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",hl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),se.resolve()):(cl()<=Me.DEBUG&&he("QueryEngine","Query:",hl(t),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ts*l?(cl()<=Me.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",hl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ts(t))):se.resolve())}rs(e,t){if(xx(t))return se.resolve(null);let r=Ts(t);return this.indexManager.getIndexType(e,r).next(l=>l===0?null:(t.limit!==null&&l===1&&(t=Ym(t,null,"F"),r=Ts(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const h=Le(...u);return this.ns.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,r).next(p=>{const _=this.cs(t,m);return this.ls(t,_,h,p.readTime)?this.rs(e,Ym(t,null,"F")):this.hs(e,_,t,p)}))})))}ss(e,t,r,l){return xx(t)||l.isEqual(Se.min())?se.resolve(null):this.ns.getDocuments(e,r).next(u=>{const h=this.cs(t,u);return this.ls(t,h,r,l)?se.resolve(null):(cl()<=Me.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),hl(t)),this.hs(e,h,t,VN(l,cu)).next(m=>m))})}cs(e,t){let r=new Dt(RE(e));return t.forEach((l,u)=>{Xh(e,u)&&(r=r.add(u))}),r}ls(e,t,r,l){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}_s(e,t,r){return cl()<=Me.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",hl(t)),this.ns.getDocumentsMatchingQuery(e,t,hr.min(),r)}hs(e,t,r,l){return this.ns.getDocumentsMatchingQuery(e,r,l).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg="LocalStore",_C=3e8;class yC{constructor(e,t,r,l){this.persistence=e,this.Ps=t,this.serializer=l,this.Ts=new ut(Ve),this.Is=new di(u=>kg(u),Cg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iC(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function vC(s,e,t,r){return new yC(s,e,t,r)}async function YE(s,e){const t=Re(s);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let l;return t.mutationQueue.getAllMutationBatches(r).next(u=>(l=u,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const h=[],m=[];let p=Le();for(const _ of l){h.push(_.batchId);for(const E of _.mutations)p=p.add(E.key)}for(const _ of u){m.push(_.batchId);for(const E of _.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(r,p).next(_=>({Rs:_,removedBatchIds:h,addedBatchIds:m}))})})}function xC(s,e){const t=Re(s);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const l=e.batch.keys(),u=t.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,_,E){const T=_.batch,A=T.keys();let k=se.resolve();return A.forEach(j=>{k=k.next(()=>E.getEntry(p,j)).next(q=>{const V=_.docVersions.get(j);We(V!==null),q.version.compareTo(V)<0&&(T.applyToRemoteDocument(q,_),q.isValidDocument()&&(q.setReadTime(_.commitVersion),E.addEntry(q)))})}),k.next(()=>m.mutationQueue.removeMutationBatch(p,T))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(m){let p=Le();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(p=p.add(m.batch.mutations[_].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,l))})}function XE(s){const e=Re(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function EC(s,e){const t=Re(s),r=e.snapshotVersion;let l=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});l=t.Ts;const m=[];e.targetChanges.forEach((E,T)=>{const A=l.get(T);if(!A)return;m.push(t.Hr.removeMatchingKeys(u,E.removedDocuments,T).next(()=>t.Hr.addMatchingKeys(u,E.addedDocuments,T)));let k=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?k=k.withResumeToken(Qt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,r)),l=l.insert(T,k),function(q,V,$){return q.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=_C?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(A,k,E)&&m.push(t.Hr.updateTargetData(u,k))});let p=ha(),_=Le();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(TC(u,h,e.documentUpdates).next(E=>{p=E.Vs,_=E.fs})),!r.isEqual(Se.min())){const E=t.Hr.getLastRemoteSnapshotVersion(u).next(T=>t.Hr.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(E)}return se.waitFor(m).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,_)).next(()=>p)}).then(u=>(t.Ts=l,u))}function TC(s,e,t){let r=Le(),l=Le();return t.forEach(u=>r=r.add(u)),e.getEntries(s,r).next(u=>{let h=ha();return t.forEach((m,p)=>{const _=u.get(m);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):he(Hg,"Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",p.version)}),{Vs:h,fs:l}})}function bC(s,e){const t=Re(s);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=wg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function AC(s,e){const t=Re(s);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let l;return t.Hr.getTargetData(r,e).next(u=>u?(l=u,se.resolve(l)):t.Hr.allocateTargetId(r).next(h=>(l=new ar(e,h,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,l).next(()=>l))))}).then(r=>{const l=t.Ts.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function tg(s,e,t){const r=Re(s),l=r.Ts.get(e),u=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",u,h=>r.persistence.referenceDelegate.removeTarget(h,l))}catch(h){if(!Ol(h))throw h;he(Hg,`Failed to update sequence numbers for target ${e}: ${h}`)}r.Ts=r.Ts.remove(e),r.Is.delete(l.target)}function Dx(s,e,t){const r=Re(s);let l=Se.min(),u=Le();return r.persistence.runTransaction("Execute query","readwrite",h=>function(p,_,E){const T=Re(p),A=T.Is.get(E);return A!==void 0?se.resolve(T.Ts.get(A)):T.Hr.getTargetData(_,E)}(r,h,Ts(e)).next(m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>r.Ps.getDocumentsMatchingQuery(h,e,t?l:Se.min(),t?u:Le())).next(m=>(SC(r,ck(e),m),{documents:m,gs:u})))}function SC(s,e,t){let r=s.Es.get(e)||Se.min();t.forEach((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),s.Es.set(e,r)}class Ox{constructor(){this.activeTargetIds=pk()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wC{constructor(){this.ho=new Ox,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Ox,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="ConnectivityMonitor";class Lx{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(Mx,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(Mx,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh=null;function ng(){return rh===null?rh=function(){return 268435456+Math.round(2147483648*Math.random())}():rh++,"0x"+rh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="RestConnection",NC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kC{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${l}`,this.wo=this.databaseId.database===wh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}bo(e,t,r,l,u){const h=ng(),m=this.So(e,t.toUriEncodedString());he(km,`Sending RPC '${e}' ${h}:`,m,r);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,l,u),this.vo(e,m,p,r).then(_=>(he(km,`Received RPC '${e}' ${h}: `,_),_),_=>{throw xl(km,`RPC '${e}' ${h} failed with error: `,_,"url: ",m,"request:",r),_})}Co(e,t,r,l,u,h){return this.bo(e,t,r,l,u)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,u)=>e[u]=l),r&&r.headers.forEach((l,u)=>e[u]=l)}So(e,t){const r=NC[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class IC extends kC{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,l){const u=ng();return new Promise((h,m)=>{const p=new nE;p.setWithCredentials(!0),p.listenOnce(sE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case dh.NO_ERROR:const E=p.getResponseJson();he(Zt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case dh.TIMEOUT:he(Zt,`RPC '${e}' ${u} timed out`),m(new de(ne.DEADLINE_EXCEEDED,"Request time out"));break;case dh.HTTP_ERROR:const T=p.getStatus();if(he(Zt,`RPC '${e}' ${u} failed with status:`,T,"response text:",p.getResponseText()),T>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const k=A==null?void 0:A.error;if(k&&k.status&&k.message){const j=function(V){const $=V.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf($)>=0?$:ne.UNKNOWN}(k.status);m(new de(j,k.message))}else m(new de(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new de(ne.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{he(Zt,`RPC '${e}' ${u} completed.`)}});const _=JSON.stringify(l);he(Zt,`RPC '${e}' ${u} sending request:`,l),p.send(t,"POST",_,r,15)})}Wo(e,t,r){const l=ng(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=iE(),m=rE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const E=u.join("");he(Zt,`Creating RPC '${e}' stream ${l}: ${E}`,p);const T=h.createWebChannel(E,p);let A=!1,k=!1;const j=new CC({Fo:V=>{k?he(Zt,`Not sending because RPC '${e}' stream ${l} is closed:`,V):(A||(he(Zt,`Opening RPC '${e}' stream ${l} transport.`),T.open(),A=!0),he(Zt,`RPC '${e}' stream ${l} sending:`,V),T.send(V))},Mo:()=>T.close()}),q=(V,$,H)=>{V.listen($,G=>{try{H(G)}catch(Z){setTimeout(()=>{throw Z},0)}})};return q(T,Zo.EventType.OPEN,()=>{k||(he(Zt,`RPC '${e}' stream ${l} transport opened.`),j.Qo())}),q(T,Zo.EventType.CLOSE,()=>{k||(k=!0,he(Zt,`RPC '${e}' stream ${l} transport closed`),j.Ko())}),q(T,Zo.EventType.ERROR,V=>{k||(k=!0,xl(Zt,`RPC '${e}' stream ${l} transport errored:`,V),j.Ko(new de(ne.UNAVAILABLE,"The operation could not be completed")))}),q(T,Zo.EventType.MESSAGE,V=>{var $;if(!k){const H=V.data[0];We(!!H);const G=H,Z=(G==null?void 0:G.error)||(($=G[0])===null||$===void 0?void 0:$.error);if(Z){he(Zt,`RPC '${e}' stream ${l} received error:`,Z);const J=Z.status;let ae=function(S){const I=At[S];if(I!==void 0)return VE(I)}(J),O=Z.message;ae===void 0&&(ae=ne.INTERNAL,O="Unknown error status: "+J+" with message "+Z.message),k=!0,j.Ko(new de(ae,O)),T.close()}else he(Zt,`RPC '${e}' stream ${l} received:`,H),j.Uo(H)}}),q(m,aE.STAT_EVENT,V=>{V.stat===Km.PROXY?he(Zt,`RPC '${e}' stream ${l} detected buffering proxy`):V.stat===Km.NOPROXY&&he(Zt,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{j.$o()},0),j}}function Cm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(s){return new Mk(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,t,r=1e3,l=1.5,u=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=l,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),l=Math.max(0,t-r);l>0&&he("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="PersistentStream";class JE{constructor(e,t,r,l,u,h,m,p){this.Ti=e,this.n_=r,this.r_=l,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new ZE(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(ca(t.toString()),ca("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,l])=>{this.i_===t&&this.V_(r,l)},r=>{e(()=>{const l=new de(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(l)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{r(()=>this.m_(l))}),this.stream.onMessage(l=>{r(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he(Px,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(he(Px,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jC extends JE{constructor(e,t,r,l,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,l,h),this.serializer=u}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=Vk(this.serializer,e),r=function(u){if(!("targetChange"in u))return Se.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Se.min():h.readTime?bs(h.readTime):Se.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=eg(this.serializer),t.addTarget=function(u,h){let m;const p=h.target;if(m=Qm(p)?{documents:Bk(u,p)}:{query:zk(u,p).ht},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=BE(u,h.resumeToken);const _=Xm(u,h.expectedCount);_!==null&&(m.expectedCount=_)}else if(h.snapshotVersion.compareTo(Se.min())>0){m.readTime=Ih(u,h.snapshotVersion.toTimestamp());const _=Xm(u,h.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,e);const r=Kk(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=eg(this.serializer),t.removeTarget=e,this.I_(t)}}class DC extends JE{constructor(e,t,r,l,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,l,h),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return We(!!e.streamToken),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){We(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=Hk(e.writeResults,e.commitTime),r=bs(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=eg(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Uk(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{}class MC extends OC{constructor(e,t,r,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.bo(e,Zm(t,r),l,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(ne.UNKNOWN,u.toString())})}Co(e,t,r,l,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Co(e,Zm(t,r),l,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new de(ne.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class LC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ca(t),this.N_=!1):he("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li="RemoteStore";class PC{constructor(e,t,r,l,u){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{r.enqueueAndForget(async()=>{fi(this)&&(he(li,"Restarting streams for network reachability change."),await async function(p){const _=Re(p);_.W_.add(4),await Au(_),_.j_.set("Unknown"),_.W_.delete(4),await nd(_)}(this))})}),this.j_=new LC(r,l)}}async function nd(s){if(fi(s))for(const e of s.G_)await e(!0)}async function Au(s){for(const e of s.G_)await e(!1)}function eT(s,e){const t=Re(s);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Kg(t)?qg(t):Ll(t).c_()&&zg(t,e))}function Bg(s,e){const t=Re(s),r=Ll(t);t.U_.delete(e),r.c_()&&tT(t,e),t.U_.size===0&&(r.c_()?r.P_():fi(t)&&t.j_.set("Unknown"))}function zg(s,e){if(s.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ll(s).y_(e)}function tT(s,e){s.H_.Ne(e),Ll(s).w_(e)}function qg(s){s.H_=new Ik({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>s.U_.get(e)||null,it:()=>s.datastore.serializer.databaseId}),Ll(s).start(),s.j_.B_()}function Kg(s){return fi(s)&&!Ll(s).u_()&&s.U_.size>0}function fi(s){return Re(s).W_.size===0}function nT(s){s.H_=void 0}async function VC(s){s.j_.set("Online")}async function UC(s){s.U_.forEach((e,t)=>{zg(s,e)})}async function HC(s,e){nT(s),Kg(s)?(s.j_.q_(e),qg(s)):s.j_.set("Unknown")}async function BC(s,e,t){if(s.j_.set("Online"),e instanceof HE&&e.state===2&&e.cause)try{await async function(l,u){const h=u.cause;for(const m of u.targetIds)l.U_.has(m)&&(await l.remoteSyncer.rejectListen(m,h),l.U_.delete(m),l.H_.removeTarget(m))}(s,e)}catch(r){he(li,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Dh(s,r)}else if(e instanceof ph?s.H_.We(e):e instanceof UE?s.H_.Ze(e):s.H_.je(e),!t.isEqual(Se.min()))try{const r=await XE(s.localStore);t.compareTo(r)>=0&&await function(u,h){const m=u.H_.ot(h);return m.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.U_.get(_);E&&u.U_.set(_,E.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,_)=>{const E=u.U_.get(p);if(!E)return;u.U_.set(p,E.withResumeToken(Qt.EMPTY_BYTE_STRING,E.snapshotVersion)),tT(u,p);const T=new ar(E.target,p,_,E.sequenceNumber);zg(u,T)}),u.remoteSyncer.applyRemoteEvent(m)}(s,t)}catch(r){he(li,"Failed to raise snapshot:",r),await Dh(s,r)}}async function Dh(s,e,t){if(!Ol(e))throw e;s.W_.add(1),await Au(s),s.j_.set("Offline"),t||(t=()=>XE(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{he(li,"Retrying IndexedDB access"),await t(),s.W_.delete(1),await nd(s)})}function sT(s,e){return e().catch(t=>Dh(s,t,e))}async function sd(s){const e=Re(s),t=gr(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:wg;for(;zC(e);)try{const l=await bC(e.localStore,r);if(l===null){e.K_.length===0&&t.P_();break}r=l.batchId,qC(e,l)}catch(l){await Dh(e,l)}aT(e)&&rT(e)}function zC(s){return fi(s)&&s.K_.length<10}function qC(s,e){s.K_.push(e);const t=gr(s);t.c_()&&t.b_&&t.S_(e.mutations)}function aT(s){return fi(s)&&!gr(s).u_()&&s.K_.length>0}function rT(s){gr(s).start()}async function KC(s){gr(s).C_()}async function FC(s){const e=gr(s);for(const t of s.K_)e.S_(t.mutations)}async function GC(s,e,t){const r=s.K_.shift(),l=Og.from(r,e,t);await sT(s,()=>s.remoteSyncer.applySuccessfulWrite(l)),await sd(s)}async function $C(s,e){e&&gr(s).b_&&await async function(r,l){if(function(h){return Nk(h)&&h!==ne.ABORTED}(l.code)){const u=r.K_.shift();gr(r).h_(),await sT(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l)),await sd(r)}}(s,e),aT(s)&&rT(s)}async function Vx(s,e){const t=Re(s);t.asyncQueue.verifyOperationInProgress(),he(li,"RemoteStore received new credentials");const r=fi(t);t.W_.add(3),await Au(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await nd(t)}async function QC(s,e){const t=Re(s);e?(t.W_.delete(2),await nd(t)):e||(t.W_.add(2),await Au(t),t.j_.set("Unknown"))}function Ll(s){return s.J_||(s.J_=function(t,r,l){const u=Re(t);return u.M_(),new jC(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(s.datastore,s.asyncQueue,{xo:VC.bind(null,s),No:UC.bind(null,s),Lo:HC.bind(null,s),p_:BC.bind(null,s)}),s.G_.push(async e=>{e?(s.J_.h_(),Kg(s)?qg(s):s.j_.set("Unknown")):(await s.J_.stop(),nT(s))})),s.J_}function gr(s){return s.Y_||(s.Y_=function(t,r,l){const u=Re(t);return u.M_(),new DC(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:KC.bind(null,s),Lo:$C.bind(null,s),D_:FC.bind(null,s),v_:GC.bind(null,s)}),s.G_.push(async e=>{e?(s.Y_.h_(),await sd(s)):(await s.Y_.stop(),s.K_.length>0&&(he(li,`Stopping write stream with ${s.K_.length} pending writes`),s.K_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,t,r,l,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new ia,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,l,u){const h=Date.now()+r,m=new Fg(e,t,h,l,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gg(s,e){if(ca("AsyncQueue",`${e}: ${s}`),Ol(s))return new de(ne.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{static emptySet(e){return new gl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||xe.comparator(t.key,r.key):(t,r)=>xe.comparator(t.key,r.key),this.keyedMap=Jo(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof gl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new gl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(){this.Z_=new ut(xe.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ae():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Sl{constructor(e,t,r,l,u,h,m,p,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,t,r,l,u){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new Sl(e,t,gl.emptySet(t),h,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==r[l].type||!t[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class YC{constructor(){this.queries=Hx(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const l=Re(t),u=l.queries;l.queries=Hx(),u.forEach((h,m)=>{for(const p of m.ta)p.onError(r)})})(this,new de(ne.ABORTED,"Firestore shutting down"))}}function Hx(){return new di(s=>wE(s),Yh)}async function iT(s,e){const t=Re(s);let r=3;const l=e.query;let u=t.queries.get(l);u?!u.na()&&e.ra()&&(r=2):(u=new WC,r=e.ra()?0:1);try{switch(r){case 0:u.ea=await t.onListen(l,!0);break;case 1:u.ea=await t.onListen(l,!1);break;case 2:await t.onFirstRemoteStoreListen(l)}}catch(h){const m=Gg(h,`Initialization of query '${hl(e.query)}' failed`);return void e.onError(m)}t.queries.set(l,u),u.ta.push(e),e.sa(t.onlineState),u.ea&&e.oa(u.ea)&&$g(t)}async function lT(s,e){const t=Re(s),r=e.query;let l=3;const u=t.queries.get(r);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?l=e.ra()?0:1:!u.na()&&e.ra()&&(l=2))}switch(l){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function XC(s,e){const t=Re(s);let r=!1;for(const l of e){const u=l.query,h=t.queries.get(u);if(h){for(const m of h.ta)m.oa(l)&&(r=!0);h.ea=l}}r&&$g(t)}function ZC(s,e,t){const r=Re(s),l=r.queries.get(e);if(l)for(const u of l.ta)u.onError(t);r.queries.delete(e)}function $g(s){s.ia.forEach(e=>{e.next()})}var sg,Bx;(Bx=sg||(sg={}))._a="default",Bx.Cache="cache";class oT{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new Sl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==sg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e){this.key=e}}class cT{constructor(e){this.key=e}}class JC{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Le(),this.mutatedKeys=Le(),this.ya=RE(e),this.wa=new gl(this.ya)}get ba(){return this.fa}Sa(e,t){const r=t?t.Da:new Ux,l=t?t.wa:this.wa;let u=t?t.mutatedKeys:this.mutatedKeys,h=l,m=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((E,T)=>{const A=l.get(E),k=Xh(this.query,T)?T:null,j=!!A&&this.mutatedKeys.has(A.key),q=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let V=!1;A&&k?A.data.isEqual(k.data)?j!==q&&(r.track({type:3,doc:k}),V=!0):this.va(A,k)||(r.track({type:2,doc:k}),V=!0,(p&&this.ya(k,p)>0||_&&this.ya(k,_)<0)&&(m=!0)):!A&&k?(r.track({type:0,doc:k}),V=!0):A&&!k&&(r.track({type:1,doc:A}),V=!0,(p||_)&&(m=!0)),V&&(k?(h=h.add(k),u=q?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{wa:h,Da:r,ls:m,mutatedKeys:u}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,l){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((E,T)=>function(k,j){const q=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return q(k)-q(j)}(E.type,T.type)||this.ya(E.doc,T.doc)),this.Ca(r),l=l!=null&&l;const m=t&&!l?this.Fa():[],p=this.pa.size===0&&this.current&&!l?1:0,_=p!==this.ga;return this.ga=p,h.length!==0||_?{snapshot:new Sl(this.query,e.wa,u,h,e.mutatedKeys,p===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Ux,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Le(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new cT(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new uT(r))}),t}Oa(e){this.fa=e.gs,this.pa=Le();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return Sl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Qg="SyncEngine";class eI{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class tI{constructor(e){this.key=e,this.Ba=!1}}class nI{constructor(e,t,r,l,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new di(m=>wE(m),Yh),this.qa=new Map,this.Qa=new Set,this.$a=new ut(xe.comparator),this.Ka=new Map,this.Ua=new Pg,this.Wa={},this.Ga=new Map,this.za=Al.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function sI(s,e,t=!0){const r=pT(s);let l;const u=r.ka.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.Na()):l=await hT(r,e,t,!0),l}async function aI(s,e){const t=pT(s);await hT(t,e,!0,!1)}async function hT(s,e,t,r){const l=await AC(s.localStore,Ts(e)),u=l.targetId,h=s.sharedClientState.addLocalQueryTarget(u,t);let m;return r&&(m=await rI(s,e,u,h==="current",l.resumeToken)),s.isPrimaryClient&&t&&eT(s.remoteStore,l),m}async function rI(s,e,t,r,l){s.Ha=(T,A,k)=>async function(q,V,$,H){let G=V.view.Sa($);G.ls&&(G=await Dx(q.localStore,V.query,!1).then(({documents:O})=>V.view.Sa(O,G)));const Z=H&&H.targetChanges.get(V.targetId),J=H&&H.targetMismatches.get(V.targetId)!=null,ae=V.view.applyChanges(G,q.isPrimaryClient,Z,J);return qx(q,V.targetId,ae.Ma),ae.snapshot}(s,T,A,k);const u=await Dx(s.localStore,e,!0),h=new JC(e,u.gs),m=h.Sa(u.documents),p=bu.createSynthesizedTargetChangeForCurrentChange(t,r&&s.onlineState!=="Offline",l),_=h.applyChanges(m,s.isPrimaryClient,p);qx(s,t,_.Ma);const E=new eI(e,t,h);return s.ka.set(e,E),s.qa.has(t)?s.qa.get(t).push(e):s.qa.set(t,[e]),_.snapshot}async function iI(s,e,t){const r=Re(s),l=r.ka.get(e),u=r.qa.get(l.targetId);if(u.length>1)return r.qa.set(l.targetId,u.filter(h=>!Yh(h,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await tg(r.localStore,l.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(l.targetId),t&&Bg(r.remoteStore,l.targetId),ag(r,l.targetId)}).catch(Dl)):(ag(r,l.targetId),await tg(r.localStore,l.targetId,!0))}async function lI(s,e){const t=Re(s),r=t.ka.get(e),l=t.qa.get(r.targetId);t.isPrimaryClient&&l.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Bg(t.remoteStore,r.targetId))}async function oI(s,e,t){const r=gI(s);try{const l=await function(h,m){const p=Re(h),_=jt.now(),E=m.reduce((k,j)=>k.add(j.key),Le());let T,A;return p.persistence.runTransaction("Locally write mutations","readwrite",k=>{let j=ha(),q=Le();return p.ds.getEntries(k,E).next(V=>{j=V,j.forEach(($,H)=>{H.isValidDocument()||(q=q.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(k,j)).next(V=>{T=V;const $=[];for(const H of m){const G=bk(H,T.get(H.key).overlayedDocument);G!=null&&$.push(new xr(H.key,G,yE(G.value.mapValue),Kn.exists(!0)))}return p.mutationQueue.addMutationBatch(k,_,$,m)}).next(V=>{A=V;const $=V.applyToLocalDocumentSet(T,q);return p.documentOverlayCache.saveOverlays(k,V.batchId,$)})}).then(()=>({batchId:A.batchId,changes:kE(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),function(h,m,p){let _=h.Wa[h.currentUser.toKey()];_||(_=new ut(Ve)),_=_.insert(m,p),h.Wa[h.currentUser.toKey()]=_}(r,l.batchId,t),await Su(r,l.changes),await sd(r.remoteStore)}catch(l){const u=Gg(l,"Failed to persist write");t.reject(u)}}async function dT(s,e){const t=Re(s);try{const r=await EC(t.localStore,e);e.targetChanges.forEach((l,u)=>{const h=t.Ka.get(u);h&&(We(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?h.Ba=!0:l.modifiedDocuments.size>0?We(h.Ba):l.removedDocuments.size>0&&(We(h.Ba),h.Ba=!1))}),await Su(t,r,e)}catch(r){await Dl(r)}}function zx(s,e,t){const r=Re(s);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const l=[];r.ka.forEach((u,h)=>{const m=h.view.sa(e);m.snapshot&&l.push(m.snapshot)}),function(h,m){const p=Re(h);p.onlineState=m;let _=!1;p.queries.forEach((E,T)=>{for(const A of T.ta)A.sa(m)&&(_=!0)}),_&&$g(p)}(r.eventManager,e),l.length&&r.La.p_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function uI(s,e,t){const r=Re(s);r.sharedClientState.updateQueryState(e,"rejected",t);const l=r.Ka.get(e),u=l&&l.key;if(u){let h=new ut(xe.comparator);h=h.insert(u,en.newNoDocument(u,Se.min()));const m=Le().add(u),p=new ed(Se.min(),new Map,new ut(Ve),h,m);await dT(r,p),r.$a=r.$a.remove(u),r.Ka.delete(e),Wg(r)}else await tg(r.localStore,e,!1).then(()=>ag(r,e,t)).catch(Dl)}async function cI(s,e){const t=Re(s),r=e.batch.batchId;try{const l=await xC(t.localStore,e);mT(t,r,null),fT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Su(t,l)}catch(l){await Dl(l)}}async function hI(s,e,t){const r=Re(s);try{const l=await function(h,m){const p=Re(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let E;return p.mutationQueue.lookupMutationBatch(_,m).next(T=>(We(T!==null),E=T.keys(),p.mutationQueue.removeMutationBatch(_,T))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E)).next(()=>p.localDocuments.getDocuments(_,E))})}(r.localStore,e);mT(r,e,t),fT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Su(r,l)}catch(l){await Dl(l)}}function fT(s,e){(s.Ga.get(e)||[]).forEach(t=>{t.resolve()}),s.Ga.delete(e)}function mT(s,e,t){const r=Re(s);let l=r.Wa[r.currentUser.toKey()];if(l){const u=l.get(e);u&&(t?u.reject(t):u.resolve(),l=l.remove(e)),r.Wa[r.currentUser.toKey()]=l}}function ag(s,e,t=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.qa.get(e))s.ka.delete(r),t&&s.La.Ja(r,t);s.qa.delete(e),s.isPrimaryClient&&s.Ua.Sr(e).forEach(r=>{s.Ua.containsKey(r)||gT(s,r)})}function gT(s,e){s.Qa.delete(e.path.canonicalString());const t=s.$a.get(e);t!==null&&(Bg(s.remoteStore,t),s.$a=s.$a.remove(e),s.Ka.delete(t),Wg(s))}function qx(s,e,t){for(const r of t)r instanceof uT?(s.Ua.addReference(r.key,e),dI(s,r)):r instanceof cT?(he(Qg,"Document no longer in limbo: "+r.key),s.Ua.removeReference(r.key,e),s.Ua.containsKey(r.key)||gT(s,r.key)):Ae()}function dI(s,e){const t=e.key,r=t.path.canonicalString();s.$a.get(t)||s.Qa.has(r)||(he(Qg,"New document in limbo: "+t),s.Qa.add(r),Wg(s))}function Wg(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const e=s.Qa.values().next().value;s.Qa.delete(e);const t=new xe(nt.fromString(e)),r=s.za.next();s.Ka.set(r,new tI(t)),s.$a=s.$a.insert(t,r),eT(s.remoteStore,new ar(Ts(Ig(t.path)),r,"TargetPurposeLimboResolution",$h.ae))}}async function Su(s,e,t){const r=Re(s),l=[],u=[],h=[];r.ka.isEmpty()||(r.ka.forEach((m,p)=>{h.push(r.Ha(p,e,t).then(_=>{var E;if((_||t)&&r.isPrimaryClient){const T=_?!_.fromCache:(E=t==null?void 0:t.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;r.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(_){l.push(_);const T=Ug.Yi(p.targetId,_);u.push(T)}}))}),await Promise.all(h),r.La.p_(l),await async function(p,_){const E=Re(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>se.forEach(_,A=>se.forEach(A.Hi,k=>E.persistence.referenceDelegate.addReference(T,A.targetId,k)).next(()=>se.forEach(A.Ji,k=>E.persistence.referenceDelegate.removeReference(T,A.targetId,k)))))}catch(T){if(!Ol(T))throw T;he(Hg,"Failed to update sequence numbers: "+T)}for(const T of _){const A=T.targetId;if(!T.fromCache){const k=E.Ts.get(A),j=k.snapshotVersion,q=k.withLastLimboFreeSnapshotVersion(j);E.Ts=E.Ts.insert(A,q)}}}(r.localStore,u))}async function fI(s,e){const t=Re(s);if(!t.currentUser.isEqual(e)){he(Qg,"User change. New user:",e.toKey());const r=await YE(t.localStore,e);t.currentUser=e,function(u,h){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new de(ne.CANCELLED,h))})}),u.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Su(t,r.Rs)}}function mI(s,e){const t=Re(s),r=t.Ka.get(e);if(r&&r.Ba)return Le().add(r.key);{let l=Le();const u=t.qa.get(e);if(!u)return l;for(const h of u){const m=t.ka.get(h);l=l.unionWith(m.view.ba)}return l}}function pT(s){const e=Re(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=dT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uI.bind(null,e),e.La.p_=XC.bind(null,e.eventManager),e.La.Ja=ZC.bind(null,e.eventManager),e}function gI(s){const e=Re(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hI.bind(null,e),e}class Oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=td(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return vC(this.persistence,new pC,e.initialUser,this.serializer)}Xa(e){return new WE(Vg.ri,this.serializer)}Za(e){return new wC}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Oh.provider={build:()=>new Oh};class pI extends Oh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){We(this.persistence.referenceDelegate instanceof jh);const r=this.persistence.referenceDelegate.garbageCollector;return new tC(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new WE(r=>jh.ri(r,t),this.serializer)}}class rg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=fI.bind(null,this.syncEngine),await QC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new YC}()}createDatastore(e){const t=td(e.databaseInfo.databaseId),r=function(u){return new IC(u)}(e.databaseInfo);return function(u,h,m,p){return new MC(u,h,m,p)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,l,u,h,m){return new PC(r,l,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>zx(this.syncEngine,t,0),function(){return Lx.D()?new Lx:new RC}())}createSyncEngine(e,t){return function(l,u,h,m,p,_,E){const T=new nI(l,u,h,m,p,_);return E&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(l){const u=Re(l);he(li,"RemoteStore shutting down."),u.W_.add(5),await Au(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}rg.provider={build:()=>new rg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ca("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr="FirestoreClient";class _I{constructor(e,t,r,l,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=l,this.user=Jt.UNAUTHENTICATED,this.clientId=oE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,async h=>{he(pr,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(r,h=>(he(pr,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ia;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Gg(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Im(s,e){s.asyncQueue.verifyOperationInProgress(),he(pr,"Initializing OfflineComponentProvider");const t=s.configuration;await e.initialize(t);let r=t.initialUser;s.setCredentialChangeListener(async l=>{r.isEqual(l)||(await YE(e.localStore,l),r=l)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function Kx(s,e){s.asyncQueue.verifyOperationInProgress();const t=await yI(s);he(pr,"Initializing OnlineComponentProvider"),await e.initialize(t,s.configuration),s.setCredentialChangeListener(r=>Vx(e.remoteStore,r)),s.setAppCheckTokenChangeListener((r,l)=>Vx(e.remoteStore,l)),s._onlineComponents=e}async function yI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){he(pr,"Using user provided OfflineComponentProvider");try{await Im(s,s._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(l){return l.name==="FirebaseError"?l.code===ne.FAILED_PRECONDITION||l.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(t))throw t;xl("Error using user provided cache. Falling back to memory cache: "+t),await Im(s,new Oh)}}else he(pr,"Using default OfflineComponentProvider"),await Im(s,new pI(void 0));return s._offlineComponents}async function yT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(he(pr,"Using user provided OnlineComponentProvider"),await Kx(s,s._uninitializedComponentsProvider._online)):(he(pr,"Using default OnlineComponentProvider"),await Kx(s,new rg))),s._onlineComponents}function vI(s){return yT(s).then(e=>e.syncEngine)}async function vT(s){const e=await yT(s),t=e.eventManager;return t.onListen=sI.bind(null,e.syncEngine),t.onUnlisten=iI.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=aI.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=lI.bind(null,e.syncEngine),t}function xI(s,e,t={}){const r=new ia;return s.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,_){const E=new _T({next:A=>{E.su(),h.enqueueAndForget(()=>lT(u,T));const k=A.docs.has(m);!k&&A.fromCache?_.reject(new de(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&A.fromCache&&p&&p.source==="server"?_.reject(new de(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(A)},error:A=>_.reject(A)}),T=new oT(Ig(m.path),E,{includeMetadataChanges:!0,Ta:!0});return iT(u,T)}(await vT(s),s.asyncQueue,e,t,r)),r.promise}function EI(s,e,t={}){const r=new ia;return s.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,_){const E=new _T({next:A=>{E.su(),h.enqueueAndForget(()=>lT(u,T)),A.fromCache&&p.source==="server"?_.reject(new de(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(A)},error:A=>_.reject(A)}),T=new oT(m,E,{includeMetadataChanges:!0,Ta:!0});return iT(u,T)}(await vT(s),s.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(s,e,t){if(!t)throw new de(ne.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function TI(s,e,t,r){if(e===!0&&r===!0)throw new de(ne.INVALID_ARGUMENT,`${s} and ${t} cannot be used together.`)}function Gx(s){if(!xe.isDocumentKey(s))throw new de(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function $x(s){if(xe.isDocumentKey(s))throw new de(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function ad(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ae()}function es(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new de(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ad(s);throw new de(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="firestore.googleapis.com",Qx=!0;class Wx{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TT,this.ssl=Qx}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Qx;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Jk)throw new de(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,l){return r.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rd{constructor(e,t,r,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new CN;switch(r.type){case"firstParty":return new ON(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Fx.get(t);r&&(he("ComponentProvider","Removing Datastore"),Fx.delete(t),r.terminate())}(this),Promise.resolve()}}function bI(s,e,t,r={}){var l;const u=(s=es(s,rd))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:s._getEmulatorOptions()}),m=`${e}:${t}`;u.host!==TT&&u.host!==m&&xl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:r});if(!ai(p,h)&&(s._setSettings(p),r.mockUserToken)){let _,E;if(typeof r.mockUserToken=="string")_=r.mockUserToken,E=Jt.MOCK_USER;else{_=W0(r.mockUserToken,(l=s._app)===null||l===void 0?void 0:l.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new de(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Jt(T)}s._authCredentials=new IN(new lE(_,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new mi(this.firestore,e,this._query)}}class cn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new or(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class or extends mi{constructor(e,t,r){super(e,t,Ig(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new xe(e))}withConverter(e){return new or(this.firestore,e,this._path)}}function Yg(s,e,...t){if(s=st(s),ET("collection","path",e),s instanceof rd){const r=nt.fromString(e,...t);return $x(r),new or(s,null,r)}{if(!(s instanceof cn||s instanceof or))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(nt.fromString(e,...t));return $x(r),new or(s.firestore,null,r)}}function _r(s,e,...t){if(s=st(s),arguments.length===1&&(e=oE.newId()),ET("doc","path",e),s instanceof rd){const r=nt.fromString(e,...t);return Gx(r),new cn(s,null,new xe(r))}{if(!(s instanceof cn||s instanceof or))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(nt.fromString(e,...t));return Gx(r),new cn(s.firestore,s instanceof or?s.converter:null,new xe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx="AsyncQueue";class Xx{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new ZE(this,"async_queue_retry"),this.bu=()=>{const r=Cm();r&&he(Yx,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const t=Cm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Cm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new ia;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ol(e))throw e;he(Yx,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const l=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(r);throw ca("INTERNAL UNHANDLED ERROR: ",l),r}).then(r=>(this.pu=!1,r))));return this.Su=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const l=Fg.createAndSchedule(this,e,t,r,u=>this.Fu(u));return this.fu.push(l),l}Du(){this.gu&&Ae()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class gi extends rd{constructor(e,t,r,l){super(e,t,r,l),this.type="firestore",this._queue=new Xx,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Xx(e),this._firestoreClient=void 0,await e}}}function AI(s,e){const t=typeof s=="object"?s:Ag(),r=typeof s=="string"?s:wh,l=Gh(t,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=G0("firestore");u&&bI(l,...u)}return l}function Xg(s){if(s._terminated)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||SI(s),s._firestoreClient}function SI(s){var e,t,r;const l=s._freezeSettings(),u=function(m,p,_,E){return new QN(m,p,_,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,xT(E.experimentalLongPollingOptions),E.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,l);s._componentsProvider||!((t=l.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=l.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(s._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),s._firestoreClient=new _I(s._authCredentials,s._appCheckCredentials,s._queue,u,s._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wl(Qt.fromBase64String(e))}catch(t){throw new de(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new wl(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=/^__.*__$/;class RI{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new xr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Tu(e,this.data,t,this.fieldTransforms)}}class bT{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new xr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function AT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class tp{constructor(e,t,r,l,u,h){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new tp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),l=this.ku({path:r,Qu:!1});return l.$u(e),l}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),l=this.ku({path:r,Qu:!1});return l.Bu(),l}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Mh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(AT(this.Lu)&&wI.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class NI{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||td(e)}ju(e,t,r,l=!1){return new tp({Lu:e,methodName:t,zu:r,path:$t.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ld(s){const e=s._freezeSettings(),t=td(s._databaseId);return new NI(s._databaseId,!!e.ignoreUndefinedProperties,t)}function ST(s,e,t,r,l,u={}){const h=s.ju(u.merge||u.mergeFields?2:0,e,t,l);np("Data must be an object, but it was:",h,r);const m=wT(r,h);let p,_;if(u.merge)p=new Sn(h.fieldMask),_=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const A=ig(e,T,t);if(!h.contains(A))throw new de(ne.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);NT(E,A)||E.push(A)}p=new Sn(E),_=h.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,_=h.fieldTransforms;return new RI(new pn(m),p,_)}class od extends Zg{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof od}}function kI(s,e,t,r){const l=s.ju(1,e,t);np("Data must be an object, but it was:",l,r);const u=[],h=pn.empty();vr(r,(p,_)=>{const E=sp(e,p,t);_=st(_);const T=l.Ku(E);if(_ instanceof od)u.push(E);else{const A=wu(_,T);A!=null&&(u.push(E),h.set(E,A))}});const m=new Sn(u);return new bT(h,m,l.fieldTransforms)}function CI(s,e,t,r,l,u){const h=s.ju(1,e,t),m=[ig(e,r,t)],p=[l];if(u.length%2!=0)throw new de(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(ig(e,u[A])),p.push(u[A+1]);const _=[],E=pn.empty();for(let A=m.length-1;A>=0;--A)if(!NT(_,m[A])){const k=m[A];let j=p[A];j=st(j);const q=h.Ku(k);if(j instanceof od)_.push(k);else{const V=wu(j,q);V!=null&&(_.push(k),E.set(k,V))}}const T=new Sn(_);return new bT(E,T,h.fieldTransforms)}function II(s,e,t,r=!1){return wu(t,s.ju(r?4:3,e))}function wu(s,e){if(RT(s=st(s)))return np("Unsupported field value:",e,s),wT(s,e);if(s instanceof Zg)return function(r,l){if(!AT(l.Lu))throw l.Wu(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,l){const u=[];let h=0;for(const m of r){let p=wu(m,l.Uu(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(s,e)}return function(r,l){if((r=st(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _k(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=jt.fromDate(r);return{timestampValue:Ih(l.serializer,u)}}if(r instanceof jt){const u=new jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ih(l.serializer,u)}}if(r instanceof Jg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wl)return{bytesValue:BE(l.serializer,r._byteString)};if(r instanceof cn){const u=l.databaseId,h=r.firestore._databaseId;if(!h.isEqual(u))throw l.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Lg(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof ep)return function(h,m){return{mapValue:{fields:{[pE]:{stringValue:_E},[Rh]:{arrayValue:{values:h.toArray().map(_=>{if(typeof _!="number")throw m.Wu("VectorValues must only contain numeric values.");return jg(m.serializer,_)})}}}}}}(r,l);throw l.Wu(`Unsupported field value: ${ad(r)}`)}(s,e)}function wT(s,e){const t={};return cE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vr(s,(r,l)=>{const u=wu(l,e.qu(r));u!=null&&(t[r]=u)}),{mapValue:{fields:t}}}function RT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof jt||s instanceof Jg||s instanceof wl||s instanceof cn||s instanceof Zg||s instanceof ep)}function np(s,e,t){if(!RT(t)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(t)){const r=ad(t);throw r==="an object"?e.Wu(s+" a custom object"):e.Wu(s+" "+r)}}function ig(s,e,t){if((e=st(e))instanceof id)return e._internalPath;if(typeof e=="string")return sp(s,e);throw Mh("Field path arguments must be of type string or ",s,!1,void 0,t)}const jI=new RegExp("[~\\*/\\[\\]]");function sp(s,e,t){if(e.search(jI)>=0)throw Mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,t);try{return new id(...e.split("."))._internalPath}catch{throw Mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,t)}}function Mh(s,e,t,r,l){const u=r&&!r.isEmpty(),h=l!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${r}`),h&&(p+=` in document ${l}`),p+=")"),new de(ne.INVALID_ARGUMENT,m+s+p)}function NT(s,e){return s.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,t,r,l,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new DI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ap("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class DI extends kT{data(){return super.data()}}function ap(s,e){return typeof e=="string"?sp(s,e):e instanceof id?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new de(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rp{}class CT extends rp{}function MI(s,e,...t){let r=[];e instanceof rp&&r.push(e),r=r.concat(t),function(u){const h=u.filter(p=>p instanceof lp).length,m=u.filter(p=>p instanceof ip).length;if(h>1||h>0&&m>0)throw new de(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const l of r)s=l._apply(s);return s}class ip extends CT{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new ip(e,t,r)}_apply(e){const t=this._parse(e);return IT(e._query,t),new mi(e.firestore,e.converter,Wm(e._query,t))}_parse(e){const t=ld(e.firestore);return function(u,h,m,p,_,E,T){let A;if(_.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new de(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Jx(T,E);const j=[];for(const q of T)j.push(Zx(p,u,q));A={arrayValue:{values:j}}}else A=Zx(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Jx(T,E),A=II(m,h,T,E==="in"||E==="not-in");return St.create(_,E,A)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class lp extends rp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new lp(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Jn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(l,u){let h=l;const m=u.getFlattenedFilters();for(const p of m)IT(h,p),h=Wm(h,p)}(e._query,t),new mi(e.firestore,e.converter,Wm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class op extends CT{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new op(e,t)}_apply(e){const t=function(l,u,h){if(l.startAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mu(u,h)}(e._query,this._field,this._direction);return new mi(e.firestore,e.converter,function(l,u){const h=l.explicitOrderBy.concat([u]);return new Ml(l.path,l.collectionGroup,h,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,t))}}function LI(s,e="asc"){const t=e,r=ap("orderBy",s);return op._create(r,t)}function Zx(s,e,t){if(typeof(t=st(t))=="string"){if(t==="")throw new de(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SE(e)&&t.indexOf("/")!==-1)throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(nt.fromString(t));if(!xe.isDocumentKey(r))throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return mx(s,new xe(r))}if(t instanceof cn)return mx(s,t._key);throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ad(t)}.`)}function Jx(s,e){if(!Array.isArray(s)||s.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IT(s,e){const t=function(l,u){for(const h of l)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(s.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class PI{convertValue(e,t="none"){switch(mr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return vr(e,(l,u)=>{r[l]=this.convertValue(u,t)}),r}convertVectorValue(e){var t,r,l;const u=(l=(r=(t=e.fields)===null||t===void 0?void 0:t[Rh].arrayValue)===null||r===void 0?void 0:r.values)===null||l===void 0?void 0:l.map(h=>yt(h.doubleValue));return new ep(u)}convertGeoPoint(e){return new Jg(yt(e.latitude),yt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Wh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(hu(e));default:return null}}convertTimestamp(e){const t=dr(e);return new jt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=nt.fromString(e);We($E(r));const l=new du(r.get(1),r.get(3)),u=new xe(r.popFirst(5));return l.isEqual(t)||ca(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(s,e,t){let r;return r=s?s.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class DT extends kT{constructor(e,t,r,l,u,h){super(e,t,r,l,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _h(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(ap("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class _h extends DT{data(e={}){return super.data(e)}}class VI{constructor(e,t,r,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new tu(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new _h(this._firestore,this._userDataWriter,r.key,r,new tu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(l,u){if(l._snapshot.oldDocs.isEmpty()){let h=0;return l._snapshot.docChanges.map(m=>{const p=new _h(l._firestore,l._userDataWriter,m.doc.key,m.doc,new tu(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new _h(l._firestore,l._userDataWriter,m.doc.key,m.doc,new tu(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,E=-1;return m.type!==0&&(_=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:UI(m.type),doc:p,oldIndex:_,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function UI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(s){s=es(s,cn);const e=es(s.firestore,gi);return xI(Xg(e),s._key).then(t=>zI(e,s,t))}class OT extends PI{constructor(e){super(),this.firestore=e}convertBytes(e){return new wl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,t)}}function MT(s){s=es(s,mi);const e=es(s.firestore,gi),t=Xg(e),r=new OT(e);return OI(s._query),EI(t,s._query).then(l=>new VI(e,r,s,l))}function Ru(s,e,t){s=es(s,cn);const r=es(s.firestore,gi),l=jT(s.converter,e);return ud(r,[ST(ld(r),"setDoc",s._key,l,s.converter!==null,t).toMutation(s._key,Kn.none())])}function LT(s,e,t,...r){s=es(s,cn);const l=es(s.firestore,gi),u=ld(l);let h;return h=typeof(e=st(e))=="string"||e instanceof id?CI(u,"updateDoc",s._key,e,t,r):kI(u,"updateDoc",s._key,e),ud(l,[h.toMutation(s._key,Kn.exists(!0))])}function HI(s){return ud(es(s.firestore,gi),[new Dg(s._key,Kn.none())])}function BI(s,e){const t=es(s.firestore,gi),r=_r(s),l=jT(s.converter,e);return ud(t,[ST(ld(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,Kn.exists(!1))]).then(()=>r)}function ud(s,e){return function(r,l){const u=new ia;return r.asyncQueue.enqueueAndForget(async()=>oI(await vI(r),l,u)),u.promise}(Xg(s),e)}function zI(s,e,t){const r=t.docs.get(e._key),l=new OT(s);return new DT(s,l,e._key,r,new tu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(l){jl=l})(hi),ri(new cr("firestore",(r,{instanceIdentifier:l,options:u})=>{const h=r.getProvider("app").getImmediate(),m=new gi(new jN(r.getProvider("auth-internal")),new MN(h,r.getProvider("app-check-internal")),function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new de(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new du(_.options.projectId,E)}(h,l),h);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Es(sx,ax,e),Es(sx,ax,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="firebasestorage.googleapis.com",VT="storageBucket",qI=2*60*1e3,KI=10*60*1e3,FI=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct extends Rs{constructor(e,t,r=0){super(jm(e),`Firebase Storage: ${t} (${jm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ct.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return jm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var at;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(at||(at={}));function jm(s){return"storage/"+s}function cp(){const s="An unknown error occurred, please check the error payload for server response.";return new ct(at.UNKNOWN,s)}function GI(s){return new ct(at.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function $I(s){return new ct(at.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function QI(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ct(at.UNAUTHENTICATED,s)}function WI(){return new ct(at.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function YI(s){return new ct(at.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function UT(){return new ct(at.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function HT(){return new ct(at.CANCELED,"User canceled the upload/download.")}function XI(s){return new ct(at.INVALID_URL,"Invalid URL '"+s+"'.")}function ZI(s){return new ct(at.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function JI(){return new ct(at.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+VT+"' property when initializing the app?")}function BT(){return new ct(at.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function e1(){return new ct(at.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function t1(){return new ct(at.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function n1(s){return new ct(at.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function lg(s){return new ct(at.INVALID_ARGUMENT,s)}function zT(){return new ct(at.APP_DELETED,"The Firebase app was deleted.")}function s1(s){return new ct(at.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function iu(s,e){return new ct(at.INVALID_FORMAT,"String does not match format '"+s+"': "+e)}function Wo(s){throw new ct(at.INTERNAL_ERROR,"Internal error: "+s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=wn.makeFromUrl(e,t)}catch{return new wn(e,"")}if(r.path==="")return r;throw ZI(e)}static makeFromUrl(e,t){let r=null;const l="([A-Za-z0-9.\\-_]+)";function u(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+l+h,"i"),p={bucket:1,path:3};function _(Z){Z.path_=decodeURIComponent(Z.path)}const E="v[A-Za-z0-9_]+",T=t.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",k=new RegExp(`^https?://${T}/${E}/b/${l}/o${A}`,"i"),j={bucket:1,path:3},q=t===PT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,V="([^?#]*)",$=new RegExp(`^https?://${q}/${l}/${V}`,"i"),G=[{regex:m,indices:p,postModify:u},{regex:k,indices:j,postModify:_},{regex:$,indices:{bucket:1,path:2},postModify:_}];for(let Z=0;Z<G.length;Z++){const J=G[Z],ae=J.regex.exec(e);if(ae){const O=ae[J.indices.bucket];let R=ae[J.indices.path];R||(R=""),r=new wn(O,R),J.postModify(r);break}}if(r==null)throw XI(e);return r}}class a1{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(s,e,t){let r=1,l=null,u=null,h=!1,m=0;function p(){return m===2}let _=!1;function E(...V){_||(_=!0,e.apply(null,V))}function T(V){l=setTimeout(()=>{l=null,s(k,p())},V)}function A(){u&&clearTimeout(u)}function k(V,...$){if(_){A();return}if(V){A(),E.call(null,V,...$);return}if(p()||h){A(),E.call(null,V,...$);return}r<64&&(r*=2);let G;m===1?(m=2,G=0):G=(r+Math.random())*1e3,T(G)}let j=!1;function q(V){j||(j=!0,A(),!_&&(l!==null?(V||(m=2),clearTimeout(l),T(0)):V||(m=1)))}return T(0),u=setTimeout(()=>{h=!0,q(!0)},t),q}function i1(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(s){return s!==void 0}function o1(s){return typeof s=="function"}function u1(s){return typeof s=="object"&&!Array.isArray(s)}function cd(s){return typeof s=="string"||s instanceof String}function e0(s){return hp()&&s instanceof Blob}function hp(){return typeof Blob<"u"}function t0(s,e,t,r){if(r<e)throw lg(`Invalid value for '${s}'. Expected ${e} or greater.`);if(r>t)throw lg(`Invalid value for '${s}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(s,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${s}`}function qT(s){const e=encodeURIComponent;let t="?";for(const r in s)if(s.hasOwnProperty(r)){const l=e(r)+"="+e(s[r]);t=t+l+"&"}return t=t.slice(0,-1),t}var si;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(si||(si={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(s,e){const t=s>=500&&s<600,l=[408,429].indexOf(s)!==-1,u=e.indexOf(s)!==-1;return t||l||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,t,r,l,u,h,m,p,_,E,T,A=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=l,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=E,this.connectionFactory_=T,this.retry=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,j)=>{this.resolve_=k,this.reject_=j,this.start_()})}start_(){const e=(r,l)=>{if(l){r(!1,new ih(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,_=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,_)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===si.NO_ERROR,p=u.getStatus();if(!m||KT(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===si.ABORT;r(!1,new ih(!1,null,E));return}const _=this.successCodes_.indexOf(p)!==-1;r(!0,new ih(_,u))})},t=(r,l)=>{const u=this.resolve_,h=this.reject_,m=l.connection;if(l.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());l1(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=cp();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(l.canceled){const p=this.appDelete_?zT():HT();h(p)}else{const p=UT();h(p)}};this.canceled_?t(!1,new ih(!1,null,!0)):this.backoffId_=r1(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&i1(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ih{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function h1(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function d1(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function f1(s,e){e&&(s["X-Firebase-GMPID"]=e)}function m1(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function g1(s,e,t,r,l,u,h=!0){const m=qT(s.urlParams),p=s.url+m,_=Object.assign({},s.headers);return f1(_,e),h1(_,t),d1(_,u),m1(_,r),new c1(p,s.method,_,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,l,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function _1(...s){const e=p1();if(e!==void 0){const t=new e;for(let r=0;r<s.length;r++)t.append(s[r]);return t.getBlob()}else{if(hp())return new Blob(s);throw new ct(at.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function y1(s,e,t){return s.webkitSlice?s.webkitSlice(e,t):s.mozSlice?s.mozSlice(e,t):s.slice?s.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(s){if(typeof atob>"u")throw n1("base-64");return atob(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Dm{constructor(e,t){this.data=e,this.contentType=t||null}}function FT(s,e){switch(s){case Xn.RAW:return new Dm(GT(e));case Xn.BASE64:case Xn.BASE64URL:return new Dm($T(s,e));case Xn.DATA_URL:return new Dm(E1(e),T1(e))}throw cp()}function GT(s){const e=[];for(let t=0;t<s.length;t++){let r=s.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<s.length-1&&(s.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const u=r,h=s.charCodeAt(++t);r=65536|(u&1023)<<10|h&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function x1(s){let e;try{e=decodeURIComponent(s)}catch{throw iu(Xn.DATA_URL,"Malformed data URL.")}return GT(e)}function $T(s,e){switch(s){case Xn.BASE64:{const l=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(l||u)throw iu(s,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case Xn.BASE64URL:{const l=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(l||u)throw iu(s,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=v1(e)}catch(l){throw l.message.includes("polyfill")?l:iu(s,"Invalid character found")}const r=new Uint8Array(t.length);for(let l=0;l<t.length;l++)r[l]=t.charCodeAt(l);return r}class QT{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw iu(Xn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=b1(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function E1(s){const e=new QT(s);return e.base64?$T(Xn.BASE64,e.rest):x1(e.rest)}function T1(s){return new QT(s).contentType}function b1(s,e){return s.length>=e.length?s.substring(s.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,t){let r=0,l="";e0(e)?(this.data_=e,r=e.size,l=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=l}size(){return this.size_}type(){return this.type_}slice(e,t){if(e0(this.data_)){const r=this.data_,l=y1(r,e,t);return l===null?null:new ta(l)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new ta(r,!0)}}static getBlob(...e){if(hp()){const t=e.map(r=>r instanceof ta?r.data_:r);return new ta(_1.apply(null,t))}else{const t=e.map(h=>cd(h)?FT(Xn.RAW,h).data:h.data_);let r=0;t.forEach(h=>{r+=h.byteLength});const l=new Uint8Array(r);let u=0;return t.forEach(h=>{for(let m=0;m<h.length;m++)l[u++]=h[m]}),new ta(l,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(s){let e;try{e=JSON.parse(s)}catch{return null}return u1(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function S1(s,e){const t=e.split("/").filter(r=>r.length>0).join("/");return s.length===0?t:s+"/"+t}function YT(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(s,e){return e}class un{constructor(e,t,r,l){this.server=e,this.local=t||e,this.writable=!!r,this.xform=l||w1}}let lh=null;function R1(s){return!cd(s)||s.length<2?s:YT(s)}function dp(){if(lh)return lh;const s=[];s.push(new un("bucket")),s.push(new un("generation")),s.push(new un("metageneration")),s.push(new un("name","fullPath",!0));function e(u,h){return R1(h)}const t=new un("name");t.xform=e,s.push(t);function r(u,h){return h!==void 0?Number(h):h}const l=new un("size");return l.xform=r,s.push(l),s.push(new un("timeCreated")),s.push(new un("updated")),s.push(new un("md5Hash",null,!0)),s.push(new un("cacheControl",null,!0)),s.push(new un("contentDisposition",null,!0)),s.push(new un("contentEncoding",null,!0)),s.push(new un("contentLanguage",null,!0)),s.push(new un("contentType",null,!0)),s.push(new un("metadata","customMetadata",!0)),lh=s,lh}function N1(s,e){function t(){const r=s.bucket,l=s.fullPath,u=new wn(r,l);return e._makeStorageReference(u)}Object.defineProperty(s,"ref",{get:t})}function k1(s,e,t){const r={};r.type="file";const l=t.length;for(let u=0;u<l;u++){const h=t[u];r[h.local]=h.xform(r,e[h.server])}return N1(r,s),r}function XT(s,e,t){const r=WT(e);return r===null?null:k1(s,r,t)}function C1(s,e,t,r){const l=WT(e);if(l===null||!cd(l.downloadTokens))return null;const u=l.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(_=>{const E=s.bucket,T=s.fullPath,A="/b/"+h(E)+"/o/"+h(T),k=Pl(A,t,r),j=qT({alt:"media",token:_});return k+j})[0]}function ZT(s,e){const t={},r=e.length;for(let l=0;l<r;l++){const u=e[l];u.writable&&(t[u.server]=s[u.local])}return JSON.stringify(t)}class pi{constructor(e,t,r,l){this.url=e,this.method=t,this.handler=r,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(s){if(!s)throw cp()}function fp(s,e){function t(r,l){const u=XT(s,l,e);return la(u!==null),u}return t}function I1(s,e){function t(r,l){const u=XT(s,l,e);return la(u!==null),C1(u,l,s.host,s._protocol)}return t}function Nu(s){function e(t,r){let l;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?l=WI():l=QI():t.getStatus()===402?l=$I(s.bucket):t.getStatus()===403?l=YI(s.path):l=r,l.status=t.getStatus(),l.serverResponse=r.serverResponse,l}return e}function mp(s){const e=Nu(s);function t(r,l){let u=e(r,l);return r.getStatus()===404&&(u=GI(s.path)),u.serverResponse=l.serverResponse,u}return t}function j1(s,e,t){const r=e.fullServerUrl(),l=Pl(r,s.host,s._protocol),u="GET",h=s.maxOperationRetryTime,m=new pi(l,u,fp(s,t),h);return m.errorHandler=mp(e),m}function D1(s,e,t){const r=e.fullServerUrl(),l=Pl(r,s.host,s._protocol),u="GET",h=s.maxOperationRetryTime,m=new pi(l,u,I1(s,t),h);return m.errorHandler=mp(e),m}function O1(s,e){const t=e.fullServerUrl(),r=Pl(t,s.host,s._protocol),l="DELETE",u=s.maxOperationRetryTime;function h(p,_){}const m=new pi(r,l,h,u);return m.successCodes=[200,204],m.errorHandler=mp(e),m}function M1(s,e){return s&&s.contentType||e&&e.type()||"application/octet-stream"}function JT(s,e,t){const r=Object.assign({},t);return r.fullPath=s.path,r.size=e.size(),r.contentType||(r.contentType=M1(null,e)),r}function eb(s,e,t,r,l){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let G="";for(let Z=0;Z<2;Z++)G=G+Math.random().toString().slice(2);return G}const p=m();h["Content-Type"]="multipart/related; boundary="+p;const _=JT(e,r,l),E=ZT(_,t),T="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+p+`\r
Content-Type: `+_.contentType+`\r
\r
`,A=`\r
--`+p+"--",k=ta.getBlob(T,r,A);if(k===null)throw BT();const j={name:_.fullPath},q=Pl(u,s.host,s._protocol),V="POST",$=s.maxUploadRetryTime,H=new pi(q,V,fp(s,t),$);return H.urlParams=j,H.headers=h,H.body=k.uploadData(),H.errorHandler=Nu(e),H}class Lh{constructor(e,t,r,l){this.current=e,this.total=t,this.finalized=!!r,this.metadata=l||null}}function gp(s,e){let t=null;try{t=s.getResponseHeader("X-Goog-Upload-Status")}catch{la(!1)}return la(!!t&&(e||["active"]).indexOf(t)!==-1),t}function L1(s,e,t,r,l){const u=e.bucketOnlyServerUrl(),h=JT(e,r,l),m={name:h.fullPath},p=Pl(u,s.host,s._protocol),_="POST",E={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},T=ZT(h,t),A=s.maxUploadRetryTime;function k(q){gp(q);let V;try{V=q.getResponseHeader("X-Goog-Upload-URL")}catch{la(!1)}return la(cd(V)),V}const j=new pi(p,_,k,A);return j.urlParams=m,j.headers=E,j.body=T,j.errorHandler=Nu(e),j}function P1(s,e,t,r){const l={"X-Goog-Upload-Command":"query"};function u(_){const E=gp(_,["active","final"]);let T=null;try{T=_.getResponseHeader("X-Goog-Upload-Size-Received")}catch{la(!1)}T||la(!1);const A=Number(T);return la(!isNaN(A)),new Lh(A,r.size(),E==="final")}const h="POST",m=s.maxUploadRetryTime,p=new pi(t,h,u,m);return p.headers=l,p.errorHandler=Nu(e),p}const n0=256*1024;function V1(s,e,t,r,l,u,h,m){const p=new Lh(0,0);if(h?(p.current=h.current,p.total=h.total):(p.current=0,p.total=r.size()),r.size()!==p.total)throw e1();const _=p.total-p.current;let E=_;l>0&&(E=Math.min(E,l));const T=p.current,A=T+E;let k="";E===0?k="finalize":_===E?k="upload, finalize":k="upload";const j={"X-Goog-Upload-Command":k,"X-Goog-Upload-Offset":`${p.current}`},q=r.slice(T,A);if(q===null)throw BT();function V(Z,J){const ae=gp(Z,["active","final"]),O=p.current+E,R=r.size();let S;return ae==="final"?S=fp(e,u)(Z,J):S=null,new Lh(O,R,ae==="final",S)}const $="POST",H=e.maxUploadRetryTime,G=new pi(t,$,V,H);return G.headers=j,G.body=q.uploadData(),G.progressCallback=m||null,G.errorHandler=Nu(s),G}const gn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Om(s){switch(s){case"running":case"pausing":case"canceling":return gn.RUNNING;case"paused":return gn.PAUSED;case"success":return gn.SUCCESS;case"canceled":return gn.CANCELED;case"error":return gn.ERROR;default:return gn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,t,r){if(o1(e)||t!=null||r!=null)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(s){return(...e)=>{Promise.resolve().then(()=>s(...e))}}class H1{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=si.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=si.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=si.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,l){if(this.sent_)throw Wo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const u in l)l.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,l[u].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Wo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Wo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Wo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Wo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class B1 extends H1{initXhr(){this.xhr_.responseType="text"}}function Ja(){return new B1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=dp(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=l=>{if(this._request=void 0,this._chunkMultiplier=1,l._codeEquals(at.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const u=this.isExponentialBackoffExpired();if(KT(l.status,[]))if(u)l=UT();else{this.sleepTime=Math.max(this.sleepTime*2,FI),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=l,this._transition("error")}},this._metadataErrorHandler=l=>{this._request=void 0,l._codeEquals(at.CANCELED)?this.completeTransitions_():(this._error=l,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((l,u)=>{this._resolve=l,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const r=L1(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),l=this._ref.storage._makeRequest(r,Ja,e,t);this._request=l,l.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const l=P1(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(l,Ja,t,r);this._request=u,u.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=n0*this._chunkMultiplier,t=new Lh(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((l,u)=>{let h;try{h=V1(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(p){this._error=p,this._transition("error");return}const m=this._ref.storage._makeRequest(h,Ja,l,u,!1);this._request=m,m.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){n0*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=j1(this._ref.storage,this._ref._location,this._mappings),l=this._ref.storage._makeRequest(r,Ja,e,t);this._request=l,l.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=eb(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),l=this._ref.storage._makeRequest(r,Ja,e,t);this._request=l,l.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=HT(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Om(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,l){const u=new U1(t||void 0,r||void 0,l||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Om(this._state)){case gn.SUCCESS:ul(this._resolve.bind(null,this.snapshot))();break;case gn.CANCELED:case gn.ERROR:const t=this._reject;ul(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Om(this._state)){case gn.RUNNING:case gn.PAUSED:e.next&&ul(e.next.bind(e,this.snapshot))();break;case gn.SUCCESS:e.complete&&ul(e.complete.bind(e))();break;case gn.CANCELED:case gn.ERROR:e.error&&ul(e.error.bind(e,this._error))();break;default:e.error&&ul(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,t){this._service=e,t instanceof wn?this._location=t:this._location=wn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new oi(e,t)}get root(){const e=new wn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return YT(this._location.path)}get storage(){return this._service}get parent(){const e=A1(this._location.path);if(e===null)return null;const t=new wn(this._location.bucket,e);return new oi(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw s1(e)}}function q1(s,e,t){s._throwIfRoot("uploadBytes");const r=eb(s.storage,s._location,dp(),new ta(e,!0),t);return s.storage.makeRequestWithTokens(r,Ja).then(l=>({metadata:l,ref:s}))}function K1(s,e,t){return s._throwIfRoot("uploadBytesResumable"),new z1(s,new ta(e),t)}function F1(s,e,t=Xn.RAW,r){s._throwIfRoot("uploadString");const l=FT(t,e),u=Object.assign({},r);return u.contentType==null&&l.contentType!=null&&(u.contentType=l.contentType),q1(s,l.data,u)}function G1(s){s._throwIfRoot("getDownloadURL");const e=D1(s.storage,s._location,dp());return s.storage.makeRequestWithTokens(e,Ja).then(t=>{if(t===null)throw t1();return t})}function $1(s){s._throwIfRoot("deleteObject");const e=O1(s.storage,s._location);return s.storage.makeRequestWithTokens(e,Ja)}function Q1(s,e){const t=S1(s._location.path,e),r=new wn(s._location.bucket,t);return new oi(s.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(s){return/^[A-Za-z]+:\/\//.test(s)}function Y1(s,e){return new oi(s,e)}function tb(s,e){if(s instanceof pp){const t=s;if(t._bucket==null)throw JI();const r=new oi(t,t._bucket);return e!=null?tb(r,e):r}else return e!==void 0?Q1(s,e):s}function X1(s,e){if(e&&W1(e)){if(s instanceof pp)return Y1(s,e);throw lg("To use ref(service, url), the first argument must be a Storage instance.")}else return tb(s,e)}function s0(s,e){const t=e==null?void 0:e[VT];return t==null?null:wn.makeFromBucketSpec(t,s)}function Z1(s,e,t,r={}){s.host=`${e}:${t}`,s._protocol="http";const{mockUserToken:l}=r;l&&(s._overrideAuthToken=typeof l=="string"?l:W0(l,s.app.options.projectId))}class pp{constructor(e,t,r,l,u){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=l,this._firebaseVersion=u,this._bucket=null,this._host=PT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=qI,this._maxUploadRetryTime=KI,this._requests=new Set,l!=null?this._bucket=wn.makeFromBucketSpec(l,this._host):this._bucket=s0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=wn.makeFromBucketSpec(this._url,e):this._bucket=s0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){t0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){t0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new oi(this,e)}_makeRequest(e,t,r,l,u=!0){if(this._deleted)return new a1(zT());{const h=g1(e,this._appId,r,l,t,this._firebaseVersion,u);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[r,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,l).getPromise()}}const a0="@firebase/storage",r0="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="storage";function sb(s,e,t,r){return s=st(s),F1(s,e,t,r)}function J1(s,e,t){return s=st(s),K1(s,e,t)}function _p(s){return s=st(s),G1(s)}function ej(s){return s=st(s),$1(s)}function hd(s,e){return s=st(s),X1(s,e)}function tj(s=Ag(),e){s=st(s);const r=Gh(s,nb).getImmediate({identifier:e}),l=G0("storage");return l&&nj(r,...l),r}function nj(s,e,t,r={}){Z1(s,e,t,r)}function sj(s,{instanceIdentifier:e}){const t=s.getProvider("app").getImmediate(),r=s.getProvider("auth-internal"),l=s.getProvider("app-check-internal");return new pp(t,r,l,e,hi)}function aj(){ri(new cr(nb,sj,"PUBLIC").setMultipleInstances(!0)),Es(a0,r0,""),Es(a0,r0,"esm2017")}aj();function yp(s,e){var t={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&e.indexOf(r)<0&&(t[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(s);l<r.length;l++)e.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(s,r[l])&&(t[r[l]]=s[r[l]]);return t}function ab(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rj=ab,rb=new xu("auth","Firebase",ab());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=new Tg("@firebase/auth");function ij(s,...e){Ph.logLevel<=Me.WARN&&Ph.warn(`Auth (${hi}): ${s}`,...e)}function yh(s,...e){Ph.logLevel<=Me.ERROR&&Ph.error(`Auth (${hi}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(s,...e){throw vp(s,...e)}function As(s,...e){return vp(s,...e)}function ib(s,e,t){const r=Object.assign(Object.assign({},rj()),{[e]:t});return new xu("auth","Firebase",r).create(e,{appName:s.name})}function oa(s){return ib(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vp(s,...e){if(typeof s!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(t,...r)}return rb.create(s,...e)}function be(s,e,...t){if(!s)throw vp(e,...t)}function na(s){const e="INTERNAL ASSERTION FAILED: "+s;throw yh(e),new Error(e)}function da(s,e){s||na(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function lj(){return i0()==="http:"||i0()==="https:"}function i0(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lj()||lR()||"connection"in navigator)?navigator.onLine:!0}function uj(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,t){this.shortDelay=e,this.longDelay=t,da(t>e,"Short delay should be less than long delay!"),this.isMobile=aR()||oR()}get(){return oj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(s,e){da(s.emulator,"Emulator should always be set here");const{url:t}=s.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;na("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;na("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;na("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=new ku(3e4,6e4);function Er(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function ma(s,e,t,r,l={}){return ob(s,l,async()=>{let u={},h={};r&&(e==="GET"?h=r:u={body:JSON.stringify(r)});const m=Eu(Object.assign({key:s.config.apiKey},h)).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const _=Object.assign({method:e,headers:p},u);return iR()||(_.referrerPolicy="no-referrer"),lb.fetch()(ub(s,s.config.apiHost,t,m),_)})}async function ob(s,e,t){s._canInitEmulator=!1;const r=Object.assign(Object.assign({},cj),e);try{const l=new fj(s),u=await Promise.race([t(),l.promise]);l.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw oh(s,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,_]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw oh(s,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw oh(s,"email-already-in-use",h);if(p==="USER_DISABLED")throw oh(s,"user-disabled",h);const E=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw ib(s,E,_);ts(s,E)}}catch(l){if(l instanceof Rs)throw l;ts(s,"network-request-failed",{message:String(l)})}}async function Cu(s,e,t,r,l={}){const u=await ma(s,e,t,r,l);return"mfaPendingCredential"in u&&ts(s,"multi-factor-auth-required",{_serverResponse:u}),u}function ub(s,e,t,r){const l=`${e}${t}?${r}`;return s.config.emulator?xp(s.config,l):`${s.config.apiScheme}://${l}`}function dj(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(As(this.auth,"network-request-failed")),hj.get())})}}function oh(s,e,t){const r={appName:s.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const l=As(s,e,r);return l.customData._tokenResponse=t,l}function l0(s){return s!==void 0&&s.enterprise!==void 0}class mj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return dj(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function gj(s,e){return ma(s,"GET","/v2/recaptchaConfig",Er(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pj(s,e){return ma(s,"POST","/v1/accounts:delete",e)}async function cb(s,e){return ma(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _j(s,e=!1){const t=st(s),r=await t.getIdToken(e),l=Ep(r);be(l&&l.exp&&l.auth_time&&l.iat,t.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:l,token:r,authTime:lu(Mm(l.auth_time)),issuedAtTime:lu(Mm(l.iat)),expirationTime:lu(Mm(l.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Mm(s){return Number(s)*1e3}function Ep(s){const[e,t,r]=s.split(".");if(e===void 0||t===void 0||r===void 0)return yh("JWT malformed, contained fewer than 3 sections"),null;try{const l=K0(t);return l?JSON.parse(l):(yh("Failed to decode base64 JWT payload"),null)}catch(l){return yh("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function o0(s){const e=Ep(s);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(s,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Rs&&yj(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function yj({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const l=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=lu(this.lastLoginAt),this.creationTime=lu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vh(s){var e;const t=s.auth,r=await s.getIdToken(),l=await Rl(s,cb(t,{idToken:r}));be(l==null?void 0:l.users.length,t,"internal-error");const u=l.users[0];s._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?hb(u.providerUserInfo):[],m=Ej(s.providerData,h),p=s.isAnonymous,_=!(s.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?_:!1,T={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new ug(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(s,T)}async function xj(s){const e=st(s);await Vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ej(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function hb(s){return s.map(e=>{var{providerId:t}=e,r=yp(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tj(s,e){const t=await ob(s,{},async()=>{const r=Eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,h=ub(s,l,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",lb.fetch()(h,{method:"POST",headers:m,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function bj(s,e){return ma(s,"POST","/v2/accounts:revokeToken",Er(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):o0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){be(e.length!==0,"internal-error");const t=o0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:l,expiresIn:u}=await Tj(e,t);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:l,expirationTime:u}=t,h=new pl;return r&&(be(typeof r=="string","internal-error",{appName:e}),h.refreshToken=r),l&&(be(typeof l=="string","internal-error",{appName:e}),h.accessToken=l),u&&(be(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pl,this.toJSON())}_performRefresh(){return na("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(s,e){be(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class sa{constructor(e){var{uid:t,auth:r,stsTokenManager:l}=e,u=yp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new ug(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await Rl(this,this.stsTokenManager.getToken(this.auth,e));return be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return _j(this,e)}reload(){return xj(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new sa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Vh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(oa(this.auth));const e=await this.getIdToken();return await Rl(this,pj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,l,u,h,m,p,_,E;const T=(r=t.displayName)!==null&&r!==void 0?r:void 0,A=(l=t.email)!==null&&l!==void 0?l:void 0,k=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,j=(h=t.photoURL)!==null&&h!==void 0?h:void 0,q=(m=t.tenantId)!==null&&m!==void 0?m:void 0,V=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,$=(_=t.createdAt)!==null&&_!==void 0?_:void 0,H=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:G,emailVerified:Z,isAnonymous:J,providerData:ae,stsTokenManager:O}=t;be(G&&O,e,"internal-error");const R=pl.fromJSON(this.name,O);be(typeof G=="string",e,"internal-error"),Za(T,e.name),Za(A,e.name),be(typeof Z=="boolean",e,"internal-error"),be(typeof J=="boolean",e,"internal-error"),Za(k,e.name),Za(j,e.name),Za(q,e.name),Za(V,e.name),Za($,e.name),Za(H,e.name);const S=new sa({uid:G,auth:e,email:A,emailVerified:Z,displayName:T,isAnonymous:J,photoURL:j,phoneNumber:k,tenantId:q,stsTokenManager:R,createdAt:$,lastLoginAt:H});return ae&&Array.isArray(ae)&&(S.providerData=ae.map(I=>Object.assign({},I))),V&&(S._redirectEventId=V),S}static async _fromIdTokenResponse(e,t,r=!1){const l=new pl;l.updateFromServerResponse(t);const u=new sa({uid:t.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await Vh(u),u}static async _fromGetAccountInfoResponse(e,t,r){const l=t.users[0];be(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?hb(l.providerUserInfo):[],h=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),m=new pl;m.updateFromIdToken(r);const p=new sa({uid:l.localId,auth:e,stsTokenManager:m,isAnonymous:h}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new ug(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=new Map;function aa(s){da(s instanceof Function,"Expected a class definition");let e=u0.get(s);return e?(da(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,u0.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}db.type="NONE";const c0=db;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(s,e,t){return`firebase:${s}:${e}:${t}`}class _l{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=vh(this.userKey,l.apiKey,u),this.fullPersistenceKey=vh("persistence",l.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?sa._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new _l(aa(c0),e,r);const l=(await Promise.all(t.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=l[0]||aa(c0);const h=vh(r,e.config.apiKey,e.name);let m=null;for(const _ of t)try{const E=await _._get(h);if(E){const T=sa._fromJSON(e,E);_!==u&&(m=T),u=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new _l(u,e,r):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async _=>{if(_!==u)try{await _._remove(h)}catch{}})),new _l(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yb(e))return"Blackberry";if(vb(e))return"Webos";if(mb(e))return"Safari";if((e.includes("chrome/")||gb(e))&&!e.includes("edge/"))return"Chrome";if(_b(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function fb(s=tn()){return/firefox\//i.test(s)}function mb(s=tn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gb(s=tn()){return/crios\//i.test(s)}function pb(s=tn()){return/iemobile/i.test(s)}function _b(s=tn()){return/android/i.test(s)}function yb(s=tn()){return/blackberry/i.test(s)}function vb(s=tn()){return/webos/i.test(s)}function Tp(s=tn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Aj(s=tn()){var e;return Tp(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Sj(){return uR()&&document.documentMode===10}function xb(s=tn()){return Tp(s)||_b(s)||vb(s)||yb(s)||/windows phone/i.test(s)||pb(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(s,e=[]){let t;switch(s){case"Browser":t=h0(tn());break;case"Worker":t=`${h0(tn())}-${s}`;break;default:t=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${hi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});r.onAbort=t,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const l of t)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rj(s,e={}){return ma(s,"GET","/v2/passwordPolicy",Er(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj=6;class kj{constructor(e){var t,r,l,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:Nj,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,l,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(r=p.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),l&&(t.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e,t,r,l){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new d0(this),this.idTokenSubscription=new d0(this),this.beforeStateQueue=new wj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=aa(t)),this._initializationPromise=this.queue(async()=>{var r,l;if(!this._deleted&&(this.persistenceManager=await _l.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await cb(this,{idToken:e}),r=await sa._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(An(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let l=r,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(l=p.user,u=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(l)}catch(h){l=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Vh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(An(this.app))return Promise.reject(oa(this));const t=e?st(e):null;return t&&be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(oa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return An(this.app)?Promise.reject(oa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(aa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Rj(this),t=new kj(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await bj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&aa(e)||this._popupRedirectResolver;be(t,this,"argument-error"),this.redirectPersistenceManager=await _l.create(this,[aa(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,l){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,r,l);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Eb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const l=await this._getAppCheckToken();return l&&(t["X-Firebase-AppCheck"]=l),t}async _getAppCheckToken(){var e;if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&ij(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function _i(s){return st(s)}class d0{constructor(e){this.auth=e,this.observer=null,this.addObserver=_R(t=>this.observer=t)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ij(s){dd=s}function Tb(s){return dd.loadJS(s)}function jj(){return dd.recaptchaEnterpriseScript}function Dj(){return dd.gapiScript}function Oj(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Mj{constructor(){this.enterprise=new Lj}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Lj{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Pj="recaptcha-enterprise",bb="NO_RECAPTCHA";class Vj{constructor(e){this.type=Pj,this.auth=_i(e)}async verify(e="verify",t=!1){async function r(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{gj(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const _=new mj(p);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,h(_.siteKey)}}).catch(p=>{m(p)})})}function l(u,h,m){const p=window.grecaptcha;l0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(_=>{h(_)}).catch(()=>{h(bb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Mj().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{r(this.auth).then(m=>{if(!t&&l0(window.grecaptcha))l(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=jj();p.length!==0&&(p+=m),Tb(p).then(()=>{l(m,u,h)}).catch(_=>{h(_)})}}).catch(m=>{h(m)})})}}async function f0(s,e,t,r=!1,l=!1){const u=new Vj(s);let h;if(l)h=bb;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,_=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function cg(s,e,t,r,l){var u;if(!((u=s._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await f0(s,e,t,t==="getOobCode");return r(s,h)}else return r(s,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await f0(s,e,t,t==="getOobCode");return r(s,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(s,e){const t=Gh(s,"auth");if(t.isInitialized()){const l=t.getImmediate(),u=t.getOptions();if(ai(u,e??{}))return l;ts(l,"already-initialized")}return t.initialize({options:e})}function Hj(s,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(aa);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Bj(s,e,t){const r=_i(s);be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,u=Ab(e),{host:h,port:m}=zj(e),p=m===null?"":`:${m}`,_={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),be(ai(_,r.config.emulator)&&ai(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,qj()}function Ab(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function zj(s){const e=Ab(s),t=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:m0(r.substr(u.length+1))}}else{const[u,h]=r.split(":");return{host:u,port:m0(h)}}}function m0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function qj(){function s(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return na("not implemented")}_getIdTokenResponse(e){return na("not implemented")}_linkToIdToken(e,t){return na("not implemented")}_getReauthenticationResolver(e){return na("not implemented")}}async function Kj(s,e){return ma(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fj(s,e){return Cu(s,"POST","/v1/accounts:signInWithPassword",Er(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gj(s,e){return Cu(s,"POST","/v1/accounts:signInWithEmailLink",Er(s,e))}async function $j(s,e){return Cu(s,"POST","/v1/accounts:signInWithEmailLink",Er(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u extends bp{constructor(e,t,r,l=null){super("password",r),this._email=e,this._password=t,this._tenantId=l}static _fromEmailAndPassword(e,t){return new _u(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new _u(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cg(e,t,"signInWithPassword",Fj);case"emailLink":return Gj(e,{email:this._email,oobCode:this._password});default:ts(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cg(e,r,"signUpPassword",Kj);case"emailLink":return $j(e,{idToken:t,email:this._email,oobCode:this._password});default:ts(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(s,e){return Cu(s,"POST","/v1/accounts:signInWithIdp",Er(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj="http://localhost";class ui extends bp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ui(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ts("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l}=t,u=yp(t,["providerId","signInMethod"]);if(!r||!l)return null;const h=new ui(r,l);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return yl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,yl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,yl(e,t)}buildRequest(){const e={requestUri:Qj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Eu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Yj(s){const e=Yo(Xo(s)).link,t=e?Yo(Xo(e)).deep_link_id:null,r=Yo(Xo(s)).deep_link_id;return(r?Yo(Xo(r)).link:null)||r||t||e||s}class Ap{constructor(e){var t,r,l,u,h,m;const p=Yo(Xo(e)),_=(t=p.apiKey)!==null&&t!==void 0?t:null,E=(r=p.oobCode)!==null&&r!==void 0?r:null,T=Wj((l=p.mode)!==null&&l!==void 0?l:null);be(_&&E&&T,"argument-error"),this.apiKey=_,this.operation=T,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=Yj(e);try{return new Ap(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(){this.providerId=Vl.PROVIDER_ID}static credential(e,t){return _u._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Ap.parseLink(t);return be(r,"argument-error"),_u._fromEmailAndCode(e,r.code,r.tenantId)}}Vl.PROVIDER_ID="password";Vl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends Sb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends Iu{constructor(){super("facebook.com")}static credential(e){return ui._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return er.credential(e.oauthAccessToken)}catch{return null}}}er.FACEBOOK_SIGN_IN_METHOD="facebook.com";er.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends Iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ui._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return tr.credential(t,r)}catch{return null}}}tr.GOOGLE_SIGN_IN_METHOD="google.com";tr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr extends Iu{constructor(){super("github.com")}static credential(e){return ui._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nr.credential(e.oauthAccessToken)}catch{return null}}}nr.GITHUB_SIGN_IN_METHOD="github.com";nr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr extends Iu{constructor(){super("twitter.com")}static credential(e,t){return ui._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return sr.credential(t,r)}catch{return null}}}sr.TWITTER_SIGN_IN_METHOD="twitter.com";sr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xj(s,e){return Cu(s,"POST","/v1/accounts:signUp",Er(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,l=!1){const u=await sa._fromIdTokenResponse(e,r,l),h=g0(r);return new ci({user:u,providerId:h,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const l=g0(r);return new ci({user:e,providerId:l,_tokenResponse:r,operationType:t})}}function g0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh extends Rs{constructor(e,t,r,l){var u;super(t.code,t.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Uh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,l){return new Uh(e,t,r,l)}}function wb(s,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(s):t._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Uh._fromErrorAndOperation(s,u,e,r):u})}async function Zj(s,e,t=!1){const r=await Rl(s,e._linkToIdToken(s.auth,await s.getIdToken()),t);return ci._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jj(s,e,t=!1){const{auth:r}=s;if(An(r.app))return Promise.reject(oa(r));const l="reauthenticate";try{const u=await Rl(s,wb(r,l,e,s),t);be(u.idToken,r,"internal-error");const h=Ep(u.idToken);be(h,r,"internal-error");const{sub:m}=h;return be(s.uid===m,r,"user-mismatch"),ci._forOperation(s,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ts(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rb(s,e,t=!1){if(An(s.app))return Promise.reject(oa(s));const r="signIn",l=await wb(s,r,e),u=await ci._fromIdTokenResponse(s,r,l);return t||await s._updateCurrentUser(u.user),u}async function e2(s,e){return Rb(_i(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nb(s){const e=_i(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function t2(s,e,t){if(An(s.app))return Promise.reject(oa(s));const r=_i(s),h=await cg(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Xj).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Nb(s),p}),m=await ci._fromIdTokenResponse(r,"signIn",h);return await r._updateCurrentUser(m.user),m}function n2(s,e,t){return An(s.app)?Promise.reject(oa(s)):e2(st(s),Vl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Nb(s),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s2(s,e){return ma(s,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a2(s,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=st(s),u={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},h=await Rl(r,s2(r.auth,u));r.displayName=h.displayName||null,r.photoURL=h.photoUrl||null;const m=r.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=r.displayName,m.photoURL=r.photoURL),await r._updateTokensIfNecessary(h)}function r2(s,e,t,r){return st(s).onIdTokenChanged(e,t,r)}function i2(s,e,t){return st(s).beforeAuthStateChanged(e,t)}function l2(s,e,t,r){return st(s).onAuthStateChanged(e,t,r)}function o2(s){return st(s).signOut()}const Hh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Hh,"1"),this.storage.removeItem(Hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=1e3,c2=10;class Cb extends kb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),l=this.localCache[t];r!==l&&e(t,l,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const r=e.key;t?this.detachListener():this.stopPolling();const l=()=>{const h=this.storage.getItem(r);!t&&this.localCache[r]===h||this.notifyListeners(r,h)},u=this.storage.getItem(r);Sj()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,c2):l()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},u2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Cb.type="LOCAL";const h2=Cb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib extends kb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ib.type="SESSION";const jb=Ib;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(l=>l.isListeningto(e));if(t)return t;const r=new fd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:l,data:u}=t.data,h=this.handlersMap[l];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const m=Array.from(h).map(async _=>_(t.origin,u)),p=await d2(m);t.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(s="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return s+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const _=Sp("",20);l.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},r);h={messageChannel:l,onMessage(T){const A=T;if(A.data.eventId===_)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),l.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:_,data:t},[l.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(){return window}function m2(s){Ss().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(){return typeof Ss().WorkerGlobalScope<"u"&&typeof Ss().importScripts=="function"}async function g2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function p2(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function _2(){return Db()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="firebaseLocalStorageDb",y2=1,Bh="firebaseLocalStorage",Mb="fbase_key";class ju{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function md(s,e){return s.transaction([Bh],e?"readwrite":"readonly").objectStore(Bh)}function v2(){const s=indexedDB.deleteDatabase(Ob);return new ju(s).toPromise()}function hg(){const s=indexedDB.open(Ob,y2);return new Promise((e,t)=>{s.addEventListener("error",()=>{t(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Bh,{keyPath:Mb})}catch(l){t(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Bh)?e(r):(r.close(),await v2(),e(await hg()))})})}async function p0(s,e,t){const r=md(s,!0).put({[Mb]:e,value:t});return new ju(r).toPromise()}async function x2(s,e){const t=md(s,!1).get(e),r=await new ju(t).toPromise();return r===void 0?null:r.value}function _0(s,e){const t=md(s,!0).delete(e);return new ju(t).toPromise()}const E2=800,T2=3;class Lb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>T2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Db()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fd._getInstance(_2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await g2(),!this.activeServiceWorker)return;this.sender=new f2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||p2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hg();return await p0(e,Hh,"1"),await _0(e,Hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>p0(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>x2(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>_0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=md(l,!1).getAll();return new ju(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),t.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),t.push(l));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),E2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Lb.type="LOCAL";const b2=Lb;new ku(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(s,e){return e?aa(e):(be(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp extends bp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return yl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return yl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function S2(s){return Rb(s.auth,new wp(s),s.bypassAuthState)}function w2(s){const{auth:e,user:t}=s;return be(t,e,"internal-error"),Jj(t,new wp(s),s.bypassAuthState)}async function R2(s){const{auth:e,user:t}=s;return be(t,e,"internal-error"),Zj(t,new wp(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,t,r,l,u=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:l,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return S2;case"linkViaPopup":case"linkViaRedirect":return R2;case"reauthViaPopup":case"reauthViaRedirect":return w2;default:ts(this.auth,"internal-error")}}resolve(e){da(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){da(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=new ku(2e3,1e4);class ml extends Pb{constructor(e,t,r,l,u){super(e,t,l,u),this.provider=r,this.authWindow=null,this.pollId=null,ml.currentPopupAction&&ml.currentPopupAction.cancel(),ml.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){da(this.filter.length===1,"Popup operations only handle one event");const e=Sp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(As(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(As(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ml.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(As(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,N2.get())};e()}}ml.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2="pendingRedirect",xh=new Map;class C2 extends Pb{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=xh.get(this.auth._key());if(!e){try{const r=await I2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}xh.set(this.auth._key(),e)}return this.bypassAuthState||xh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function I2(s,e){const t=O2(e),r=D2(s);if(!await r._isAvailable())return!1;const l=await r._get(t)==="true";return await r._remove(t),l}function j2(s,e){xh.set(s._key(),e)}function D2(s){return aa(s._redirectPersistence)}function O2(s){return vh(k2,s.config.apiKey,s.name)}async function M2(s,e,t=!1){if(An(s.app))return Promise.reject(oa(s));const r=_i(s),l=A2(r,e),h=await new C2(r,l,t).execute();return h&&!t&&(delete h.user._redirectEventId,await r._persistUserIfCurrent(h.user),await r._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=10*60*1e3;class P2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!V2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Vb(e)){const l=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(As(this.auth,l))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=L2&&this.cachedEventUids.clear(),this.cachedEventUids.has(y0(e))}saveEventToCache(e){this.cachedEventUids.add(y0(e)),this.lastProcessedEventTime=Date.now()}}function y0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Vb({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function V2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vb(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U2(s,e={}){return ma(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,B2=/^https?/;async function z2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await U2(s);for(const t of e)try{if(q2(t))return}catch{}ts(s,"unauthorized-domain")}function q2(s){const e=og(),{protocol:t,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&r===""?t==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===r}if(!B2.test(t))return!1;if(H2.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=new ku(3e4,6e4);function v0(){const s=Ss().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let t=0;t<s.CP.length;t++)s.CP[t]=null}}function F2(s){return new Promise((e,t)=>{var r,l,u;function h(){v0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{v0(),t(As(s,"network-request-failed"))},timeout:K2.get()})}if(!((l=(r=Ss().gapi)===null||r===void 0?void 0:r.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((u=Ss().gapi)===null||u===void 0)&&u.load)h();else{const m=Oj("iframefcb");return Ss()[m]=()=>{gapi.load?h():t(As(s,"network-request-failed"))},Tb(`${Dj()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw Eh=null,e})}let Eh=null;function G2(s){return Eh=Eh||F2(s),Eh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=new ku(5e3,15e3),Q2="__/auth/iframe",W2="emulator/auth/iframe",Y2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},X2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Z2(s){const e=s.config;be(e.authDomain,s,"auth-domain-config-required");const t=e.emulator?xp(e,W2):`https://${s.config.authDomain}/${Q2}`,r={apiKey:e.apiKey,appName:s.name,v:hi},l=X2.get(s.config.apiHost);l&&(r.eid=l);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${t}?${Eu(r).slice(1)}`}async function J2(s){const e=await G2(s),t=Ss().gapi;return be(t,s,"internal-error"),e.open({where:document.body,url:Z2(s),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Y2,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const h=As(s,"network-request-failed"),m=Ss().setTimeout(()=>{u(h)},$2.get());function p(){Ss().clearTimeout(m),l(r)}r.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tD=500,nD=600,sD="_blank",aD="http://localhost";class x0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rD(s,e,t,r=tD,l=nD){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),h=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const p=Object.assign(Object.assign({},eD),{width:r.toString(),height:l.toString(),top:u,left:h}),_=tn().toLowerCase();t&&(m=gb(_)?sD:t),fb(_)&&(e=e||aD,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[k,j])=>`${A}${k}=${j},`,"");if(Aj(_)&&m!=="_self")return iD(e||"",m),new x0(null);const T=window.open(e||"",m,E);be(T,s,"popup-blocked");try{T.focus()}catch{}return new x0(T)}function iD(s,e){const t=document.createElement("a");t.href=s,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="__/auth/handler",oD="emulator/auth/handler",uD=encodeURIComponent("fac");async function E0(s,e,t,r,l,u){be(s.config.authDomain,s,"auth-domain-config-required"),be(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:t,redirectUrl:r,v:hi,eventId:l};if(e instanceof Sb){e.setDefaultLanguage(s.languageCode),h.providerId=e.providerId||"",pR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(e instanceof Iu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}s.tenantId&&(h.tid=s.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await s._getAppCheckToken(),_=p?`#${uD}=${encodeURIComponent(p)}`:"";return`${cD(s)}?${Eu(m).slice(1)}${_}`}function cD({config:s}){return s.emulator?xp(s,oD):`https://${s.authDomain}/${lD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="webStorageSupport";class hD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jb,this._completeRedirectFn=M2,this._overrideRedirectResult=j2}async _openPopup(e,t,r,l){var u;da((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await E0(e,t,r,og(),l);return rD(e,h,Sp())}async _openRedirect(e,t,r,l){await this._originValidation(e);const u=await E0(e,t,r,og(),l);return m2(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:l,promise:u}=this.eventManagers[t];return l?Promise.resolve(l):(da(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await J2(e),r=new P2(e);return t.register("authEvent",l=>(be(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Lm,{type:Lm},l=>{var u;const h=(u=l==null?void 0:l[0])===null||u===void 0?void 0:u[Lm];h!==void 0&&t(!!h),ts(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=z2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return xb()||mb()||Tp()}}const dD=hD;var T0="@firebase/auth",b0="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gD(s){ri(new cr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=r.options;be(h&&!h.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:h,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Eb(s)},_=new Cj(r,l,u,p);return Hj(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ri(new cr("auth-internal",e=>{const t=_i(e.getProvider("auth").getImmediate());return(r=>new fD(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Es(T0,b0,mD(s)),Es(T0,b0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=5*60,_D=Q0("authIdTokenMaxAge")||pD;let A0=null;const yD=s=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>_D)return;const l=t==null?void 0:t.token;A0!==l&&(A0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function vD(s=Ag()){const e=Gh(s,"auth");if(e.isInitialized())return e.getImmediate();const t=Uj(s,{popupRedirectResolver:dD,persistence:[b2,h2,jb]}),r=Q0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const h=yD(u.toString());i2(t,h,()=>h(t.currentUser)),r2(t,m=>h(m))}}const l=F0("auth");return l&&Bj(t,`http://${l}`),t}function xD(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}Ij({loadJS(s){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const u=As("internal-error");u.customData=l,t(u)},r.type="text/javascript",r.charset="UTF-8",xD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gD("Browser");const ED={apiKey:"AIzaSyB0zBdnr_ZBmmokxvgLiHWU52QhnFnoymU",authDomain:"aimchallange-67039.firebaseapp.com",projectId:"aimchallange-67039",storageBucket:"aimchallange-67039.appspot.com",messagingSenderId:"109617578227",appId:"1:109617578227:web:8f09f705f248bbdaf07786",measurementId:"G-42PJQ2LB6T"},Rp=Z0(ED),vl=vD(Rp),fa=AI(Rp),gd=tj(Rp),Ub=L.createContext(),yi=()=>L.useContext(Ub),TD=({children:s})=>{const[e,t]=L.useState(null),[r,l]=L.useState(!1),[u,h]=L.useState(!0);L.useEffect(()=>l2(vl,async T=>{if(T){const A={uid:T.uid,email:T.email,displayName:T.displayName||T.email.split("@")[0],role:"admin"};t(A),l(!0)}else t(null),l(!1);h(!1)}),[]);const _={currentUser:e,isAuthenticated:r,login:async(E,T)=>{try{return await n2(vl,E,T),{success:!0}}catch(A){return console.error("Login error:",A),{success:!1,error:A.message}}},logout:async()=>{try{return await o2(vl),{success:!0}}catch(E){return console.error("Logout error:",E),{success:!1,error:E.message}}}};return f.jsx(Ub.Provider,{value:_,children:!u&&s})},dg=_r(fa,"settings","textContent"),bD=async()=>{try{const s=await up(dg);return s.exists()?s.data():(await Ru(dg,{}),{})}catch(s){return console.error("Error getting text content:",s),{}}},AD=async(s,e)=>{try{const t={};return t[s]=e,await LT(dg,t),{success:!0}}catch(t){throw console.error("Error updating text content:",t),t}},SD=async(s,e)=>{try{const t=hd(gd,`background-images/${e}`);return await sb(t,s,"data_url"),await _p(t)}catch(t){throw console.error("Error uploading background image:",t),t}},fg=_r(fa,"settings","backgroundImages"),wD=async()=>{try{const s=await up(fg);return s.exists()?s.data():(await Ru(fg,{}),{})}catch(s){return console.error("Error getting background images:",s),{}}},S0=async(s,e)=>{try{const t={};return t[s]=e,await LT(fg,t),{success:!0}}catch(t){throw console.error("Error updating background image:",t),t}},Hb=L.createContext(),Tr=()=>L.useContext(Hb),RD=({children:s})=>{const[e,t]=L.useState({}),[r,l]=L.useState(!1),[u,h]=L.useState([]),{currentUser:m,isAuthenticated:p}=yi(),_=(m==null?void 0:m.role)==="admin";L.useEffect(()=>{(async()=>{try{const G=await bD();t(G)}catch(G){console.error("Error fetching text content:",G);const Z=localStorage.getItem("textContent");if(Z)try{t(JSON.parse(Z))}catch(J){console.error("Error parsing saved content:",J),t({})}}})()},[]),L.useEffect(()=>{l(!!(p&&_))},[p,_]);const $={getText:(H,G)=>e[H]||G,updateText:async(H,G)=>{try{await AD(H,G);const Z={...e,[H]:G};t(Z),h(J=>[...J,{content:{...e},timestamp:new Date().toISOString(),changedKey:H}]),localStorage.setItem("textContent",JSON.stringify(Z))}catch(Z){console.error("Error updating text content:",Z);const J={...e,[H]:G};localStorage.setItem("textContent",JSON.stringify(J)),t(J)}},isEditing:r,toggleEditing:()=>{console.log("Edit mode is always on for admin users")},isAdmin:_,textContent:e,resetAllContent:()=>{h(H=>[...H,{content:{...e},timestamp:new Date().toISOString(),action:"reset-all"}]),t({}),localStorage.removeItem("textContent"),console.log("All content has been reset")},removeContentItem:H=>{h(Z=>[...Z,{content:{...e},timestamp:new Date().toISOString(),changedKey:H,action:"remove"}]);const G={...e};delete G[H],t(G),localStorage.setItem("textContent",JSON.stringify(G)),console.log(`Content item '${H}' has been removed`)},undoLastChange:()=>{if(u.length>1){const H=[...u];H.pop();const G=H[H.length-1].content;return t(G),localStorage.setItem("textContent",JSON.stringify(G)),h(H),console.log("Last change undone"),!0}return console.log("No changes to undo"),!1},getEditHistory:()=>u,editHistory:u};return f.jsx(Hb.Provider,{value:$,children:s})},ND=()=>{const[s,e]=L.useState(!1),[t,r]=L.useState(!1),{isAuthenticated:l,currentUser:u,logout:h}=yi(),{isEditing:m,getText:p,updateText:_}=Tr(),E=Il(),T=()=>{e(!1)},A=()=>{r(!1)},k=()=>{h(),E("/")};return L.useEffect(()=>{console.log("Navbar auth state:",{isAuthenticated:l,currentUser:u,isAdmin:(u==null?void 0:u.role)==="admin"})},[l,u]),f.jsx("div",{className:"flex flex_col",style:{margin:0,padding:0},children:f.jsxs("div",{className:"navbar set-03 flex flex_j_SA MaxWH location font_white",style:{margin:0,padding:0},children:[f.jsx("div",{className:"navim MaxWH location",children:f.jsx($e,{to:"/",children:f.jsx("img",{src:"/images/Aim_Challenge_logo_white.svg",alt:"aim challange logo",className:"custom-image navim"})})}),f.jsxs("div",{className:"navbside MaxWH location flex flex_j_SA",children:[f.jsxs("div",{className:"navbbutton flex flex_j_SA flex_col MaxWH location button",children:[f.jsx("a",{href:"#",className:"dropdown-trigger",onClick:j=>{j.preventDefault(),e(!s)},children:"Tävlingar"}),s&&f.jsxs("div",{className:"drop-down",children:[f.jsx($e,{to:"/competitions",onClick:T,className:"drop-item",children:"TÄVLINGAR"}),f.jsx($e,{to:"/ulricehamn",onClick:T,className:"drop-item",children:"ULRICEHAMN"}),f.jsx($e,{to:"/salen",onClick:T,className:"drop-item",children:"SÄLEN"}),f.jsx($e,{to:"/hemsedal",onClick:T,className:"drop-item",children:"HEMSEDAL"}),f.jsx($e,{to:"/kolmarden",onClick:T,className:"drop-item",children:"KOLMÅRDEN"}),f.jsx($e,{to:"/trippeln",onClick:T,className:"drop-item",children:"AIM CHALLENGE TRIPPELN"}),f.jsx($e,{to:"/trippeln-results",onClick:T,className:"drop-item",children:"RESULTAT"}),f.jsx($e,{to:"/gallery",onClick:T,className:"drop-item",children:"GALLERI"})]})]}),f.jsx("div",{className:"navbbutton flex flex_j_SA MaxWH location button",children:f.jsx("a",{href:"https://raceid.com/sv/campaigns/bcfa3952-92c0-11ef-a892-06546bc3018f",children:"Anmälan"})}),f.jsxs("div",{className:"navbbutton flex flex_j_SA flex_col MaxWH location button",children:[f.jsx("a",{href:"#",className:"dropdown-trigger",onClick:j=>{j.preventDefault(),r(!t)},children:"Om oss"}),t&&f.jsxs("div",{className:"drop-down",children:[f.jsx($e,{to:"/om-oss",onClick:A,className:"drop-item",children:"Om oss"}),f.jsx($e,{to:"/regler",onClick:A,className:"drop-item",children:"Regler"}),f.jsx($e,{to:"/faq",onClick:A,className:"drop-item",children:"FAQ"}),f.jsx($e,{to:"/historien-om-aim",onClick:A,className:"drop-item",children:"Historien om AIM"})]})]}),f.jsx("div",{className:"navbbutton flex flex_j_SA MaxWH location button",children:f.jsx("a",{href:"#sponsors-section",onClick:j=>{j.preventDefault();const q=document.getElementById("sponsors-section");q&&q.scrollIntoView({behavior:"smooth"})},children:"Sponsorer"})}),f.jsx("div",{className:"navbbutton flex flex_j_SA MaxWH location button",children:f.jsx($e,{to:"/senaste-nytt",children:"Senaste nytt"})}),f.jsx("div",{className:"navbbutton flex flex_j_SA MaxWH location button",children:f.jsx($e,{to:"#",children:"Kontakta oss"})}),f.jsx("div",{className:"navbbutton flex flex_j_SA MaxWH location button",children:f.jsx("a",{href:"#",children:"SV|NO|EN"})}),l&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"navbbutton flex flex_j_SA MaxWH location button",children:f.jsx($e,{to:"/content-manager",children:"Innehåll"})}),f.jsx("div",{className:"navbbutton flex flex_j_SA MaxWH location button",children:f.jsx("a",{href:"#",onClick:j=>{j.preventDefault(),k()},children:"Logga ut"})})]})]})]})})},kD=()=>f.jsx("div",{className:"flex flex_col MaxWH location",children:f.jsx("footer",{className:"footer set-03",children:f.jsxs("div",{className:"container",children:[f.jsxs("div",{className:"footer-grid",children:[f.jsxs("div",{className:"grid-item sponsors",children:[f.jsx("h3",{className:"footer-heading",id:"sponsors-section",children:"Sponsors"}),f.jsxs("div",{className:"grid",children:[f.jsx("img",{src:"/images/Artboard 1@4x.png",alt:"Artboard",className:"sponsor-logo"}),f.jsx("img",{src:"/images/Camelbak_vit.svg",alt:"Camelbak",className:"sponsor-logo"}),f.jsx("img",{src:"/images/Hedghog_vit.svg",alt:"Hedghog",className:"sponsor-logo"}),f.jsx("img",{src:"/images/Kona_vit.png",alt:"Kona",className:"sponsor-logo"}),f.jsx("img",{src:"/images/Mareld_svart.svg",alt:"Mareld",className:"sponsor-logo"}),f.jsx("img",{src:"/images/ODD_white_RGB.png",alt:"ODD",className:"sponsor-logo"}),f.jsx("img",{src:"/images/Oofos.png",alt:"Oofos",className:"sponsor-logo"}),f.jsx("img",{src:"/images/Ortovox_svart.svg",alt:"Ortovox",className:"sponsor-logo"}),f.jsx("img",{src:"/images/UD Logo.png",alt:"UD",className:"sponsor-logo"}),f.jsx("img",{src:"/images/Upplev.png",alt:"Upplev Norrköping",className:"sponsor-logo"}),f.jsx("img",{src:"/images/holdut_logo_sort_1.png",alt:"Hold ut",className:"sponsor-logo"}),f.jsx("img",{src:"/images/h%C3%A4llmark logga sv_v.svg",alt:"Hällmark",className:"sponsor-logo"}),f.jsx("img",{src:"/images/injinji_black.svg",alt:"Injinji",className:"sponsor-logo"})]})]}),f.jsxs("div",{className:"grid-item partners",children:[f.jsx("h3",{className:"footer-heading",children:"Partners"}),f.jsx("div",{className:"grid"})]})]}),f.jsxs("div",{className:"footer-bottom",children:[f.jsx("p",{className:"trademark",children:"© 2025 Aimchallenge"}),f.jsxs("div",{className:"social-icons flex flex_j_SA location font_white",children:[f.jsx("a",{href:"https://www.facebook.com/aimchallenge/",className:"fa fa-facebook font_white"}),f.jsx("a",{href:"https://www.instagram.com/aimchallenge/",className:"fa fa-instagram font_white"}),f.jsx("a",{href:"https://vimeo.com/user45220061",className:"fa fa-credit-card font_white"})]})]})]})})}),M=({textKey:s,defaultText:e,tag:t="p",className:r="",style:l={},placeholder:u="Skriv text här...",onClick:h})=>{const{getText:m,updateText:p,isAdmin:_}=Tr(),[E,T]=L.useState(!1),[A,k]=L.useState(""),[j,q]=L.useState(!1),[V,$]=L.useState(""),[H,G]=L.useState(""),Z=L.useRef(null),J=L.useRef(null),ae=L.useRef(null),O=["span","a","em","strong","i","b","code","small"].includes(t);L.useEffect(()=>{const me=m(s);k(me||e)},[s,e,m]),L.useEffect(()=>{const me=U=>{U.key==="Escape"&&E&&I()};return document.addEventListener("keydown",me),()=>{document.removeEventListener("keydown",me)}},[E]);const R=me=>{me&&(me.preventDefault(),me.stopPropagation()),T(!0)},S=()=>{p(s,A),T(!1),q(!1)},I=()=>{const me=m(s);k(me||e),T(!1),q(!1)},C=me=>{k(me.target.value)},P=()=>{q(!j),G(""),$("")},N=()=>{if(H&&V){let me=V;!me.startsWith("http://")&&!me.startsWith("https://")&&(me="https://"+me);const U=`<a href="${me}" target="_blank" rel="noopener noreferrer">${H}</a>`,le=Z.current,ge=le.selectionStart,ue=A.substring(0,ge),ce=A.substring(le.selectionEnd);k(ue+U+ce),G(""),$(""),setTimeout(()=>{le.focus();const Ne=ge+U.length;le.setSelectionRange(Ne,Ne)},0)}},Ee=me=>{G(me.target.value)},Ie=me=>{$(me.target.value)},ie=me=>{me.key==="Enter"&&me.ctrlKey?(me.preventDefault(),S()):me.key==="Escape"&&(me.preventDefault(),I())},ye=()=>{const me=t,U={className:`editable-text ${r}`,style:l,dangerouslySetInnerHTML:{__html:A||u},"data-textkey":s.toString()};return h&&(U.onClick=h),f.jsx(me,{...U})};if(E)return f.jsx("div",{className:"edit-modal",children:f.jsxs("div",{className:"edit-modal__content",children:[f.jsxs("div",{className:"edit-modal__toolbar",children:[f.jsx("h3",{children:"Redigera text"}),f.jsx("span",{className:"edit-modal__hint",children:"Tryck Ctrl+Enter för att spara, Esc för att avbryta"})]}),f.jsx("textarea",{ref:Z,value:A,onChange:C,onKeyDown:ie,placeholder:u,className:"edit-modal__textarea"}),f.jsx("button",{type:"button",onClick:P,className:"modal-button modal-button-secondary",children:j?"Dölj länkverktyg":"Lägg till länk"}),j&&f.jsxs("div",{className:"edit-modal__link-tools",children:[f.jsxs("div",{className:"edit-modal__form-group",children:[f.jsx("label",{htmlFor:"linkText",className:"edit-modal__label",children:"Länktext:"}),f.jsx("input",{ref:J,type:"text",id:"linkText",value:H,onChange:Ee,className:"edit-modal__input",placeholder:"Text som ska visas"})]}),f.jsxs("div",{className:"edit-modal__form-group",children:[f.jsx("label",{htmlFor:"linkUrl",className:"edit-modal__label",children:"URL:"}),f.jsx("input",{ref:ae,type:"text",id:"linkUrl",value:V,onChange:Ie,className:"edit-modal__input",placeholder:"https://example.com"})]}),f.jsx("button",{type:"button",onClick:N,disabled:!H||!V,className:"modal-button modal-button-primary",children:"Infoga länk"})]}),f.jsxs("div",{className:"edit-modal__actions",children:[f.jsx("button",{type:"button",onClick:I,className:"modal-button modal-button-secondary",children:"Avbryt"}),f.jsx("button",{type:"button",onClick:S,className:"modal-button modal-button-primary",children:"Spara"})]})]})});const pe=O?"span":"div";return f.jsxs(pe,{className:"editable-text-wrapper",children:[ye(),_&&f.jsx("button",{type:"button",onClick:R,className:"edit-button edit-button-primary",title:"Redigera text",children:"Redigera"})]})},CD=()=>f.jsxs("div",{className:"flex flex_col MaxWH location",children:[f.jsx("section",{id:"page_01",className:"page_01 dynamic-background flex flex_col flex_j_E MaxWH location",children:f.jsxs("div",{className:"trans-background page_01box flex flex_col flex_j_SA MaxWH",children:[f.jsx(M,{textKey:"main-multisport-for-alla",defaultText:"MULTISPORT FÖR ALLA",tag:"p",className:"font_blue fonts_medium"}),f.jsx(M,{textKey:"main-multisport-sedan",defaultText:"MUTLISPORT SEDAN 2004",tag:"p",className:"font_blue fonts_large"})]})}),f.jsxs("section",{id:"page_02",className:"page_02 simple-background dynamic-background flex flex_j_E MaxWH location",children:[f.jsxs("div",{className:"page_02box simple-background flex flex_col flex_j_SB MaxWH location",children:[f.jsxs("div",{className:"trans-background page_02top flex flex_col flex_j_SA MaxWH",children:[f.jsx(M,{textKey:"main-ulricehamn-title",defaultText:"ULRICEHAMN",tag:"p",className:"font_blue fonts_medium_B"}),f.jsx(M,{textKey:"ulricehamn-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium"})]}),f.jsx("div",{className:"page_02top flex flex_col flex_j_SA MaxWH Button",children:f.jsx($e,{to:"/ulricehamn",className:"location button-2",children:f.jsx("span",{children:"Läs mer"})})})]}),f.jsxs("div",{className:"page_02box simple-background flex flex_col flex_j_SB MaxWH location",children:[f.jsxs("div",{className:"trans-background page_02top flex flex_col flex_j_SA MaxWH",children:[f.jsx(M,{textKey:"main-salen-title",defaultText:"SÄLEN",tag:"p",className:"font_blue fonts_medium_B"}),f.jsx(M,{textKey:"salen-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium"})]}),f.jsx("div",{className:"page_02top flex flex_col flex_j_SA MaxWH Button",children:f.jsx($e,{to:"/salen",className:"location button-2",children:f.jsx("span",{children:"Läs mer"})})})]}),f.jsxs("div",{className:"page_02box simple-background flex flex_col flex_j_SB MaxWH location",children:[f.jsxs("div",{className:"trans-background page_02top flex flex_col flex_j_SA MaxWH",children:[f.jsx(M,{textKey:"main-hemsedal-title",defaultText:"HEMSEDAL",tag:"p",className:"font_blue fonts_medium_B"}),f.jsx(M,{textKey:"hemsedal-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium"})]}),f.jsx("div",{className:"page_02top flex flex_col flex_j_SA MaxWH Button",children:f.jsx($e,{to:"/hemsedal",className:"location button-2",children:f.jsx("span",{children:"Läs mer"})})})]}),f.jsxs("div",{className:"page_02box simple-background flex flex_col flex_j_SB MaxWH location",children:[f.jsxs("div",{className:"trans-background page_02top flex flex_col flex_j_SA MaxWH",children:[f.jsx(M,{textKey:"main-kolmarden-title",defaultText:"KOLMÅRDEN",tag:"p",className:"font_blue fonts_medium_B"}),f.jsx(M,{textKey:"kolmarden-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium"})]}),f.jsx("div",{className:"page_02top flex flex_col flex_j_SA MaxWH Button",children:f.jsx($e,{to:"/kolmarden",className:"location button-2",children:f.jsx("span",{children:"Läs mer"})})})]})]}),f.jsx("section",{id:"page_03",className:"page_02 simple-background flex flex_col flex_j_SA MaxWH location",children:f.jsxs("div",{className:"page_01box flex flex_col flex_j_SA MaxWH  font_white",children:[f.jsx(M,{textKey:"main-skistarshop",defaultText:"SKISTARSHOP.COM*",tag:"p",className:"font_white fonts_huge"}),f.jsx(M,{textKey:"main-official-butik",defaultText:"OFFICIELL AIM CHALLENGE BUTIK",tag:"p",className:"font_white fonts_large"})]})}),f.jsxs("section",{id:"page_04",className:"page_02 simple-background flex flex_j_SA MaxWH location",children:[f.jsxs("div",{className:"page_03box flex flex_col trans-background flex flex_j_SA MaxWH",children:[f.jsx(M,{textKey:"main-what-is-aim",defaultText:"VAD ÄR AIM CHALLENGE?",tag:"p",className:"font_blue fonts_large"}),f.jsx(M,{textKey:"main-aim-description",defaultText:"AIM Challenge är en multisport tävling som passar för alla. Lag på två personer ska under 6 timmar ta så många kontroller som möjligt utav 60 utplacerade.",tag:"p",className:"font_blue fonts_medium"}),f.jsx($e,{to:"/aim-challenge",className:"button-2",children:f.jsx("span",{children:"Läs mer"})})]}),f.jsx("div",{className:"page_03box flex flex_col pad flex_j_SA MaxWH",children:f.jsx("div",{})})]})]}),ID=()=>f.jsxs("div",{className:"flex flex_col MaxWH location",children:[f.jsx("div",{className:"competitions-spacer"}),f.jsxs("div",{className:"competitions-row flex MaxWH location set-03",children:[f.jsxs("div",{className:"competitions-card competitions-card-ulricehamn flex flex_col flex_j_SB MaxWH location simple-background",children:[f.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_SA MaxWH",children:[f.jsx(M,{textKey:"competitions-ulricehamn-title",defaultText:"ULRICEHAMN",tag:"p",className:"font_blue fonts_medium_B competitions-title"}),f.jsx(M,{textKey:"ulricehamn-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date"})]}),f.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:f.jsx($e,{to:"/ulricehamn",className:"location button-2 competitions-button",children:f.jsx("span",{children:"Läs mer"})})})]}),f.jsxs("div",{className:"competitions-card competitions-card-salen flex flex_col flex_j_SB MaxWH location simple-background",children:[f.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_SA MaxWH",children:[f.jsx(M,{textKey:"competitions-salen-title",defaultText:"SÄLEN",tag:"p",className:"font_blue fonts_medium_B competitions-title"}),f.jsx(M,{textKey:"salen-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date"})]}),f.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:f.jsx($e,{to:"/salen",className:"location button-2 competitions-button",children:f.jsx("span",{children:"Läs mer"})})})]})]}),f.jsxs("div",{className:"competitions-row flex MaxWH location",children:[f.jsxs("div",{className:"competitions-card competitions-card-hemsedal flex flex_col flex_j_SB MaxWH location simple-background",children:[f.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_SA MaxWH",children:[f.jsx(M,{textKey:"competitions-hemsedal-title",defaultText:"HEMSEDAL",tag:"p",className:"font_blue fonts_medium_B competitions-title"}),f.jsx(M,{textKey:"hemsedal-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date"})]}),f.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:f.jsx($e,{to:"/hemsedal",className:"location button-2 competitions-button",children:f.jsx("span",{children:"Läs mer"})})})]}),f.jsxs("div",{className:"competitions-card competitions-card-kolmarden flex flex_col flex_j_SB MaxWH location simple-background",children:[f.jsxs("div",{className:"trans-background competitions-header flex flex_col flex_j_SA MaxWH",children:[f.jsx(M,{textKey:"competitions-kolmarden-title",defaultText:"KOLMÅRDEN",tag:"p",className:"font_blue fonts_medium_B competitions-title"}),f.jsx(M,{textKey:"kolmarden-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium competitions-date"})]}),f.jsx("div",{className:"competitions-button-container flex flex_col flex_j_SA flex_a_C MaxWH Button",children:f.jsx($e,{to:"/kolmarden",className:"location button-2 competitions-button",children:f.jsx("span",{children:"Läs mer"})})})]})]})]}),jD=()=>f.jsxs("div",{className:"flex flex_col",children:[f.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:f.jsxs("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:[f.jsx(M,{textKey:"ulricehamn-title",defaultText:"ULRICEHAMN",tag:"p",className:"font_blue fonts_huge"}),f.jsx(M,{textKey:"ulricehamn-date",defaultText:"10/5-2025",tag:"p",className:"font_blue fonts_medium"})]})}),f.jsx("section",{className:"ulric-button-section-bg flex flex_j_C flex_a_C",children:f.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"ulric-button flex flex_j_C flex_a_C",children:f.jsx("p",{className:"font_white fonts_medium",children:"TA MIG TILL ANMÄLAN"})})}),f.jsxs("section",{className:"ulric-section ulric-bg-1 flex flex_j_C flex_a_C",children:[f.jsxs("div",{className:"ulric-content trans-background MaxWH flex flex_col flex_j_C",children:[f.jsx(M,{textKey:"ulricehamn-program-title",defaultText:"PROGRAM",tag:"p",className:"font_blue fonts_large"}),f.jsx(M,{textKey:"ulricehamn-program-subtitle",defaultText:"PRELIMINÄRT PROGRAM:",tag:"p",className:"font_blue fonts_medium"}),f.jsxs("div",{className:"font_blue",children:[f.jsx(M,{textKey:"ulricehamn-friday-title",defaultText:"FREDAG 9 MAJ",tag:"p",className:"fonts_medium"}),f.jsx(M,{textKey:"ulricehamn-friday-schedule",defaultText:"17:00 - 19:00 Registrering för alla tävlande på XCC",tag:"p",className:"fonts_small ulric-time-entry"})]}),f.jsxs("div",{className:"font_blue",children:[f.jsx(M,{textKey:"ulricehamn-saturday-title",defaultText:"LÖRDAG 10 MAJ",tag:"p",className:"fonts_medium"}),f.jsx(M,{textKey:"ulricehamn-saturday-schedule1",defaultText:"08:30 - 10:15 Registrering för alla tävlande som ej registrerat sig under fredagen på 157 XCC, på Lassalyckan.",tag:"p",className:"fonts_small ulric-time-entry"}),f.jsx(M,{textKey:"ulricehamn-saturday-schedule2",defaultText:"10:30 Obligatoriskt informationsmöte vid starten på Lassalyckan stadion.",tag:"p",className:"fonts_small ulric-time-entry"}),f.jsx(M,{textKey:"ulricehamn-saturday-schedule3",defaultText:"11:00 Start AIM Challenge, på Lassalyckan stadion. Gemensam start för 3 & 6-timmars tävlingen.",tag:"p",className:"fonts_small ulric-time-entry"}),f.jsx(M,{textKey:"ulricehamn-saturday-schedule4",defaultText:"14:00 Målgång för 3-timmars tävlingen.",tag:"p",className:"fonts_small ulric-time-entry"}),f.jsx(M,{textKey:"ulricehamn-saturday-schedule5",defaultText:"ca 15:30 Prisutdelning 3-timmars tävlingen",tag:"p",className:"fonts_small ulric-time-entry"}),f.jsx(M,{textKey:"ulricehamn-saturday-schedule6",defaultText:"16:30 - 20:00 After AIM med mat och dryck på Hotell Lassalyckan.",tag:"p",className:"fonts_small ulric-time-entry"}),f.jsx(M,{textKey:"ulricehamn-saturday-schedule7",defaultText:"17:00 Målgång för 6-timmars tävlingen.",tag:"p",className:"fonts_small ulric-time-entry"}),f.jsx(M,{textKey:"ulricehamn-saturday-schedule8",defaultText:"19:00 Prisutdelning utanför Hotell Lassalyckan.",tag:"p",className:"fonts_small ulric-time-entry"})]})]}),f.jsx("div",{className:"ulric-spacer MaxWH"})]}),f.jsxs("section",{className:"ulric-section ulric-bg-2 flex flex_j_C flex_a_C",children:[f.jsx("div",{className:"ulric-spacer MaxWH"}),f.jsxs("div",{className:"ulric-content trans-background MaxWH flex flex_col flex_j_C",children:[f.jsx(M,{textKey:"ulricehamn-pris-title",defaultText:"PRIS",tag:"p",className:"font_blue fonts_large"}),f.jsx(M,{textKey:"ulricehamn-title-price",defaultText:"ULRICEHAMN",tag:"p",className:"font_blue fonts_medium"}),f.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",children:f.jsx(M,{textKey:"ulricehamn-date",defaultText:"10/5-2025",tag:"p",className:"font_blue fonts_medium"})}),f.jsxs("div",{className:"font_blue",children:[f.jsx(M,{textKey:"ulricehamn-pris-3-timmars-title",defaultText:"3-TIMMARS",tag:"p",className:"fonts_medium"}),f.jsx(M,{textKey:"ulricehamn-pris-3-timmars-early-bird",defaultText:"1500 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"fonts_small ulric-time-entry"}),f.jsx(M,{textKey:"ulricehamn-pris-3-timmars-nov-feb",defaultText:"1700 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"fonts_small ulric-time-entry"}),f.jsx(M,{textKey:"ulricehamn-pris-3-timmars-feb-apr",defaultText:"1900 SEK / lag för anmälan mellan 2 februari och 24 april",tag:"p",className:"fonts_small ulric-time-entry"}),f.jsx(M,{textKey:"ulricehamn-pris-3-timmars-apr-start",defaultText:"2100 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"fonts_small ulric-time-entry"})]}),f.jsxs("div",{className:"font_blue",children:[f.jsx(M,{textKey:"ulricehamn-pris-6-timmars-title",defaultText:"6-TIMMARS",tag:"p",className:"fonts_medium"}),f.jsx(M,{textKey:"ulricehamn-pris-6-timmars-early-bird",defaultText:"1900 SEK / lag för Early Bird-anmälan innan 1 november.",tag:"p",className:"fonts_small ulric-time-entry"}),f.jsx(M,{textKey:"ulricehamn-pris-6-timmars-nov-feb",defaultText:"2100 SEK / lag för anmälan mellan 1 november och 1 februari.",tag:"p",className:"fonts_small ulric-time-entry"}),f.jsx(M,{textKey:"ulricehamn-pris-6-timmars-feb-apr",defaultText:"2300 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"fonts_small ulric-time-entry"}),f.jsx(M,{textKey:"ulricehamn-pris-6-timmars-apr-start",defaultText:"2500 SEK / lag för anmälan från 25 april och fram till start.",tag:"p",className:"fonts_small ulric-time-entry"})]}),f.jsxs("div",{className:"font_blue",children:[f.jsx(M,{textKey:"ulricehamn-pris-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"p",className:"fonts_medium"}),f.jsx(M,{textKey:"ulricehamn-pris-trippeln-early-bird",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari.",tag:"p",className:"fonts_small ulric-time-entry"}),f.jsx(M,{textKey:"ulricehamn-pris-trippeln-jan-feb",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari.",tag:"p",className:"fonts_small ulric-time-entry"}),f.jsx(M,{textKey:"ulricehamn-pris-trippeln-feb-apr",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 24 april.",tag:"p",className:"fonts_small ulric-time-entry"}),f.jsx(M,{textKey:"ulricehamn-pris-trippeln-apr-start",defaultText:"6250 SEK / lag för anmälan efter den 25 april.",tag:"p",className:"fonts_small ulric-time-entry"})]}),f.jsx("a",{href:"https://raceid.com/sv/races/12846/about",target:"_blank",rel:"noopener noreferrer",className:"button-2 ulric-button-align flex flex_s",children:f.jsx("p",{className:"fonts_small ulric-time-entry ulric-link",children:"ANMÄLAN"})})]})]}),f.jsxs("section",{className:"ulric-section ulric-bg-3 flex flex_j_C flex_a_C",children:[f.jsxs("div",{className:"ulric-content trans-background MaxWH flex flex_col flex_j_C",children:[f.jsx(M,{textKey:"ulricehamn-overnattning-title",defaultText:"ÖVERNATTNING OCH MAT",tag:"p",className:"font_blue fonts_large"}),f.jsx("div",{className:"font_blue ulric-text-block",children:f.jsx(M,{textKey:"ulricehamn-overnattning-cykeluthyrning",defaultText:"Cykeluthyrning med in- och utlämning på Lassalyckan Stadion. Läs mer och boka här.",tag:"p",className:"fonts_small ulric-time-entry"})}),f.jsxs("div",{className:"font_blue ulric-text-block",children:[f.jsx(M,{textKey:"ulricehamn-overnattning-hotell",defaultText:"Önskar du att bo nära start och mål så kan vi varmt rekommendera Hotell Lassalyckan som erbjuder ett modernt boende ett stenkast ifrån starten.",tag:"p",className:"fonts_small ulric-time-entry"}),f.jsx(M,{textKey:"ulricehamn-overnattning-hotell-link",defaultText:"www.hotell-lassalyckan.se",tag:"p",className:"fonts_small ulric-time-entry"})]}),f.jsxs("div",{className:"font_blue ulric-text-block",children:[f.jsx(M,{textKey:"ulricehamn-overnattning-alternativ",defaultText:"För övriga boende i Ulricehamn finns här en bra översikt över olika alternativ:",tag:"p",className:"fonts_small ulric-time-entry"}),f.jsx(M,{textKey:"ulricehamn-overnattning-alternativ-link",defaultText:"www.vastsverige.com/ulricehamn/boende",tag:"p",className:"fonts_small ulric-time-entry"})]})]}),f.jsx("div",{className:"ulric-spacer MaxWH"})]})]}),DD=()=>f.jsxs("div",{className:"flex flex_col",children:[f.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:f.jsxs("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:[f.jsx(M,{textKey:"salen-title",defaultText:"SÄLEN",tag:"p",className:"font_blue fonts_huge"}),f.jsx(M,{textKey:"salen-date",defaultText:"2/8-2024",tag:"p",className:"font_blue fonts_medium"})]})}),f.jsx("section",{className:"salen-button-section-bg flex flex_j_C flex_a_C",children:f.jsx("a",{href:"https://raceid.com/sv/races/13016/about",target:"_blank",rel:"noopener noreferrer",className:"salen-button flex flex_j_C flex_a_C",children:f.jsx("p",{className:"font_white fonts_medium",children:"TA MIG TILL ANMÄLAN"})})}),f.jsxs("section",{className:"salen-section salen-bg-1 flex flex_j_C flex_a_C",children:[f.jsxs("div",{className:"salen-content trans-background MaxWH flex flex_col flex_j_C",children:[f.jsx(M,{textKey:"salen-program-title",defaultText:"PROGRAM",tag:"p",className:"font_blue fonts_large"}),f.jsx(M,{textKey:"salen-program-subtitle",defaultText:"PRELIMINÄRT PROGRAM:",tag:"p",className:"font_blue fonts_medium"}),f.jsxs("div",{className:"font_blue",children:[f.jsx(M,{textKey:"salen-friday-title",defaultText:"FREDAG 1 AUGUSTI",tag:"p",className:"fonts_medium"}),f.jsx(M,{textKey:"salen-friday-schedule",defaultText:"17:00 - 20:00 Nummerlappsutdelning för alla tävlande på SkiStarshop Concept Store på Handelsområdet Lindvallen.",tag:"p",className:"fonts_xsmall salen-time-entry"})]}),f.jsxs("div",{className:"font_blue",children:[f.jsx(M,{textKey:"salen-saturday-title",defaultText:"LÖRDAG 2 AUGUSTI",tag:"p",className:"fonts_medium"}),f.jsx(M,{textKey:"salen-saturday-schedule1",defaultText:"08:30-09:00 Nummerlappsutdelning i konferenslokal ovanför Stadium",tag:"p",className:"fonts_xsmall salen-time-entry"}),f.jsx(M,{textKey:"salen-saturday-schedule2",defaultText:"09:30 Obligatoriskt infomöte vid starten",tag:"p",className:"fonts_xsmall salen-time-entry"}),f.jsx(M,{textKey:"salen-saturday-schedule3",defaultText:"10:00 START! Start/målområde vid Experiumtorget.",tag:"p",className:"fonts_xsmall salen-time-entry"}),f.jsx(M,{textKey:"salen-saturday-schedule4",defaultText:"15:30 After AIM på Lodgebaren på SkiStar Lodge Lindvallen",tag:"p",className:"fonts_xsmall salen-time-entry"}),f.jsx(M,{textKey:"salen-saturday-schedule5",defaultText:"16:00 Målgång AIM Challenge.",tag:"p",className:"fonts_xsmall salen-time-entry"}),f.jsx(M,{textKey:"salen-saturday-schedule6",defaultText:"xx:00 Prisutdelning i Lodgebaren",tag:"p",className:"fonts_xsmall salen-time-entry"})]})]}),f.jsx("div",{className:"salen-spacer MaxWH"})]}),f.jsxs("section",{className:"salen-section salen-bg-2 flex flex_j_C flex_a_C",children:[f.jsx("div",{className:"salen-spacer MaxWH"}),f.jsxs("div",{className:"salen-content trans-background MaxWH flex flex_col flex_j_C",children:[f.jsx(M,{textKey:"salen-pris-title",defaultText:"PRIS",tag:"p",className:"font_blue fonts_large"}),f.jsxs("div",{className:"font_blue",children:[f.jsx(M,{textKey:"salen-pris-salen-title",defaultText:"SÄLEN",tag:"p",className:"fonts_medium"}),f.jsx("a",{href:"https://raceid.com/sv/races/13016/about",target:"_blank",rel:"noopener noreferrer",children:f.jsx(M,{textKey:"salen-date",defaultText:"2/8-2024",tag:"p",className:"fonts_medium"})}),f.jsx(M,{textKey:"salen-pris-salen-price1",defaultText:"1900 SEK / lag för Early Bird-anmälan innan 1 januari.",tag:"p",className:"fonts_xsmall salen-time-entry"}),f.jsx(M,{textKey:"salen-pris-salen-price2",defaultText:"2100 SEK / lag för anmälan mellan 1 januari och 1 april.",tag:"p",className:"fonts_xsmall salen-time-entry"}),f.jsx(M,{textKey:"salen-pris-salen-price3",defaultText:"2300 SEK / lag för anmälan mellan 2 april och 18 juli",tag:"p",className:"fonts_xsmall salen-time-entry"}),f.jsx(M,{textKey:"salen-pris-salen-price4",defaultText:"2500 SEK / lag för anmälan från 19 juli och fram till start.",tag:"p",className:"fonts_xsmall salen-time-entry"})]}),f.jsxs("div",{className:"font_blue",children:[f.jsx(M,{textKey:"salen-pris-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"p",className:"fonts_medium"}),f.jsx(M,{textKey:"salen-pris-trippeln-price1",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari.",tag:"p",className:"fonts_xsmall salen-time-entry"}),f.jsx(M,{textKey:"salen-pris-trippeln-price2",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari.",tag:"p",className:"fonts_xsmall salen-time-entry"}),f.jsx(M,{textKey:"salen-pris-trippeln-price3",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 25 april.",tag:"p",className:"fonts_xsmall salen-time-entry"}),f.jsx(M,{textKey:"salen-pris-trippeln-price4",defaultText:"6250 SEK / lag för anmälan efter den 26 april.",tag:"p",className:"fonts_xsmall salen-time-entry"})]}),f.jsxs("div",{className:"font_blue",children:[f.jsx(M,{textKey:"salen-pris-landskampen-title",defaultText:"LANDSKAMPEN = LINDVALLEN OCH HEMSEDAL",tag:"p",className:"fonts_medium"}),f.jsx(M,{textKey:"salen-pris-landskampen-price1",defaultText:"3400 SEK/ lag för anmälan innan 1 maj.",tag:"p",className:"fonts_xsmall salen-time-entry"}),f.jsx(M,{textKey:"salen-pris-landskampen-price2",defaultText:"3800 SEK/ lag för anmälan mellan 1 maj och 1 juli.",tag:"p",className:"fonts_xsmall salen-time-entry"}),f.jsx(M,{textKey:"salen-pris-landskampen-price3",defaultText:"4200 SEK/ lag för anmälan från 1 juli och framåt.",tag:"p",className:"fonts_xsmall salen-time-entry"})]}),f.jsx("a",{href:"https://raceid.com/sv/races/13014/about",target:"_blank",rel:"noopener noreferrer",className:"button-2 salen-button-align flex flex_s",children:f.jsx("p",{className:"font_blue fonts_medium",children:"ANMÄLAN"})})]})]}),f.jsxs("section",{className:"salen-section salen-bg-3 flex flex_j_C flex_a_C",children:[f.jsxs("div",{className:"salen-content trans-background MaxWH flex flex_col flex_j_C",children:[f.jsx(M,{textKey:"salen-overnattning-title",defaultText:"ÖVERNATTNING OCH MAT",tag:"p",className:"font_blue fonts_large"}),f.jsxs("div",{className:"font_blue salen-text-block",children:[f.jsx(M,{textKey:"salen-overnattning-overnattning-title",defaultText:"ÖVERNATTNING",tag:"p",className:"fonts_medium"}),f.jsx(M,{textKey:"salen-overnattning-overnattning-text",defaultText:"Boende bokas enklast genom Skistar. För att komma direkt till bokningssida.",tag:"p",className:"fonts_xsmall salen-time-entry"})]}),f.jsxs("div",{className:"font_blue salen-text-block",children:[f.jsx(M,{textKey:"salen-overnattning-mat-title",defaultText:"MAT",tag:"p",className:"fonts_medium"}),f.jsx(M,{textKey:"salen-overnattning-mat-text1",defaultText:"Avslutningsmiddag på Lodgebaren.",tag:"p",className:"fonts_xsmall salen-time-entry"}),f.jsx(M,{textKey:"salen-overnattning-mat-text2",defaultText:"Möjlighet för frukost på Lodgebaren.",tag:"p",className:"fonts_xsmall salen-time-entry"}),f.jsx(M,{textKey:"salen-overnattning-mat-text3",defaultText:"Lodgebaren - Läs mer och boka bord",tag:"p",className:"fonts_xsmall salen-time-entry"})]}),f.jsxs("div",{className:"font_blue salen-text-block",children:[f.jsx(M,{textKey:"salen-overnattning-upplevelser-title",defaultText:"UPPLEVELSER & AKTIVITETER",tag:"p",className:"fonts_medium"}),f.jsx(M,{textKey:"salen-overnattning-upplevelser-text1",defaultText:"Bad & Spa",tag:"p",className:"fonts_xsmall salen-time-entry"}),f.jsx(M,{textKey:"salen-overnattning-upplevelser-text2",defaultText:"Bowling",tag:"p",className:"fonts_xsmall salen-time-entry"}),f.jsx(M,{textKey:"salen-overnattning-upplevelser-text3",defaultText:"Höghöjdsbana",tag:"p",className:"fonts_xsmall salen-time-entry"}),f.jsx(M,{textKey:"salen-overnattning-upplevelser-text4",defaultText:"SkiStar Sports & Adventures",tag:"p",className:"fonts_xsmall salen-time-entry"})]})]}),f.jsx("div",{className:"salen-spacer MaxWH"})]})]}),OD=()=>f.jsxs("div",{className:"MaxWH location",children:[f.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:f.jsxs("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:[f.jsx(M,{textKey:"hemsedal-title",defaultText:"HEMSEDAL",tag:"p",className:"font_blue fonts_huge"}),f.jsx(M,{textKey:"hemsedal-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium"})]})}),f.jsx("section",{className:"hemsedal-button-section-bg flex flex_j_C flex_a_C",children:f.jsx("a",{href:"https://raceid.com/sv/races/13015/about",target:"_blank",rel:"noopener noreferrer",className:"hemsedal-button flex flex_j_C flex_a_C",children:f.jsx("p",{className:"font_white fonts_medium",children:"TA MIG TILL ANMÄLAN"})})}),f.jsxs("section",{className:"hemsedal-section hemsedal-bg-1 flex flex_j_C flex_a_C",children:[f.jsxs("div",{className:"hemsedal-content trans-background MaxWH flex flex_col flex_j_C",children:[f.jsx(M,{textKey:"hemsedal-program-title",defaultText:"PROGRAM",tag:"p",className:"font_blue fonts_large"}),f.jsx(M,{textKey:"hemsedal-program-subtitle",defaultText:"PRELIMINÄRT PROGRAM:",tag:"p",className:"font_blue fonts_medium"}),f.jsxs("div",{className:"font_blue",children:[f.jsx(M,{textKey:"hemsedal-friday-title",defaultText:"FREDAG 23 AUGUSTI",tag:"p",className:"fonts_medium"}),f.jsx(M,{textKey:"hemsedal-friday-schedule",defaultText:"17:00 - 20:00 Nummerlappsutdelning för alla tävlande på SkiStarshop Hemsedal",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]}),f.jsxs("div",{className:"font_blue",children:[f.jsx(M,{textKey:"hemsedal-saturday-title",defaultText:"LÖRDAG 24 AUGUSTI",tag:"p",className:"fonts_medium"}),f.jsx(M,{textKey:"hemsedal-saturday-schedule1",defaultText:"08:30-09:00 Nummerlappsutdelning vid starten",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),f.jsx(M,{textKey:"hemsedal-saturday-schedule2",defaultText:"09:30 Obligatoriskt infomöte vid starten",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),f.jsx(M,{textKey:"hemsedal-saturday-schedule3",defaultText:"10:00 START! Start/målområde vid Hemsedal Skisenter",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),f.jsx(M,{textKey:"hemsedal-saturday-schedule4",defaultText:"15:30 After AIM på Stavkroa",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),f.jsx(M,{textKey:"hemsedal-saturday-schedule5",defaultText:"16:00 Målgång AIM Challenge",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),f.jsx(M,{textKey:"hemsedal-saturday-schedule6",defaultText:"18:00 Prisutdelning på Stavkroa",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]})]}),f.jsx("div",{className:"hemsedal-spacer MaxWH"})]}),f.jsxs("section",{className:"hemsedal-section hemsedal-bg-2 flex flex_j_C flex_a_C",children:[f.jsx("div",{className:"hemsedal-spacer MaxWH"}),f.jsxs("div",{className:"hemsedal-content trans-background MaxWH flex flex_col flex_j_C",children:[f.jsx(M,{textKey:"hemsedal-pris-title",defaultText:"PRIS",tag:"p",className:"font_blue fonts_large"}),f.jsxs("div",{className:"font_blue",children:[f.jsx(M,{textKey:"hemsedal-pris-date",defaultText:"HEMSEDAL",tag:"p",className:"fonts_medium"}),f.jsx("a",{href:"https://raceid.com/sv/races/13015/about",target:"_blank",rel:"noopener noreferrer",children:f.jsx(M,{textKey:"hemsedal-date",defaultText:"24/8-2024",tag:"p",className:"fonts_medium"})}),f.jsx(M,{textKey:"hemsedal-pris-price1",defaultText:"1900 NOK / lag för Early Bird-anmälan innan 1 januari",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),f.jsx(M,{textKey:"hemsedal-pris-price2",defaultText:"2100 NOK / lag för anmälan mellan 1 januari och 1 april",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),f.jsx(M,{textKey:"hemsedal-pris-price3",defaultText:"2300 NOK / lag för anmälan mellan 2 april och 18 juli",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),f.jsx(M,{textKey:"hemsedal-pris-price4",defaultText:"2500 NOK / lag för anmälan från 19 juli och fram till start",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]}),f.jsxs("div",{className:"font_blue",children:[f.jsx(M,{textKey:"hemsedal-trippeln-title",defaultText:"AIM CHALLENGE TRIPPELN 2025",tag:"p",className:"fonts_medium"}),f.jsx(M,{textKey:"hemsedal-trippeln-price1",defaultText:"4750 SEK / lag för Early Bird-anmälan innan 1 januari",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),f.jsx(M,{textKey:"hemsedal-trippeln-price2",defaultText:"5250 SEK / lag för anmälan mellan 1 januari och 1 februari",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),f.jsx(M,{textKey:"hemsedal-trippeln-price3",defaultText:"5750 SEK / lag för anmälan mellan 2 februari och 25 april",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),f.jsx(M,{textKey:"hemsedal-trippeln-price4",defaultText:"6250 SEK / lag för anmälan efter den 26 april",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]}),f.jsxs("div",{className:"font_blue",children:[f.jsx(M,{textKey:"hemsedal-landskampen-title",defaultText:"LANDSKAMPEN = LINDVALLEN OCH HEMSEDAL",tag:"p",className:"fonts_medium"}),f.jsx(M,{textKey:"hemsedal-landskampen-price1",defaultText:"3400 SEK / lag för anmälan innan 1 maj",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),f.jsx(M,{textKey:"hemsedal-landskampen-price2",defaultText:"3800 SEK / lag för anmälan mellan 1 maj och 1 juli",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),f.jsx(M,{textKey:"hemsedal-landskampen-price3",defaultText:"4200 SEK / lag för anmälan från 1 juli och framåt",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]}),f.jsx("a",{href:"https://raceid.com/sv/races/13014/about",target:"_blank",rel:"noopener noreferrer",className:"button-2 hemsedal-button-align flex flex_s",children:f.jsx("span",{children:"ANMÄLAN"})})]})]}),f.jsxs("section",{className:"hemsedal-section hemsedal-bg-3 flex flex_j_C flex_a_C",children:[f.jsxs("div",{className:"hemsedal-content trans-background MaxWH flex flex_col flex_j_C",children:[f.jsx(M,{textKey:"hemsedal-overnattning-title",defaultText:"ÖVERNATTNING OCH MAT",tag:"p",className:"font_blue fonts_large"}),f.jsxs("div",{className:"font_blue hemsedal-text-block",children:[f.jsx(M,{textKey:"hemsedal-overnattning-subtitle",defaultText:"ÖVERNATTNING",tag:"p",className:"fonts_medium"}),f.jsx(M,{textKey:"hemsedal-overnattning-info",defaultText:"Boende bokas enklast genom Skistar. Klicka för att komma direkt till bokningssida.",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),f.jsx(M,{textKey:"hemsedal-cykeluthyrning-info",defaultText:"Cykel kan hyras hos Concept Store. Klicka för att komma till bokningssida.",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]}),f.jsxs("div",{className:"font_blue hemsedal-text-block",children:[f.jsx(M,{textKey:"hemsedal-mat-subtitle",defaultText:"MAT",tag:"p",className:"fonts_medium"}),f.jsx(M,{textKey:"hemsedal-mat-friday",defaultText:"FREDAG:",tag:"p",className:"fonts_small"}),f.jsx(M,{textKey:"hemsedal-mat-friday-info",defaultText:"18:00 - 21:00 Italiensk pizza som Take Away - Beställ på plats på lodgen Spiseri eller ring +47 458 65 086. Meny kommer att läggas ut HÄR.",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),f.jsx(M,{textKey:"hemsedal-mat-saturday",defaultText:"LÖRDAG:",tag:"p",className:"fonts_small"}),f.jsx(M,{textKey:"hemsedal-mat-saturday-info1",defaultText:"10:00 - 15:00 Cafe och lunchservering på Lodgen Spiseri",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),f.jsx(M,{textKey:"hemsedal-mat-saturday-info2",defaultText:"15:30-18:00 After AIM på Lodgen Spiseri. Viktigt att fylla på med vätska och energi efter målgång!",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),f.jsx(M,{textKey:"hemsedal-mat-saturday-info3",defaultText:"19:30 Bankettmiddag på Lodgen Spiseri. Bokas här.",tag:"p",className:"fonts_xsmall hemsedal-time-entry"}),f.jsx(M,{textKey:"hemsedal-mat-sunday",defaultText:"SÖNDAG:",tag:"p",className:"fonts_small"}),f.jsx(M,{textKey:"hemsedal-mat-sunday-info",defaultText:"10:00 - 15:00 Cafe och lunchservering på Lodgen Spiseri",tag:"p",className:"fonts_xsmall hemsedal-time-entry"})]}),f.jsx("div",{className:"font_blue hemsedal-text-block",children:f.jsx(M,{textKey:"hemsedal-mat-info",defaultText:"Lodgen Spiseri följer alla de nationella riktlinjerna för att ge dig en trygg och bra upplevelse.",tag:"p",className:"fonts_xsmall"})})]}),f.jsx("div",{className:"hemsedal-spacer MaxWH"})]})]}),MD=()=>f.jsxs("div",{className:"MaxWH location",children:[f.jsx("div",{className:"set-03",style:{height:"120px"}}),f.jsx("section",{className:"page_01 kolmarden-bg-1 flex flex_col flex_j_E set-03",children:f.jsxs("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:[f.jsx(M,{textKey:"kolmarden-title",defaultText:"KOLMÅRDEN",tag:"p",className:"font_blue fonts_huge"}),f.jsx(M,{textKey:"kolmarden-date",defaultText:"datum insert",tag:"p",className:"font_blue fonts_medium"})]})}),f.jsx("section",{className:"kolmarden-button-section-bg flex flex_j_C flex_a_C set-03",children:f.jsx("a",{href:"https://raceid.com/sv/races/13014/about",target:"_blank",rel:"noopener noreferrer",className:"kolmarden-button flex flex_j_C flex_a_C",children:f.jsx("p",{className:"font_white fonts_medium",children:"TA MIG TILL ANMÄLAN"})})}),f.jsx("section",{className:"kolmarden-section kolmarden-bg-2 flex flex_j_R flex_a_C set-03",children:f.jsxs("div",{className:"kolmarden-content trans-background MaxWH flex flex_col flex_j_C",children:[f.jsx(M,{textKey:"kolmarden-program-title",defaultText:"PROGRAM",tag:"p",className:"font_blue fonts_large"}),f.jsx(M,{textKey:"kolmarden-program-subtitle",defaultText:"PRELIMINÄRT PROGRAM:",tag:"p",className:"font_blue fonts_medium"}),f.jsxs("div",{className:"font_blue",children:[f.jsx(M,{textKey:"kolmarden-friday-title",defaultText:"FREDAG 27 SEPTEMBER",tag:"p",className:"fonts_small kolmarden-day-title"}),f.jsx(M,{textKey:"kolmarden-friday-program",defaultText:"15:00-19:00 Tävlingsexpeditionen öppen, utlämning av nummerlappar och kartor",tag:"p",className:"fonts_xsmall kolmarden-program-entry"})]}),f.jsxs("div",{className:"font_blue",children:[f.jsx(M,{textKey:"kolmarden-saturday-title",defaultText:"LÖRDAG 28 SEPTEMBER",tag:"p",className:"fonts_small kolmarden-day-title"}),f.jsx(M,{textKey:"kolmarden-saturday-program-1",defaultText:"07:30-08:30 Tävlingsexpeditionen öppen, utlämning av nummerlappar och kartor",tag:"p",className:"fonts_xsmall kolmarden-program-entry"}),f.jsx(M,{textKey:"kolmarden-saturday-program-2",defaultText:"08:30 Obligatorisk genomgång vid startområdet",tag:"p",className:"fonts_xsmall kolmarden-program-entry"}),f.jsx(M,{textKey:"kolmarden-saturday-program-3",defaultText:"09:00 Start",tag:"p",className:"fonts_xsmall kolmarden-program-entry"}),f.jsx(M,{textKey:"kolmarden-saturday-program-4",defaultText:"15:00 Målet stänger",tag:"p",className:"fonts_xsmall kolmarden-program-entry"}),f.jsx(M,{textKey:"kolmarden-saturday-program-5",defaultText:"16:00 Prisutdelning",tag:"p",className:"fonts_xsmall kolmarden-program-entry"})]})]})}),f.jsx("section",{className:"kolmarden-section kolmarden-bg-3 flex flex_j_E flex_a_C set-03",children:f.jsxs("div",{className:"kolmarden-content trans-background MaxWH flex flex_col flex_j_C",children:[f.jsx(M,{textKey:"kolmarden-registration-title",defaultText:"ANMÄLAN",tag:"p",className:"font_blue fonts_large"}),f.jsx("div",{className:"font_blue kolmarden-text-block",children:f.jsx(M,{textKey:"kolmarden-registration-text",defaultText:"Anmälan görs via RaceID. Klicka på knappen nedan för att komma till anmälningssidan.",tag:"p"})}),f.jsxs("div",{className:"kolmarden-registration-info font_blue",children:[f.jsxs("div",{className:"kolmarden-registration-column",children:[f.jsx(M,{textKey:"kolmarden-registration-early-title",defaultText:"ORDINARIE ANMÄLAN",tag:"p",className:"fonts_small kolmarden-fee-title"}),f.jsx(M,{textKey:"kolmarden-registration-early-dates",defaultText:"t.o.m. 31 augusti 2024",tag:"p",className:"fonts_xsmall kolmarden-date-entry"}),f.jsx(M,{textKey:"kolmarden-registration-early-fee",defaultText:"1 495 kr / lag",tag:"p",className:"fonts_xsmall kolmarden-fee-entry"})]}),f.jsxs("div",{className:"kolmarden-registration-column",children:[f.jsx(M,{textKey:"kolmarden-registration-late-title",defaultText:"SEN ANMÄLAN",tag:"p",className:"fonts_small kolmarden-fee-title"}),f.jsx(M,{textKey:"kolmarden-registration-late-dates",defaultText:"1 september - 20 september 2024",tag:"p",className:"fonts_xsmall kolmarden-date-entry"}),f.jsx(M,{textKey:"kolmarden-registration-late-fee",defaultText:"1 795 kr / lag",tag:"p",className:"fonts_xsmall kolmarden-fee-entry"})]}),f.jsxs("div",{className:"kolmarden-registration-column",children:[f.jsx(M,{textKey:"kolmarden-registration-onsite-title",defaultText:"EFTERANMÄLAN",tag:"p",className:"fonts_small kolmarden-fee-title"}),f.jsx(M,{textKey:"kolmarden-registration-onsite-dates",defaultText:"21 september - 27 september 2024",tag:"p",className:"fonts_xsmall kolmarden-date-entry"}),f.jsx(M,{textKey:"kolmarden-registration-onsite-fee",defaultText:"1 995 kr / lag",tag:"p",className:"fonts_xsmall kolmarden-fee-entry"})]})]}),f.jsxs("div",{className:"kolmarden-text-block font_blue",children:[f.jsx(M,{textKey:"kolmarden-registration-includes",defaultText:"I anmälningsavgiften ingår:",tag:"p",className:"fonts_small"}),f.jsx(M,{textKey:"kolmarden-registration-includes-list",defaultText:"Kartor, nummerlappar, tidtagningschip, vätskekontroller under loppet, enklare mat efter målgång, sjukvård och säkerhet under loppet.",tag:"p",className:"fonts_xsmall kolmarden-time-entry"})]}),f.jsx("a",{href:"https://raceid.com/sv/races/13014/about",target:"_blank",rel:"noopener noreferrer",className:"button-2 kolmarden-button-align flex flex_s",children:f.jsx(M,{textKey:"kolmarden-anmalan-button2",defaultText:"ANMÄLAN",tag:"span"})})]})}),f.jsxs("section",{className:"kolmarden-section kolmarden-bg-4 flex flex_j_R flex_a_C set-03",children:[f.jsxs("div",{className:"kolmarden-content trans-background MaxWH flex flex_col flex_j_C",children:[f.jsx(M,{textKey:"kolmarden-accommodation-title",defaultText:"ÖVERNATTNING OCH MAT",tag:"p",className:"font_blue fonts_large"}),f.jsxs("div",{className:"font_blue kolmarden-text-block",children:[f.jsx(M,{textKey:"kolmarden-accommodation-text",defaultText:"Under tävlingshelgen bor du smidigt på First Camp Kolmården – Norrköping med krypavstånd från start- och målgången. Som tävlingsdeltagare får du dessutom 25% rabatt på stugor och camping när du bokar online.",tag:"p"}),f.jsx(M,{textKey:"kolmarden-discount-code",defaultText:"Rabattkod: AIMCHALLENGE25",tag:"p",className:"fonts_small"}),f.jsx(M,{textKey:"kolmarden-discount-dates",defaultText:"23-29 september 2024",tag:"p",className:"fonts_small"}),f.jsx(M,{textKey:"kolmarden-discount-note1",defaultText:"Endast BAS-bokningar",tag:"p",className:"fonts_small"}),f.jsx(M,{textKey:"kolmarden-discount-note2",defaultText:"Boka online på firstcamp.se",tag:"p",className:"fonts_small"}),f.jsx("div",{className:"kolmarden-button-align",children:f.jsx("a",{href:"https://firstcamp.se",target:"_blank",rel:"noopener noreferrer",className:"kolmarden-link",children:f.jsx(M,{textKey:"kolmarden-book-here",defaultText:"Boka här",tag:"span"})})})]}),f.jsxs("div",{className:"font_blue kolmarden-text-block",children:[f.jsx("p",{children:f.jsx(M,{textKey:"kolmarden-other-accommodation",defaultText:"Övriga boendealternativ finns att hitta här.",tag:"span"})}),f.jsx("p",{children:f.jsx(M,{textKey:"kolmarden-food-tips",defaultText:"Tips på ställen att äta i samband med ditt besök i Norrköping/Kolmården.",tag:"span"})}),f.jsx("p",{children:f.jsx(M,{textKey:"kolmarden-other-activities",defaultText:"Här kan du hitta inspiration på övriga saker att se och göra under ditt besök i Norrköping/Kolmården.",tag:"span"})})]})]}),f.jsx("div",{className:"kolmarden-spacer MaxWH"})]})]}),LD=()=>f.jsxs("div",{className:"MaxWH location",children:[f.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:f.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:f.jsx("p",{className:"font_blue fonts_huge",children:"AIM CHALLENGE TRIPPELN"})})}),f.jsxs("section",{className:"trippeln-section trippeln-bg",style:{minHeight:"130vh"},children:[f.jsx("div",{className:"trippeln-content trans-background",children:f.jsxs("div",{className:"font_blue",children:[f.jsx("p",{className:"fonts_medium",children:"Trippeln är en tävling i tävlingen där de som deltar i minst tre av årets deltävlingar är med och tävlar om den mycket hedervärda titeln Vinnare av AIM Challenge Trippeln!"}),f.jsx("br",{}),f.jsx("p",{children:"AIM Challenge Trippeln ersätter Landskampen som sedan 2010 har varit en tävling i tävlingen för de som genomfört AIM Challenge både i Lindvallen och Hemsedal. En tävling där det tävlats för antingen Sverige eller Norge, där det vinnande landet har hyllats och den som bidragit mest till sitt land har prisats."}),f.jsx("br",{}),f.jsx("p",{children:"Med AIM Challenge Trippeln lägger vi ner stridsyxan mellan Sverige och Norge och gör det därmed möjligt att även köra mixade lag mellan olika nationer utan att detta skapar en konflikt."}),f.jsx("br",{}),f.jsx("p",{className:"fonts_medium",children:"Hur går AIM Challenge Trippeln till:"}),f.jsx("br",{}),f.jsx("p",{children:"AIM Challenge Trippeln är en tävling i tävlingen för de lag som deltar på minst tre deltävlingar under ett och samma år. Tävlingarna som ingår är Ulricehamn, Sälen, Hemsedal och Kolmården. Det är fritt för laget att välja om ni önskar att delta i 3- eller 6-timmars tävlingen i Ulricehamn och Kolmården, båda anses att vara likvärdiga för Trippeln."}),f.jsx("br",{}),f.jsx("p",{children:"Vid anmälan till Trippeln blir man per automatik anmäld till alla fyra deltävlingar och väljer själv om man vill delta i tre eller fyra tävlingar. Priset för att anmäla sig till trippeln är rabatterat och blir billigare redan vid start i tre deltävlingar. Skulle ett lag delta i alla fyra deltävlingarna så räknas de tre bästa resultaten till Trippeln."}),f.jsx("br",{}),f.jsx("p",{children:"Det gäller att samla så många poäng som möjligt under årets tävlingar där varje lag får räkna in sina tre bästa resultat från det gångna året. Vinnaren av AIM Challenge Trippeln kommer att utses genom ett poängsystem som bygger på hur många poäng laget fått procentuellt i förhållande till vinnarlaget i respektive klass. Varje lag kommer då få en poängsumma mellan 1 och 100 per tävling och efter alla deltävlingarna kommer dessa poäng att adderas och det lag med högst sammanlagda poäng kommer att stå på prispallen! Skulle två lag få samma sammanlagda poäng så kommer vi se på placeringar i de enskilda loppen för att utse en vinnare."}),f.jsx("br",{}),f.jsx("p",{children:"Vid anmälan till AIM Challenge Trippeln så anmäler sig laget till alla fyra deltävlingarna, varav minst tre måste genomföras för att få ett resultat i Trippeln. Ett lag består av två personer, men om någon i laget skulle få förhinder inför någon av tävlingarna så gäller följande: För att resultatet i Trippeln skall bli godkänt så måste minst en i laget delta i alla tre tävlingarna, samt att deltagare 2 deltar vid minst två deltävlingar. Det vill säga att det är möjligt att ta in en reserv under en av deltävlingarna och fortfarande tävla som lag om den hedervärda titeln! I det fall deltagare 1 tävlat med tre olika lagkompisar under året är det enbart den som deltagit vid alla tre tävlingarna som kommer att premieras."}),f.jsx("br",{}),f.jsx("p",{children:"Det är inte möjligt att sälja sin startplats i Trippeln vidare för den tävling som laget eventuellt inte deltar i."})]})}),f.jsx("div",{className:"trippeln-spacer"})]}),f.jsx("section",{className:"ulric-button-section-bg flex flex_j_C flex_a_C",children:f.jsx("a",{href:"https://raceid.com/sv/races/13016/about",target:"_blank",rel:"noopener noreferrer",className:"ulric-button flex flex_j_C flex_a_C",children:f.jsx("p",{className:"font_white fonts_medium",children:"TA MIG TILL ANMÄLAN"})})})]}),Bb=({onClose:s,onUploadSuccess:e,years:t=["2023","2022","2021","2020","2019","2018","2017","2016","2015"],categories:r=["Herrar","Damer","Mixed"],durations:l=["3 timmar","6 timmar","12 timmar","24 timmar"],locations:u=["Ulricehamn","Borås","Göteborg","Jönköping","Stockholm"],year:h})=>{const[m,p]=L.useState("Ulricehamn"),[_,E]=L.useState(h||"2023"),[T,A]=L.useState("Herrar"),[k,j]=L.useState("3 timmar"),[q,V]=L.useState(null),[$,H]=L.useState(""),[G,Z]=L.useState(!1),[J,ae]=L.useState(0),O=S=>{S.target.files[0]&&V(S.target.files[0])},R=async S=>{if(S.preventDefault(),!q){H("Please select a file to upload");return}Z(!0),H(""),ae(0);try{if(vl.currentUser)await vl.currentUser.getIdToken(!0);else throw new Error("You must be logged in to upload files");const I=`${_}_${T}_${k}_${Date.now()}_${q.name}`,C=hd(gd,`results/${I}`),P={contentType:q.type,customMetadata:{year:_,category:T,duration:k,location:m}},N=J1(C,q,P);N.on("state_changed",Ee=>{const Ie=Ee.bytesTransferred/Ee.totalBytes*100;ae(Ie),console.log("Upload is "+Ie+"% done")},Ee=>{console.error("Upload error:",Ee),Ee.code==="storage/unauthorized"?H("Authentication error: You are not authorized to upload files. Please log in again."):Ee.code==="storage/cors-error"?H("CORS error: The server rejected the request. Please contact the administrator."):Ee.code==="storage/quota-exceeded"?H("Storage quota exceeded. Please contact the administrator."):H(`Upload failed: ${Ee.message}`),Z(!1)},async()=>{console.log("Upload completed successfully");const Ee=await _p(N.snapshot.ref);console.log("Download URL:",Ee);const Ie={year:parseInt(_),location:m,category:T,duration:k,fileUrl:Ee,fileName:q.name,uploadedAt:new Date().toISOString()},ie=_r(Yg(fa,"results"));await Ru(ie,Ie),V(null),ae(0),e&&e(),s(),Z(!1)})}catch(I){console.error("Error setting up upload:",I),H(`Upload setup failed: ${I.message}`),Z(!1)}};return f.jsx("div",{className:"result-upload-modal-overlay",children:f.jsxs("div",{className:"result-upload-modal",children:[f.jsxs("div",{className:"result-upload-modal-header",children:[f.jsx("h2",{children:"Ladda upp resultat"}),f.jsx("button",{className:"result-upload-modal-close",onClick:s,children:"×"})]}),f.jsx("div",{className:"result-upload-modal-body",children:f.jsxs("form",{className:"result-upload-modal-form",onSubmit:R,children:[f.jsxs("div",{className:"result-upload-modal-field",children:[f.jsx("label",{children:"Plats"}),f.jsx("select",{className:"result-upload-modal-select",value:m,onChange:S=>p(S.target.value),children:u.map((S,I)=>f.jsx("option",{value:S,children:S},I))})]}),f.jsxs("div",{className:"result-upload-modal-field",children:[f.jsx("label",{children:"År"}),f.jsx("select",{className:"result-upload-modal-select",value:_,onChange:S=>E(S.target.value),children:t.map((S,I)=>f.jsx("option",{value:S,children:S},I))})]}),f.jsxs("div",{className:"result-upload-modal-field",children:[f.jsx("label",{children:"Kategori"}),f.jsx("select",{className:"result-upload-modal-select",value:T,onChange:S=>A(S.target.value),children:r.map((S,I)=>f.jsx("option",{value:S,children:S},I))})]}),f.jsxs("div",{className:"result-upload-modal-field",children:[f.jsx("label",{children:"Distans"}),f.jsx("select",{className:"result-upload-modal-select",value:k,onChange:S=>j(S.target.value),children:l.map((S,I)=>f.jsx("option",{value:S,children:S},I))})]}),f.jsxs("div",{className:"result-upload-modal-field",children:[f.jsx("label",{children:"Fil"}),f.jsx("input",{type:"file",className:"result-upload-modal-file-input",onChange:O,accept:".pdf,.doc,.docx,.xls,.xlsx,.csv,.txt"})]}),G&&f.jsxs("div",{className:"result-upload-modal-progress",children:[f.jsx("div",{className:"result-upload-modal-progress-bar",style:{width:`${J}%`}}),f.jsxs("div",{className:"result-upload-modal-progress-text",children:[Math.round(J),"%"]})]}),$&&f.jsx("div",{className:"result-upload-modal-error",children:$}),f.jsxs("div",{className:"result-upload-modal-actions",children:[f.jsx("button",{type:"button",className:"result-upload-modal-cancel",onClick:s,disabled:G,children:"Avbryt"}),f.jsx("button",{type:"submit",className:"result-upload-modal-submit",disabled:G||!q,children:G?"Laddar upp...":"Ladda upp"})]})]})})]})})},PD=()=>{const[s,e]=L.useState("2023"),[t,r]=L.useState("Herrar"),[l,u]=L.useState("3 timmar"),[h,m]=L.useState([]),[p,_]=L.useState(!0),[E,T]=L.useState(null),[A,k]=L.useState(!1),{currentUser:j}=yi(),q=(j==null?void 0:j.role)==="admin";console.log("Current User:",j),console.log("Is Admin:",q);const $=(()=>{const ae=[];for(let O=2010;O<=2045;O++)ae.push(O.toString());return ae.sort((O,R)=>R-O)})();L.useEffect(()=>{(async()=>{_(!0);try{const O=Yg(fa,"results"),R=await MT(O),S=[];R.forEach(I=>{const C=I.data();(s==="all"||C.year.toString()===s)&&(t==="all"||C.category===t)&&(l==="all"||C.duration===l)&&S.push(C)}),m(S),T(null)}catch(O){console.error("Error fetching results:",O),T("Failed to load results. Please try again later."),m([])}finally{_(!1)}})()},[s,t,l]);const H=ae=>{e(ae.target.value)},G=ae=>{r(ae.target.value)},Z=ae=>{u(ae.target.value)},J=()=>{window.location.reload()};return h.filter(ae=>(!t||ae.category===t)&&(!l||ae.duration===l)),f.jsxs("div",{className:"MaxWH location",children:[f.jsx("div",{className:"set-03",style:{height:"120px"}}),f.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E set-03",children:f.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:f.jsx("p",{className:"font_blue fonts_huge",children:"RESULTAT"})})}),f.jsx("section",{className:"set-03",style:{minHeight:"130vh",padding:"2rem"},children:f.jsxs("div",{className:"trans-background",style:{padding:"2rem",borderRadius:"8px"},children:[f.jsxs("div",{style:{marginBottom:"2rem"},className:"flex flex_j_C flex_a_C",children:[f.jsxs("select",{value:s,onChange:H,style:{padding:"0.5rem 1rem",margin:"0 1rem",background:"white",color:"rgb(56, 76, 135)",border:"2px solid rgb(56, 76, 135)",borderRadius:"4px"},children:[f.jsx("option",{value:"all",children:"Alla År"}),$.map(ae=>f.jsx("option",{style:{background:"white",color:"rgb(56, 76, 135)"},value:ae,children:ae},ae))]}),f.jsxs("select",{value:t,onChange:G,style:{padding:"0.5rem 1rem",margin:"0 1rem",background:"white",color:"rgb(56, 76, 135)",border:"2px solid rgb(56, 76, 135)",borderRadius:"4px"},children:[f.jsx("option",{style:{background:"white",color:"rgb(56, 76, 135)"},value:"all",children:"Alla Kategorier"}),f.jsx("option",{style:{background:"white",color:"rgb(56, 76, 135)"},value:"Herrar",children:"Herrar"}),f.jsx("option",{style:{background:"white",color:"rgb(56, 76, 135)"},value:"Damer",children:"Damer"}),f.jsx("option",{style:{background:"white",color:"rgb(56, 76, 135)"},value:"Mixed",children:"Mixed"})]}),f.jsxs("select",{value:l,onChange:Z,style:{padding:"0.5rem 1rem",margin:"0 1rem",background:"white",color:"rgb(56, 76, 135)",border:"2px solid rgb(56, 76, 135)",borderRadius:"4px"},children:[f.jsx("option",{style:{background:"white",color:"rgb(56, 76, 135)"},value:"all",children:"Alla Rutter"}),f.jsx("option",{style:{background:"white",color:"rgb(56, 76, 135)"},value:"3 timmar",children:"3 timmar"}),f.jsx("option",{style:{background:"white",color:"rgb(56, 76, 135)"},value:"6 timmar",children:"6 timmar"})]}),j&&f.jsx("button",{onClick:()=>k(!0),className:"result-upload-button",children:"Ladda upp resultat"})]}),f.jsx("div",{className:"race-results-container",children:p?f.jsx("p",{children:"Loading results..."}):E?f.jsx("p",{className:"error-message",children:E}):h.length===0?f.jsx("p",{children:"No results found for the selected filters. Please try different filters or upload new results."}):f.jsx("div",{className:"results-list",children:h.map(ae=>f.jsxs("div",{className:"result-item",children:[f.jsxs("div",{className:"result-info",children:[f.jsxs("h3",{children:[ae.location," - ",ae.year]}),f.jsxs("p",{children:["Category: ",ae.category]}),f.jsxs("p",{children:["Duration: ",ae.duration]}),f.jsxs("p",{children:["Uploaded: ",new Date(ae.uploadedAt).toLocaleDateString()]})]}),f.jsx("div",{className:"result-actions",children:f.jsxs("a",{href:ae.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"result-download-link",children:["View/Download ",ae.fileName]})})]},ae.id))})})]})}),A&&f.jsx(Bb,{isOpen:A,onClose:()=>k(!1),onUploadSuccess:J,year:s})]})},VD=()=>{const{currentUser:s}=yi(),[e,t]=L.useState("all"),[r,l]=L.useState("all"),[u,h]=L.useState("all"),[m,p]=L.useState([]),[_,E]=L.useState(!0),[T,A]=L.useState(!1),[k,j]=L.useState(""),q=(s==null?void 0:s.role)==="admin",V=[2025,2024,2023,2022,2021,2020,2019,2018],$=["Herrar","Damer","Mixed"],H=["3 timmar","6 timmar"],G=["Ulricehamn","Sälen","Hemsedal","Kolmården"];L.useEffect(()=>{Z()},[e,r,u]);const Z=()=>{try{E(!0),j("");const C=localStorage.getItem("raceResults");let P=C?JSON.parse(C):[];e!=="all"&&(P=P.filter(N=>N.year===parseInt(e))),r!=="all"&&(P=P.filter(N=>N.category===r)),u!=="all"&&(P=P.filter(N=>N.duration===u)),p(P)}catch(C){console.error("Error fetching results:",C),j("Failed to load results. Please try again later.")}finally{E(!1)}},J=C=>{if(window.confirm("Are you sure you want to delete this result?"))try{const P=localStorage.getItem("raceResults");let N=P?JSON.parse(P):[];N=N.filter(Ee=>Ee.id!==C),localStorage.setItem("raceResults",JSON.stringify(N)),Z()}catch(P){console.error("Error deleting result:",P),j("Failed to delete result. Please try again.")}},ae=()=>{A(!0)},O=()=>{A(!1)},R=()=>{Z()},S=C=>m.filter(P=>P.location===C),I=C=>{const P={};return C.forEach(N=>{const Ee=`${N.year}-${N.category}-${N.duration}`;P[Ee]=N}),P};return f.jsxs("div",{className:"results-container",children:[f.jsx("div",{className:"results-top-spacer"}),f.jsx("section",{className:"results-header-section",children:f.jsxs("div",{className:"results-header-content",children:[f.jsx("h1",{className:"results-title",children:"RESULTAT"}),f.jsx("p",{className:"results-description",children:"Här hittar du resultaten från våra tävlingar. Välj år, kategori och distans för att filtrera resultaten."})]})}),f.jsxs("section",{className:"results-filters-section",children:[f.jsxs("div",{className:"results-filters",children:[f.jsxs("select",{value:e,onChange:C=>t(C.target.value),className:"results-filter-select",children:[f.jsx("option",{value:"all",children:"Alla År"}),V.map(C=>f.jsx("option",{value:C,children:C},C))]}),f.jsxs("select",{value:r,onChange:C=>l(C.target.value),className:"results-filter-select",children:[f.jsx("option",{value:"all",children:"Alla Kategorier"}),$.map(C=>f.jsx("option",{value:C,children:C},C))]}),f.jsxs("select",{value:u,onChange:C=>h(C.target.value),className:"results-filter-select",children:[f.jsx("option",{value:"all",children:"Alla Distanser"}),H.map(C=>f.jsx("option",{value:C,children:C},C))]})]}),f.jsx("div",{className:"results-upload-section",children:f.jsx("button",{onClick:ae,className:"results-upload-button",style:{padding:"10px 20px",backgroundColor:"rgb(56, 76, 135)",color:"white",border:"none",borderRadius:"4px",fontSize:"1rem",cursor:"pointer",display:"block",margin:"0 auto"},children:"Ladda upp resultat"})})]}),k&&f.jsx("div",{className:"results-error",children:k}),_?f.jsx("div",{className:"results-loading",children:"Laddar resultat..."}):f.jsx("section",{className:"results-content-section",children:f.jsx("div",{className:"results-grid",children:G.map(C=>{const P=S(C),N=I(P);return f.jsxs("div",{className:"results-location-card",children:[f.jsx("h2",{className:"results-location-title",children:C}),Object.keys(N).length>0?f.jsx("div",{className:"results-list",children:Object.entries(N).map(([Ee,Ie])=>f.jsxs("div",{className:"results-item",children:[f.jsx("a",{href:Ie.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"results-link",children:f.jsxs("div",{className:"results-info",children:[f.jsx("span",{className:"results-year",children:Ie.year}),f.jsx("span",{className:"results-category",children:Ie.category}),f.jsx("span",{className:"results-duration",children:Ie.duration})]})}),q&&f.jsx("button",{onClick:()=>J(Ie.id),className:"results-delete-button",children:"Ta bort"})]},Ee))}):f.jsxs("div",{className:"results-empty",children:["Inga resultat tillgängliga för ",C," med valda filter."]})]},C)})})}),T&&f.jsx(Bb,{onClose:O,onUploadSuccess:R,isAdmin:q,locations:G,years:V,categories:$,durations:H})]})},UD=()=>{const[s,e]=L.useState(null),[t,r]=L.useState([]),[l,u]=L.useState(1),h=8,[m,p]=L.useState({}),_=L.useMemo(()=>["/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_025.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_049.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_057.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_065.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_113.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_138.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_150.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_202.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_209.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_213.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_235.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_246.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_265.jpg","/AimRV/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_352.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0132-high.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0136-high.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0171-high.jpg","/AimRV/images/EE-AIMChallenge24-Uhamn-0405-high.jpg","/AimRV/images/Kolmarden_1.jpg","/AimRV/images/Kolmarden_2.jpg"],[]),E=L.useCallback(()=>{const j=(l-1)*h,q=l*h,V=_.slice(j,q);r($=>[...$,...V]),u($=>$+1)},[l,_,h]);L.useEffect(()=>{E()},[E]),L.useEffect(()=>{const j=()=>{window.innerHeight+document.documentElement.scrollTop>=document.documentElement.offsetHeight-100&&(l-1)*h<_.length&&E()};return window.addEventListener("scroll",j),()=>window.removeEventListener("scroll",j)},[E,l,_.length,h]),L.useEffect(()=>{if(s!==null){const j=new Image;j.src=t[s],j.onload=()=>{p(q=>({...q,[s]:!0}))}}},[s,t]);const T=j=>{e(s===j?null:j)},k=(()=>{const j=[];let q=[],V=4;return t.forEach(($,H)=>{q.push({image:$,index:H}),q.length===V&&(j.push(q),q=[],V=V===4?3:4)}),q.length>0&&j.push(q),j})();return f.jsxs("div",{children:[f.jsx("div",{style:{height:"120px"}}),f.jsxs("div",{className:"gallery-container",style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.1rem",padding:"0.25rem",position:"relative"},children:[k.map((j,q)=>f.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"3rem",width:"100%",marginBottom:"-20px",paddingLeft:j.length===3?"10%":"0",paddingRight:j.length===3?"10%":"0"},children:j.map(({image:V,index:$})=>{const H=s===$;return f.jsx("div",{onClick:()=>T($),style:{width:H?"80vw":"250px",height:H?"80vh":"250px",transition:"all 0.5s ease",cursor:"pointer",position:H?"fixed":"relative",top:H?"50%":"auto",left:H?"50%":"auto",transform:H?"translate(-50%, -50%) rotate(0deg)":"rotate(45deg) scale(0.9)",zIndex:H?1e3:1,border:"2px solid #00a6fb",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 8px rgba(0, 166, 251, 0.3)",margin:"0.1rem 1.5rem"},children:f.jsx("img",{src:V,alt:`Gallery image ${$+1}`,loading:"lazy",width:H?"auto":"250",height:H?"auto":"250",style:{width:"100%",height:"100%",objectFit:"cover",transform:H?"rotate(0deg) scale(1)":"rotate(-45deg) scale(1.5)"}})},$)})},q)),s!==null&&f.jsx("div",{onClick:()=>e(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",zIndex:999}}),t.length<_.length&&f.jsx("div",{style:{width:"100%",textAlign:"center",padding:"2rem"},children:f.jsx("button",{onClick:E,style:{padding:"0.75rem 1.5rem",backgroundColor:"#00a6fb",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1rem",fontWeight:"bold"},children:"Load More Images"})})]}),f.jsx("div",{style:{height:"80px"}})]})},HD=()=>{const[s,e]=L.useState(0),[t,r]=L.useState(!1),l=L.useRef([]),u=[{id:1,src:"/videos/AIM nr 1 Formula 16x9.mov",title:"AIM Challenge Formula",description:"Highlights from the AIM Challenge Formula event"},{id:2,src:"/videos/AIM nr 1 Formula 16x9.mov",title:"AIM Challenge Highlights",description:"More exciting moments from the AIM Challenge"},{id:3,src:"/videos/AIM nr 1 Formula 16x9.mov",title:"AIM Challenge Recap",description:"A recap of the amazing AIM Challenge events"}];L.useEffect(()=>{l.current=l.current.slice(0,u.length)},[u.length]);const h=_=>{l.current.forEach((E,T)=>{T!==_&&E&&E.pause()}),r(!0),e(_)},m=()=>{e(_=>(_+1)%u.length)},p=()=>{e(_=>(_-1+u.length)%u.length)};return f.jsxs("div",{className:"video-carousel-container",style:{padding:"80px 0 40px 0",backgroundColor:"#f0f8ff",borderTop:"1px solid #e0e0e0",width:"100%",maxWidth:"100%"},children:[f.jsx("h2",{style:{textAlign:"center",marginBottom:"30px",color:"#00a6fb",fontSize:"2rem"},children:"AIM Challenge Videos"}),f.jsxs("div",{style:{position:"relative",width:"100%",margin:"0 auto",overflow:"hidden"},children:[f.jsx("button",{onClick:p,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",zIndex:10,background:"rgba(0, 166, 251, 0.7)",color:"white",border:"none",borderRadius:"50%",width:"50px",height:"50px",fontSize:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},"aria-label":"Previous video",children:"<"}),f.jsx("button",{onClick:m,style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",zIndex:10,background:"rgba(0, 166, 251, 0.7)",color:"white",border:"none",borderRadius:"50%",width:"50px",height:"50px",fontSize:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},"aria-label":"Next video",children:">"}),f.jsx("div",{style:{display:"flex",transition:"transform 0.5s ease",transform:`translateX(${s*-100}%)`,width:"100%",position:"relative"},children:u.map((_,E)=>f.jsx("div",{style:{flex:"0 0 100%",padding:"0 20px",boxSizing:"border-box",width:"100%"},children:f.jsxs("div",{style:{background:"#fff",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",maxWidth:"1200px",margin:"0 auto"},children:[f.jsx("div",{style:{position:"relative",paddingTop:"56.25%"},children:f.jsx("video",{ref:T=>l.current[E]=T,src:_.src,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"},controls:!0,onPlay:()=>h(E),onPause:()=>r(!1)})}),f.jsxs("div",{style:{padding:"20px"},children:[f.jsx("h3",{style:{margin:"0 0 10px 0",color:"#00a6fb",fontSize:"1.5rem"},children:_.title}),f.jsx("p",{style:{margin:0,color:"#333",lineHeight:1.6},children:_.description})]})]})},_.id))}),f.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:u.map((_,E)=>f.jsx("button",{onClick:()=>e(E),style:{width:"12px",height:"12px",borderRadius:"50%",margin:"0 5px",background:E===s?"#00a6fb":"#ccc",border:"none",cursor:"pointer"}},E))})]})]})},zh=({imageKey:s,defaultImage:e,className:t,children:r,style:l={},backgroundPosition:u="center",backgroundSize:h="cover",backgroundRepeat:m="no-repeat"})=>{const{isAdmin:p}=Tr(),[_,E]=L.useState(!1),[T,A]=L.useState(e),[k,j]=L.useState(""),[q,V]=L.useState(!1),[$,H]=L.useState(null),G=L.useRef(null);L.useEffect(()=>{(async()=>{try{V(!0);const P=await wD();P&&P[s]?A(P[s]):A(e),H(null)}catch(P){console.error("Error fetching background image:",P),H("Failed to load background image. Using default.");try{const N=localStorage.getItem("backgroundImages");if(N){const Ee=JSON.parse(N);Ee[s]?A(Ee[s]):A(e)}else A(e)}catch(N){console.error("Error with localStorage fallback:",N),A(e)}}finally{V(!1)}})()},[s,e]);const Z=()=>{E(!0),j(T)},J=C=>{j(C.target.value)},ae=async C=>{const P=C.target.files[0];if(P)try{V(!0);const N=new FileReader;N.onloadend=async()=>{try{const Ee=await SD(N.result,`${s}_${Date.now()}`);await S0(s,Ee),A(Ee),j(Ee);try{const Ie=localStorage.getItem("backgroundImages")||"{}",ie=JSON.parse(Ie);ie[s]=Ee,localStorage.setItem("backgroundImages",JSON.stringify(ie))}catch(Ie){console.error("Error updating localStorage:",Ie)}H(null)}catch(Ee){console.error("Error uploading image:",Ee),H("Failed to upload image. Please try again.")}finally{V(!1)}},N.readAsDataURL(P)}catch(N){console.error("Error reading file:",N),H("Failed to read file. Please try again."),V(!1)}},O=async()=>{if(!S(k)){alert("Please enter a valid URL");return}try{V(!0),await S0(s,k),A(k);try{const C=localStorage.getItem("backgroundImages")||"{}",P=JSON.parse(C);P[s]=k,localStorage.setItem("backgroundImages",JSON.stringify(P))}catch(C){console.error("Error updating localStorage:",C)}E(!1),H(null)}catch(C){console.error("Error saving background image:",C),H("Failed to save background image. Please try again.");try{const P=localStorage.getItem("backgroundImages")||"{}",N=JSON.parse(P);N[s]=k,localStorage.setItem("backgroundImages",JSON.stringify(N)),A(k),E(!1)}catch(P){console.error("Error with localStorage fallback:",P)}}finally{V(!1)}},R=()=>{E(!1),j(T)},S=C=>{try{return new URL(C),!0}catch{return!1}},I={...l,backgroundImage:`url(${T})`,backgroundPosition:u,backgroundSize:h,backgroundRepeat:m,position:"relative"};return f.jsxs("div",{className:t,style:I,children:[r,p&&!_&&f.jsx("button",{onClick:Z,className:"edit-background-button",children:"Edit Background"}),p&&_&&f.jsx("div",{className:"background-editor",children:f.jsxs("div",{className:"background-editor-content",children:[f.jsx("h3",{children:"Edit Background Image"}),f.jsxs("div",{className:"background-editor-input-group",children:[f.jsx("label",{children:"Image URL:"}),f.jsx("input",{type:"text",value:k,onChange:J,placeholder:"Enter image URL"})]}),f.jsxs("div",{className:"background-editor-input-group",children:[f.jsx("label",{children:"Or upload image:"}),f.jsx("input",{type:"file",ref:G,onChange:ae,accept:"image/*"})]}),q&&f.jsx("div",{className:"loading-indicator",children:"Loading..."}),$&&f.jsx("div",{className:"error-message",children:$}),f.jsxs("div",{className:"background-editor-actions",children:[f.jsx("button",{onClick:R,children:"Cancel"}),f.jsx("button",{onClick:O,disabled:q,children:"Save"})]})]})})]})},BD=()=>f.jsxs("div",{className:"om-oss-container",children:[f.jsx("div",{className:"om-oss-header page_01 dynamic-background flex flex_col flex_j_E",children:f.jsx(zh,{backgroundKey:"om-oss-header-bg",defaultSrc:"https://via.placeholder.com/1920x600?text=Om+Oss+Header",className:"om-oss-background-image",children:f.jsx("div",{className:"om-oss-header-content",children:f.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:f.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:f.jsx(M,{textKey:"om-oss-title",defaultText:"OM OSS",tag:"p",className:"font_blue fonts_huge"})})})})})}),f.jsx("section",{className:"om-oss-section flex flex_j_C flex_a_C set-03",children:f.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C",children:f.jsxs("div",{className:"om-oss-content-wrapper",children:[f.jsx(M,{textKey:"om-oss-title-1",defaultText:"Vad är AIM Challenge?",tag:"h2",className:"fonts_large om-oss-title"}),f.jsx(M,{textKey:"om-oss-text-1",defaultText:"AIM Challenge är en multisporttävling som arrangeras i Åre, Sverige. Tävlingen går ut på att ta sig runt en bana med hjälp av karta och kompass. Längs banan finns kontroller som ska besökas i rätt ordning.",tag:"p",className:"fonts_small om-oss-text"}),f.jsx(M,{textKey:"om-oss-text-2",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),f.jsx(M,{textKey:"om-oss-text-3",defaultText:"Tävlingen arrangeras av AIM Challenge AB och har funnits sedan 2004. Tävlingen har utvecklats under åren och är idag en av Sveriges största multisporttävlingar.",tag:"p",className:"fonts_small om-oss-text"}),f.jsx(M,{textKey:"om-oss-text-4",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),f.jsx(M,{textKey:"om-oss-text-5",defaultText:"AIM Challenge är en tävling för alla. Oavsett om du är elit eller motionär finns det en klass för dig. Tävlingen är uppdelad i olika klasser beroende på svårighetsgrad och längd.",tag:"p",className:"fonts_small om-oss-text"}),f.jsx(M,{textKey:"om-oss-text-6",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),f.jsx(M,{textKey:"om-oss-text-7",defaultText:"Tävlingen går ut på att ta sig runt en bana med hjälp av karta och kompass. Längs banan finns kontroller som ska besökas i rätt ordning. Tävlingen innehåller olika moment som löpning, cykling, paddling, simning och klättring.",tag:"p",className:"fonts_small om-oss-text"}),f.jsx(M,{textKey:"om-oss-text-8",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"})]})})}),f.jsx("div",{className:"om-oss-background-container",children:f.jsx(zh,{backgroundKey:"om-oss-background-image",defaultSrc:"https://via.placeholder.com/1920x400?text=Background+Image",className:"om-oss-background-image"})}),f.jsx("section",{className:"om-oss-section flex flex_j_C flex_a_C set-03",children:f.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C",children:f.jsxs("div",{className:"om-oss-content-wrapper",children:[f.jsx(M,{textKey:"om-oss-title-2",defaultText:"Så här är det att vara med i AIM Challenge",tag:"h2",className:"fonts_large om-oss-title"}),f.jsx(M,{textKey:"om-oss-text-9",defaultText:"AIM Challenge är en rolig tävling. Det är oftast det som är det centrala i de deltagarkommentarer vi får både från eliten och motionärerna. Man färdas till största delen med hjälp av sin mountainbike och sina löparskor, men också i klättersele, paddlandes i kanot eller så strippar man helt enkelt och simmar ut till kontroller som är i vattnet.",tag:"p",className:"fonts_small om-oss-text"}),f.jsx(M,{textKey:"om-oss-text-10",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),f.jsx(M,{textKey:"om-oss-text-11",defaultText:"Det finns inga krav på förkunskaper om de olika momenten utan vi har kunnig personal vid varje post som innefattas av klättring, firning, simning, paddling. Varje lag genomför tävlingen i sin egen takt och med egen strategi. Visst finns det de lag som satsar allt för att knipa segern och det är det som är det roliga med konceptet. Elit och motionär tävlar på samma villkor på samma bana.",tag:"p",className:"fonts_small om-oss-text"}),f.jsx(M,{textKey:"om-oss-text-12",defaultText:"​",tag:"p",className:"fonts_small om-oss-text"}),f.jsx(M,{textKey:"om-oss-text-13",defaultText:"Våra deltagare är allt ifrån världseliten i multisport som Thule Adventure team, Team Silva, Team Multitude Salomon men också glada motionärer allt från åldrarna 15 till pensionärer. Oavsett ålder och fysiska förutsättningar är detta ett roligt och annorlunda sätt att tävla på.",tag:"p",className:"fonts_small om-oss-text"})]})})}),f.jsxs("section",{id:"page_02",className:"page_02 simple-background flex flex_j_E MaxWH location",children:[f.jsxs("div",{className:"page_02box simple-background flex flex_col flex_j_SB MaxWH location",children:[f.jsxs("div",{className:"trans-background page_02top flex flex_col flex_j_SA MaxWH",children:[f.jsx(M,{textKey:"card-1-title",defaultText:"REGLER",tag:"p",className:"font_blue fonts_medium_B"}),f.jsx(M,{textKey:"card-1-text",defaultText:"Tävlingsregler och information",tag:"p",className:"font_blue fonts_medium"})]}),f.jsx("div",{className:"page_02top flex flex_col flex_j_SA MaxWH Button",children:f.jsx($e,{to:"/page2",className:"location button-2",children:"Läs mer"})})]}),f.jsxs("div",{className:"page_02box simple-background flex flex_col flex_j_SB MaxWH location",children:[f.jsxs("div",{className:"trans-background page_02top flex flex_col flex_j_SA MaxWH",children:[f.jsx(M,{textKey:"card-2-title",defaultText:"FAQ",tag:"p",className:"font_blue fonts_medium_B"}),f.jsx(M,{textKey:"card-2-text",defaultText:"Vanliga frågor och svar",tag:"p",className:"font_blue fonts_medium"})]}),f.jsx("div",{className:"page_02top flex flex_col flex_j_SA MaxWH Button",children:f.jsx($e,{to:"/page3",className:"location button-2",children:"Läs mer"})})]}),f.jsxs("div",{className:"page_02box simple-background flex flex_col flex_j_SB MaxWH location",children:[f.jsxs("div",{className:"trans-background page_02top flex flex_col flex_j_SA MaxWH",children:[f.jsx(M,{textKey:"card-3-title",defaultText:"HISTORIEN OM AIM",tag:"p",className:"font_blue fonts_medium_B"}),f.jsx(M,{textKey:"card-3-text",defaultText:"Vår resa sedan 2004",tag:"p",className:"font_blue fonts_medium"})]}),f.jsx("div",{className:"page_02top flex flex_col flex_j_SA MaxWH Button",children:f.jsx($e,{to:"/page3",className:"location button-2",children:"Läs mer"})})]})]})]}),zD=()=>f.jsxs("div",{className:"flex flex_col regler-container",children:[f.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:f.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:f.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:f.jsx("p",{className:"font_blue fonts_huge font_white",children:"REGLER"})})})}),f.jsx("section",{className:"om-oss-section regler-section flex flex_j_C flex_a_C set-03",style:{paddingTop:"50px",paddingBottom:"50px"},children:f.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C regler-content-container",children:f.jsxs("div",{className:"regler-content",style:{paddingLeft:"150px",paddingRight:"150px",maxWidth:"80%"},children:[f.jsx("h2",{className:"regler-heading font_white",style:{paddingLeft:"30px",paddingRight:"30px"},children:"LAGET"}),f.jsxs("ul",{className:"regler-list",style:{paddingLeft:"80px",paddingRight:"80px"},children:[f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Åldersgräns 15år/18år"}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Båda deltagarna måste ha olycksförsäkring som täcker olyckor i samband med tävling/idrottsaktiviteter."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Det är lagets ansvar att se till att de är registrerade i rätt klass."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Startnummer ska placeras fram på cykel samt synligt på kroppen på båda deltagarna"}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Det är tillåtet att använda GPS men det är alltid kartan som gäller. GPSens kartunderlag stämmer inte alltid överens med den utskrivna AIM kartan."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Laget ska alltid vara samlade max 20 meter mellan lagmedlemmarna."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Det är inte tillåtet att ha följebil."})]}),f.jsx("h2",{className:"regler-heading-with-margin font_white",style:{paddingLeft:"30px",paddingRight:"30px"},children:"SÄKERHET"}),f.jsxs("ul",{className:"regler-list",style:{paddingLeft:"80px",paddingRight:"80px"},children:[f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Lagen väljer själva vilka kontroller de klarar att ta baserat på väder, egen färdighet och kunskap."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Lagen väljer själva vilken väg de vill ta till kontrollerna baserat på väder, egen färdighet och kunskap."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Trafiken är inte reglerad under tävlingen."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Trafikregler gäller alltid."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Första hjälpen kit ska bäras med under hela tävlingen"}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Hjälm ska bäras under all cykling, klättring, bouldering och rappellering"}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Vid olycka är det obligatoriska att hjälpa till."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Vid allvarlig olycka ring nöd nummer 112 i Sverige och 113 i Norge"}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Vid behov för enklare medicinsk hjälp ring telefonnumret på baksidan av kartan"}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Tävlingsledningens direktiv gäller alltid."})]}),f.jsx("h2",{className:"regler-heading-with-margin font_white",style:{paddingLeft:"30px",paddingRight:"30px"},children:"ÖVRIGT"}),f.jsxs("ul",{className:"regler-list",style:{paddingLeft:"80px",paddingRight:"80px"},children:[f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Elcyklar är ej tillåtet, med undantag för Elcykelklassen i Hemsedal."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Beroende på kapacitet är det möjligt att använda liften i Hemsedal, lyssna noga på vad speakern ger för information för vad som gäller för årets tävling."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Deltagare som bryter ska genast meddela tävlingsledningen. Telefonnummer står på kartan."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Synliga, osynliga och tävlande domare befinner sig i tävlingsområdet och ser till att reglerna följs."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Regelbrott kan leda till poängavdrag eller diskvalificering"}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Deltagare som vinner priser som lottas ut pga olika händelser eller som dras på startnummer måste närvara på prisutdelningen för att få sitt pris. Är man inte närvarande och ditt namn/lagnamn dras drar vi reservnamn/lagnamn."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"LINDVALLEN, viadukten mellan Lodgen och Experium är stängd under hela tävlingen."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Tävlingsledningens beslut går inte att överklaga."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Kloka människor skräpar inte ner, för alla andra är det förbjudet."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Respektera privat mark, ta inte genvägar över privata områden"}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Beträda odlad mark är förbjudet. Åkrar som inte har skördats är odlad mark."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Stäng alla grindar som ni öppnar."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Visa betande djur respekt genom att stiga av cykeln och gå förbi dem."})]}),f.jsx("h2",{className:"regler-heading-with-margin font_white",style:{paddingLeft:"30px",paddingRight:"30px"},children:"OBLIGATORISK UTRUSTNING"}),f.jsxs("ul",{className:"regler-list",style:{paddingLeft:"80px",paddingRight:"80px"},children:[f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Cykel, utan elmotor med undantag för Elcykelklassen i Hemsedal."}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Cykelhjälm vid cykling"}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Mobiltelefon (1 st per lag)"}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Första hjälpen (1 st per lag)"})]}),f.jsx("h2",{className:"regler-heading-with-margin font_white",style:{paddingLeft:"30px",paddingRight:"30px"},children:"VI REKOMMENDERAR ATT NI ÄVEN HAR MED ER"}),f.jsxs("ul",{className:"regler-list",style:{paddingLeft:"80px",paddingRight:"80px"},children:[f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Förstärkningskläder vid hastigt väderomslag"}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Kompass"}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Vatten i en Camelbak"}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Energy bars eller liknande"}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Klocka"}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Löparskor"}),f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Cykelslang och reparationskit + övriga verktyg, tex en biketool för enklare justeringar"})]}),f.jsx("h2",{className:"regler-heading-with-margin font_white",style:{paddingLeft:"30px",paddingRight:"30px"},children:"AIM CHALLENGE STÅR FÖR"}),f.jsx("ul",{className:"regler-list",style:{paddingLeft:"80px",paddingRight:"80px"},children:f.jsx("li",{className:"fonts_small om-oss-text regler-list-item font_white",children:"Kanot, SUP, sele, rep, hjälm vid firningar/klättring. All utrustning vid bemannade poster finns där klättring etc förekommer."})}),f.jsx("h2",{className:"regler-heading-with-margin font_white",style:{paddingLeft:"30px",paddingRight:"30px"},children:"VILLKOR I FÖRBINDELSE MED ANMÄLAN"}),f.jsx("p",{className:"fonts_small om-oss-text regler-list-item font_white",style:{paddingLeft:"30px",paddingRight:"30px"},children:"Villkor i förbindelse med anmälan"}),f.jsxs("p",{className:"fonts_small om-oss-text regler-contact font_white",style:{paddingLeft:"30px",paddingRight:"30px"},children:["Om du har frågor: ",f.jsx("a",{href:"mailto:info@aimchallenge.com",className:"font_white",children:"info@aimchallenge.com"})]})]})})}),f.jsx("div",{className:"locked-background",style:{height:"50vh",width:"100%"}})]}),qD=({question:s,answer:e})=>{const[t,r]=L.useState(!1),l=()=>{r(!t)};return f.jsxs("div",{className:"faq-item",children:[f.jsxs("div",{className:`faq-question ${t?"active":""}`,onClick:l,children:[f.jsx("h3",{className:"question-text",children:s}),f.jsx("span",{className:"icon",children:t?"▲":"▼"})]}),f.jsx("div",{className:`faq-answer ${t?"open":""}`,children:f.jsx("p",{children:e})})]})},uh=({title:s,items:e})=>f.jsxs("div",{className:"faq-category",children:[f.jsx("h2",{className:"faq-category-title",children:s}),e.map((t,r)=>f.jsx(qD,{question:t.question,answer:t.answer},r))]}),KD=()=>{const s=[{question:"Jag är nybörjare på multisport, kan jag delta?",answer:"Absolut, det är DU som väljer väg och antal kontroller. Ta 5 kontroller och ha en fin tur på fjället, eller ta 40 och vinn. Alla kan delta efter egen förmåga och ambition."},{question:"Behöver man vara en riktigt stenhård multisportare för att delta?",answer:"Det finns inga krav på förkunskaper om de olika momenten utan vi har kunnig personal vid varje post som innebär klättring, firning, simning etc. I och med AIM-konceptet så tar varje lag tävlingen i sin egen takt och sin egen strategi. Visst finns det de lag som satsar allt för att knipa segern och det är det som är det roliga med konceptet. Elit och motionär tävlar på samma villkor på samma bana."},{question:"Är det olika klasser?",answer:"Dam, Herr och Mix. Elit och motion tävlar i samma klass."},{question:"Vilken åldersgräns gäller?",answer:"Åldersgränsen för AIM Challenge är 15/18 år beroende på tävling och medtävlande. Läs mer här."},{question:"Kan jag ändra information om mitt lag. Tex ändrar lagnamn eller deltagare?",answer:"Ja, logga in på ditt RaceID-konto för att göra ändringar."},{question:"Om jag blir sjuk, får jag tillbaka min anmälningsavgift då?",answer:"Nej. Det går däremot bra att sälja sin startplats till en kompis. Vid försäljning så uppdaterar ni era uppgifter på ditt RaceID-konto. Alternativt ta kontakt med ditt försäkringsbolag för att se vad det täcker."},{question:"Hur vet jag om jag har olycksförsäkring?",answer:"Kontakta ditt försäkringsbolag, de flesta har den redan."}],e=[{question:"Ska jag tävla med löpskor eller cykelskor?",answer:"Det är en fördel att cykla med SPD sko, och det är en fördel att springa med löparskor. Ta med både och!"},{question:"Behöver man ha all utrustning med sig?",answer:"Nej. Deltagare ska ha med sig cykel, hjälm, första hjälpen och mobiltelefon. Vid en klätterkontroll finns kunnig personal med all nödvändig utrustning, de säkrar deltagarna och ser till att klättringen går säkert till. Vid en paddel kontroll finns det kanot, SUP, luftmadrass eller liknande. Skulle man inte ha en mountainbike går det bra att hyra och detta bör i så fall förbokas."},{question:"Får man använda sig av GPS?",answer:"Ja, det är tillåtet att använda en GPS. Det är dock inte alltid det bästa eftersom det är kartan som gäller och GPSen och kartans information kan skilja sig åt."}],t=[{question:"Om jag inte hinner till registreringen på fredag kväll, vad gör jag då?",answer:"Det finns möjlighet för registrering på lördag morgon innan start, dock ser vi helst att all registrering sker under fredag kvällen."},{question:"Ingår banketten i priset?",answer:"Nej, den får man köpa vid sidan om. Se respektive tävling för bokning av mat. Men prisutdelningen som följer efter banketten är gratis för alla deltagare."},{question:"Vilka tider är det som gäller för själva tävlandet?",answer:"Program: Fredagen: Registrering 17:00-21:00 i Lindvallen & 19.00-22.00 i Hemsedal. Lördagen: 9.30 Info möte vid start, 10.00 START, 16.00 MÅL. 22.00 PRISUTDELNING. Söndagen: Väl förtjänad sovmorgon och en härlig dag på fjället! Se detaljerat program under de enskilda tävlingarna."}],r=[{question:"Hur ser kartan ut?",answer:"Kartan får alla lagen när startskottet går. Där är samtliga kontroller utmärkta med position, poäng, beskrivning och om kontrollen innefattar klättring, paddling etc. Skalan är ungefär 1:30 000. Varje år är ett nytt år och därför en ny bansträckning. Kontrollernas position varierar från år till år så den strategi man hade året innan kanske inte lönar sig i år."},{question:"Måste både deltagarna simma/klättra/rappellera till en kontroll?",answer:"Lagen ska alltid hålla ihop och ska under hela tävlingen kunna kommunicera med varandra. Utom på de kontroller som vi kallar bemannade kontroller, dvs simma, paddla, klättra, balansera och rappelera. Här räcker det att den ena i laget tar posten. Både deltagarna ska dock vara så nära varandra som möjligt vid dessa poster."},{question:"Rappellering och klättring - hur goda bakgrundskunskaper måste man ha för att ställa upp?",answer:"Vid varje bemannad post finns det personal som är kunniga och med riktig utrustning. Lite erfarenhet ifrån klättring hjälper men är inte nödvändigt. Man behöver ingen kunskap om säkerhet."},{question:"Vilka regler gäller?",answer:"De regler som gäller för anmälan och under tävling finner du här >>"}];return f.jsxs("div",{className:"flex flex_col faq-container",children:[f.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:f.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:f.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:f.jsx("p",{className:"font_blue fonts_huge font_white",children:"FAQ"})})})}),f.jsx("section",{className:"faq-section faq-dark-section",children:f.jsx("div",{className:"faq-content-container",children:f.jsxs("div",{className:"faq-content",children:[f.jsx("h1",{className:"faq-heading",children:"Vanliga frågor"}),f.jsx(uh,{title:"Allmänna frågor",items:s})]})})}),f.jsx("section",{className:"faq-section faq-light-section",children:f.jsx("div",{className:"faq-content-container",children:f.jsx("div",{className:"faq-content",children:f.jsx(uh,{title:"Utrustning",items:e})})})}),f.jsx("section",{className:"faq-section faq-dark-section",children:f.jsx("div",{className:"faq-content-container",children:f.jsx("div",{className:"faq-content",children:f.jsx(uh,{title:"Tävlingsdagen",items:t})})})}),f.jsx("section",{className:"faq-section faq-light-section",children:f.jsx("div",{className:"faq-content-container",children:f.jsx("div",{className:"faq-content",children:f.jsx(uh,{title:"Teknisk information",items:r})})})}),f.jsx("section",{className:"faq-section faq-dark-section",children:f.jsx("div",{className:"faq-content-container",children:f.jsx("div",{className:"faq-content",children:f.jsxs("div",{className:"faq-category",children:[f.jsx("h2",{className:"faq-category-title",children:"Har du fler frågor?"}),f.jsx("div",{className:"flex flex_j_C flex_a_C",children:f.jsxs("p",{className:"faq-contact-text",children:["Ta gärna kontakt om ni inte hittar svaret på era frågor: ",f.jsx("a",{href:"mailto:info@aimchallenge.com",className:"font_white",children:"info@aimchallenge.com"})]})})]})})})}),f.jsx("div",{className:"locked-background",style:{height:"50vh",width:"100%"}})]})},FD=()=>f.jsxs("div",{className:"flex flex_col",children:[f.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:f.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:f.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:f.jsx(M,{textKey:"historien-om-aim-title",defaultText:"HISTORIEN OM AIM",tag:"p",className:"font_blue fonts_huge font_white"})})})}),f.jsx("section",{className:"om-oss-section regler-section flex flex_j_C flex_a_C set-03 historien-om-aim-section",children:f.jsx("div",{className:"om-oss-content MaxWH flex flex_col flex_j_C regler-content-container",children:f.jsxs("div",{className:"regler-content historien-om-aim-content",children:[f.jsx(M,{textKey:"historien-om-aim-text-1",defaultText:"AIM Challenge är idag Nordens största multisporttävling men historien om AIM Challenge börjar mycket tidigare än så.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),f.jsx(M,{textKey:"historien-om-aim-text-2",defaultText:"Vi låter Lisa Nordlind, grundare och initiativtagare till AIM Challenge berätta hur det gick till:",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),f.jsx(M,{textKey:"historien-om-aim-text-3",defaultText:"År 2000 deltog jag i mitt livs största äventyr när jag tävlade i multisporttävlingen Camel Trophy.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),f.jsx(M,{textKey:"historien-om-aim-text-4",defaultText:"Av över en miljon sökande så var det 16 tvåmannalag från 22 länder som fick vara med och leka. Jag fick äran att representera Team Skandinavien tillsammans med brandmannen Mikael Stening.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),f.jsx(M,{textKey:"historien-om-aim-text-5",defaultText:"Lag på två personer skulle under 3 veckor samla så många kontroller som möjligt utav 400 utplacerade. Huvudtransportmedel var en specialbyggd RIB (Rigid Inflatable Boat). Båten var utrustad med mountainbikes, klätterutrustning, paddelbräda, dyk- och snorkel utrustning, tält, mat och vatten.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),f.jsx(M,{textKey:"historien-om-aim-text-6",defaultText:"Lagen fick själva välja vilka kontroller de ville ta, i vilken ordning och vilken väg.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),f.jsx(M,{textKey:"historien-om-aim-text-7",defaultText:"Olika kontroller gav olika poäng. Låter det bekant?",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),f.jsx(M,{textKey:"historien-om-aim-text-8",defaultText:"Tävlingsområdet var ögrupperna Tonga och Samoa i Söderhavet. Det var galet roligt och Mikael och jag lyckades ta oss till en fjärde plats.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),f.jsx(M,{textKey:"historien-om-aim-text-9",defaultText:"År 2004 spenderade jag min första sommar i Hemsedal. Det var ganska lugnt i den lilla skidorten så jag beslutade mig för att starta ett nytt event. För mig är det viktigt att träning är roligt och jag tycker att den bästa träningen är tävling. Eftersom Camel Trophy var det roligaste jag någonsin varit med om så föll det naturligt att försöka skapa ett event där andra människor får uppleva samma lekfulla koncept om än i en mindre skala. Tävlingen fick namnet 'Hemsedal Challenge' och den första helgen i september 2004 stod 150 deltagare på startlinjen.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),f.jsx(M,{textKey:"historien-om-aim-text-10",defaultText:"Nära, kära, vänner och familj samlades från alla håll och kanter för att ställa upp som funktionärer.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),f.jsx(M,{textKey:"historien-om-aim-text-11",defaultText:"Efter 5 år startade vi en tävling till i Lindvallen och bytte namn till AIM Challenge.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"}),f.jsx(M,{textKey:"historien-om-aim-text-12",defaultText:"Efter AIM Challenge 2019 tackade Lisa för sig och lämnade över stafettpinnen till Marcus Andersson, som nu står inför en spännande framtid där han ser frem emot att driva vidare och utveckla AIM Challenge.",tag:"p",className:"fonts_small om-oss-text font_white historien-om-aim-text"})]})})}),f.jsx(zh,{backgroundKey:"historien-om-aim-bottom-bg",defaultSrc:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg",className:"page_01 dynamic-background flex flex_col flex_j_E"})]}),GD=({isOpen:s,onClose:e,onSave:t})=>{const[r,l]=L.useState(""),[u,h]=L.useState(""),[m,p]=L.useState(null),[_,E]=L.useState(""),[T,A]=L.useState(!1),[k,j]=L.useState(""),[q,V]=L.useState(""),[$,H]=L.useState(0),[G,Z]=L.useState(0),J=L.useRef(null),ae=L.useRef(null),{isAdmin:O}=Tr(),R=ie=>{const ye=ie.target.files[0];if(ye){const pe=new FileReader;pe.onloadend=()=>{p(ye),E(pe.result)},pe.readAsDataURL(ye)}},S=ie=>{h(ie.target.value)},I=()=>{J.current&&(H(J.current.selectionStart),Z(J.current.selectionEnd))},C=()=>{if(A(!T),!T&&J.current){const ie=u.substring(J.current.selectionStart,J.current.selectionEnd);V(ie),H(J.current.selectionStart),Z(J.current.selectionEnd)}},P=()=>{if(!k.trim()){alert("Please enter a URL");return}const ie=`[${q||k}](${k})`,ye=u.substring(0,$)+ie+u.substring(G);h(ye),A(!1),j(""),V("")},N=()=>{if(!r.trim()||!u.trim()||!_){alert("Vänligen fyll i alla fält (titel, bild och innehåll)");return}const ie={id:Date.now(),title:r,date:new Date().toLocaleDateString("sv-SE",{year:"numeric",month:"long",day:"numeric"}),content:u,image:_};t(ie),Ee(),e()},Ee=()=>{l(""),h(""),p(null),E(""),A(!1),j(""),V("")},Ie=ie=>{ie.target.className==="create-post-modal__overlay"&&e()};return!s||!O?null:f.jsxs("div",{className:"create-post-modal",children:[f.jsx("div",{className:"create-post-modal__overlay",onClick:Ie}),f.jsxs("div",{className:"create-post-modal__content",children:[f.jsx("h2",{className:"create-post-modal__title",children:"Skapa nytt inlägg"}),f.jsxs("div",{className:"create-post-modal__form",children:[f.jsxs("div",{className:"create-post-modal__form-group",children:[f.jsx("label",{className:"create-post-modal__label",children:"Titel"}),f.jsx("input",{type:"text",className:"create-post-modal__input",value:r,onChange:ie=>l(ie.target.value),placeholder:"Ange titel"})]}),f.jsxs("div",{className:"create-post-modal__form-group",children:[f.jsx("label",{className:"create-post-modal__label",children:"Bild"}),f.jsxs("div",{className:"create-post-modal__image-upload",onClick:()=>ae.current.click(),children:[_?f.jsx("img",{src:_,alt:"Preview",className:"create-post-modal__image-preview"}):f.jsx("div",{className:"create-post-modal__image-placeholder",children:"Klicka för att ladda upp en bild"}),f.jsx("input",{type:"file",accept:"image/*",onChange:R,className:"create-post-modal__file-input",ref:ae})]})]}),f.jsxs("div",{className:"create-post-modal__form-group",children:[f.jsx("label",{className:"create-post-modal__label",children:"Innehåll"}),f.jsxs("div",{children:[f.jsx("textarea",{className:"create-post-modal__textarea",value:u,onChange:S,onSelect:I,ref:J,placeholder:"Ange innehåll"}),f.jsx("button",{type:"button",onClick:C,className:"create-post-modal__button create-post-modal__button--secondary",style:{marginTop:"10px"},children:"Lägg till länk"}),T&&f.jsxs("div",{className:"create-post-modal__link-tools",children:[f.jsxs("div",{children:[f.jsx("label",{children:"Länktext:"}),f.jsx("input",{type:"text",value:q,onChange:ie=>V(ie.target.value),className:"create-post-modal__input",style:{marginTop:"5px",width:"100%"}})]}),f.jsxs("div",{children:[f.jsx("label",{children:"URL:"}),f.jsx("input",{type:"text",value:k,onChange:ie=>j(ie.target.value),className:"create-post-modal__input",style:{marginTop:"5px",width:"100%"}})]}),f.jsxs("div",{style:{marginTop:"10px"},children:[f.jsx("button",{onClick:P,className:"create-post-modal__button create-post-modal__button--primary",children:"Infoga länk"}),f.jsx("button",{onClick:()=>A(!1),className:"create-post-modal__button create-post-modal__button--secondary",style:{marginLeft:"10px"},children:"Avbryt"})]})]})]})]}),f.jsxs("div",{className:"create-post-modal__actions",children:[f.jsx("button",{onClick:e,className:"create-post-modal__button create-post-modal__button--secondary",children:"Avbryt"}),f.jsx("button",{onClick:N,className:"create-post-modal__button create-post-modal__button--primary",disabled:!r.trim()||!u.trim()||!_,children:"Spara"})]})]})]})]})},zb=Yg(fa,"posts"),$D=async()=>{try{const s=MI(zb,LI("createdAt","desc")),e=await MT(s),t=[];return e.forEach(r=>{t.push({id:r.id,...r.data()})}),t}catch(s){throw console.error("Error getting posts:",s),s}},w0=async(s,e)=>{try{let t=null;if(e){const l=hd(gd,`post-images/${Date.now()}`);await sb(l,e,"data_url"),t=await _p(l)}return{id:(await BI(zb,{title:s.title,content:s.content,image:t||s.image,date:s.date,createdAt:new Date().toISOString()})).id,...s,image:t||s.image}}catch(t){throw console.error("Error adding post:",t),t}},QD=async(s,e)=>{try{if(await HI(_r(fa,"posts",s)),e&&e.includes("firebase")){const t=hd(gd,e);await ej(t)}return{success:!0}}catch(t){throw console.error("Error deleting post:",t),t}},WD=()=>{const[s,e]=L.useState(""),[t,r]=L.useState(!1),[l,u]=L.useState(!1),{isAdmin:h}=Tr(),[m,p]=L.useState([]),[_,E]=L.useState(!0),[T,A]=L.useState(null);L.useEffect(()=>{(async()=>{try{E(!0);const G=await $D();p(G),A(null)}catch(G){console.error("Error fetching posts:",G),A("Failed to load posts. Please try again later."),k()}finally{E(!1)}})()},[]);const k=()=>{p([{id:"default-1",title:"AIM Challenge 2025 - Anmälan öppen!",date:"28 februari 2025",content:"Nu är anmälan öppen för AIM Challenge 2025! Vi ser fram emot att välkomna både nya och återkommande deltagare till årets tävlingar i Hemsedal, Sälen, Ulricehamn och Kolmården.",image:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg"},{id:"default-2",title:"Nya utmaningar i Hemsedal",date:"15 februari 2025",content:"I år har vi lagt till flera nya spännande utmaningar på Hemsedal-banan. Förbered er på att testa era gränser i den vackra norska fjällmiljön!",image:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg"},{id:"default-3",title:"Resultat från förra årets tävlingar",date:"10 januari 2025",content:"Nu finns alla resultat från förra årets tävlingar tillgängliga på vår hemsida. Kolla in hur du och ditt lag placerade er!",image:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg"},{id:"default-4",title:"Ny sponsor för AIM Challenge",date:"5 januari 2025",content:"Vi är glada att meddela att vi har fått en ny huvudsponsor för AIM Challenge 2025. Mer information kommer snart!",image:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg"}])},j=H=>{H.preventDefault(),console.log("Email submitted:",s),r(!0),e(""),setTimeout(()=>r(!1),3e3)},q=async H=>{try{E(!0);const G=await w0(H,H.image);p([G,...m]),A(null)}catch(G){console.error("Error saving post:",G),A("Failed to save post. Please try again.")}finally{E(!1)}},V=async(H,G)=>{if(window.confirm("Är du säker på att du vill ta bort detta inlägg?"))try{E(!0),await QD(H,G);const Z=m.filter(J=>J.id!==H);p(Z),A(null)}catch(Z){console.error("Error deleting post:",Z),A("Failed to delete post. Please try again.")}finally{E(!1)}},$=async()=>{if(window.confirm("Är du säker på att du vill återställa till standardinlägg? Alla dina anpassade inlägg kommer att försvinna."))try{E(!0),k();for(const H of m)await w0(H,H.image);A(null)}catch(H){console.error("Error resetting posts:",H),A("Failed to reset posts. Please try again.")}finally{E(!1)}};return f.jsxs("div",{className:"flex flex_col",children:[f.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:f.jsx("div",{className:"page_01box flex flex_col flex_j_SA",children:f.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:f.jsx(M,{textKey:"senaste-nytt-title",defaultText:"SENASTE NYTT",tag:"p",className:"fonts_huge senaste-nytt-main-title",style:{color:"rgb(56, 76, 135)"}})})})}),f.jsx("section",{className:"set-03 senaste-nytt-subscribe-section",children:f.jsxs("div",{className:"MaxWH flex flex_col flex_j_C flex_a_C font_white",children:[f.jsx(M,{textKey:"senaste-nytt-subscribe-title",defaultText:"Håll dig uppdaterad",tag:"h2",className:"fonts_large senaste-nytt-title"}),f.jsx(M,{textKey:"senaste-nytt-subscribe-text",defaultText:"Prenumerera på vårt nyhetsbrev för att få de senaste uppdateringarna om AIM Challenge direkt i din inkorg.",tag:"p",className:"fonts_small senaste-nytt-description"}),f.jsxs("form",{onSubmit:j,className:"senaste-nytt-form flex flex_col flex_a_C",children:[f.jsxs("div",{className:"senaste-nytt-form-input-container flex",children:[f.jsx("input",{type:"email",value:s,onChange:H=>e(H.target.value),placeholder:"Din e-postadress",required:!0,className:"senaste-nytt-form-input"}),f.jsx("button",{type:"submit",className:"senaste-nytt-form-button",children:f.jsx(M,{textKey:"senaste-nytt-subscribe-button",defaultText:"Prenumerera",tag:"span",className:""})})]}),t&&f.jsx("p",{className:"senaste-nytt-form-success",children:f.jsx(M,{textKey:"senaste-nytt-subscribe-thanks",defaultText:"Tack för din prenumeration!",tag:"span",className:""})})]})]})}),f.jsx("section",{className:"senaste-nytt-news-section",children:f.jsxs("div",{className:"MaxWH senaste-nytt-container",children:[f.jsx(M,{textKey:"senaste-nytt-news-title",defaultText:"Nyheter",tag:"h2",className:"senaste-nytt-section-title"}),h&&f.jsxs("div",{className:"senaste-nytt-admin-actions flex flex_j_E",children:[f.jsx("button",{className:"senaste-nytt-create-post-button",onClick:()=>u(!0),children:f.jsx(M,{textKey:"senaste-nytt-create-post-button",defaultText:"Skapa nytt inlägg",tag:"span",className:""})}),f.jsx("button",{className:"senaste-nytt-reset-posts-button",onClick:$,children:f.jsx(M,{textKey:"senaste-nytt-reset-posts-button",defaultText:"Återställ till standardinlägg",tag:"span",className:""})})]}),f.jsx("div",{className:"senaste-nytt-news-grid",children:m.map(H=>f.jsxs("div",{className:"senaste-nytt-news-card",children:[f.jsx("div",{className:"senaste-nytt-news-image",style:{backgroundImage:`url(${H.image})`}}),f.jsxs("div",{className:"senaste-nytt-news-content",children:[f.jsx(M,{textKey:`senaste-nytt-news-title-${H.id}`,defaultText:H.title,tag:"h3",className:"senaste-nytt-news-card-title"}),f.jsx(M,{textKey:`senaste-nytt-news-date-${H.id}`,defaultText:H.date,tag:"p",className:"senaste-nytt-news-date"}),f.jsx(M,{textKey:`senaste-nytt-news-content-${H.id}`,defaultText:H.content,tag:"p",className:"senaste-nytt-news-text"}),f.jsx($e,{to:`/news/${H.id}`,className:"senaste-nytt-read-more",children:f.jsx(M,{textKey:`senaste-nytt-news-read-more-${H.id}`,defaultText:"Läs mer",tag:"span",className:"senaste-nytt-read-more-text"})}),h&&f.jsx("button",{className:"senaste-nytt-delete-post-button",onClick:()=>V(H.id,H.image),children:f.jsx(M,{textKey:`senaste-nytt-delete-post-button-${H.id}`,defaultText:"Ta bort",tag:"span",className:""})})]})]},H.id))})]})}),h&&f.jsx(GD,{isOpen:l,onClose:()=>u(!1),onSave:q}),f.jsx(zh,{backgroundKey:"senaste-nytt-bottom-bg",defaultSrc:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg",className:"page_01 dynamic-background flex flex_col flex_j_E"})]})},YD=()=>{const{id:s}=ew(),e=Il(),[t,r]=L.useState(null),[l,u]=L.useState(!0),h=[{id:1,title:"AIM Challenge 2025 - Anmälan öppen!",date:"28 februari 2025",content:`Nu är anmälan öppen för AIM Challenge 2025! Vi ser fram emot att välkomna både nya och återkommande deltagare till årets tävlingar i Hemsedal, Sälen, Ulricehamn och Kolmården.

AIM Challenge har blivit en tradition för många äventyrslystna deltagare, och i år kommer vi att erbjuda ännu fler spännande utmaningar. Tävlingarna kommer att äga rum under följande datum:

- Hemsedal: 15-17 mars 2025
- Sälen: 22-24 mars 2025
- Ulricehamn: 5-7 april 2025
- Kolmården: 19-21 april 2025

Anmälan sker via vår hemsida och platserna fylls snabbt, så se till att säkra din plats redan idag!`,image:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg",fullImage:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg"},{id:2,title:"Nya utmaningar i Hemsedal",date:"15 februari 2025",content:`I år har vi lagt till flera nya spännande utmaningar på Hemsedal-banan. Förbered er på att testa era gränser i den vackra norska fjällmiljön!

Vårt team har arbetat hårt för att designa nya hinderbanor som kommer att utmana även de mest erfarna deltagarna. De nya utmaningarna inkluderar:

1. "Fjällpassagen" - en tekniskt krävande sträcka med klättring och balansmoment
2. "Isfloden" - en isande kall utmaning som testar både styrka och mental uthållighet
3. "Lavinzonen" - en hinderbana där samarbete är nyckeln till framgång

Vi har också förbättrat säkerheten längs hela banan med fler kontrollpunkter och medicinsk personal på plats. Vårt mål är att skapa en utmanande men säker upplevelse för alla deltagare.`,image:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg",fullImage:"/images/AIM_lindvallen_2024_AnkiGrothe_highres_125.jpg"},{id:3,title:"Resultat från förra årets tävlingar",date:"10 januari 2025",content:`Nu finns alla resultat från förra årets tävlingar tillgängliga på vår hemsida. Kolla in hur du och ditt lag placerade er!

Förra årets AIM Challenge var en enorm framgång med rekordmånga deltagare. Vi vill gratulera alla vinnare och tacka samtliga deltagare för ert engagemang och er sportslighet.

Här är topplaceringarna från förra årets tävlingar:

Hemsedal:
- Herrar: 1. Erik Johansson, 2. Petter Nordlund, 3. Magnus Ek
- Damer: 1. Anna Lindberg, 2. Sofia Axelsson, 3. Emma Karlsson

Sälen:
- Herrar: 1. Johan Bergström, 2. Anders Nyström, 3. Karl Lundgren
- Damer: 1. Lina Ekström, 2. Maria Holmberg, 3. Johanna Wikström

Ulricehamn:
- Herrar: 1. Niklas Andersson, 2. Fredrik Lindholm, 3. Gustav Holm
- Damer: 1. Elin Sandberg, 2. Kristina Berg, 3. Maja Nilsson

Kolmården:
- Herrar: 1. Mikael Svensson, 2. David Karlsson, 3. Simon Lindgren
- Damer: 1. Sara Björk, 2. Hanna Lindqvist, 3. Klara Öberg

Fullständiga resultatlistor finns tillgängliga på vår hemsida under fliken "Resultat".`,image:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg",fullImage:"/images/EE-AIMChallenge24-Uhamn-0171-high.jpg"},{id:4,title:"Ny sponsor för AIM Challenge",date:"5 januari 2025",content:`Vi är glada att meddela att vi har fått en ny huvudsponsor för AIM Challenge 2025. Mer information kommer snart!

Den nya sponsorn kommer att bidra till att höja kvaliteten på våra evenemang ytterligare och möjliggöra fler spännande utmaningar och bättre priser för deltagarna.

Vi kommer att presentera vår nya huvudsponsor vid en presskonferens nästa vecka, så håll utkik efter mer information på vår hemsida och i våra sociala medier.

Detta partnerskap markerar början på ett nytt kapitel för AIM Challenge, och vi ser fram emot att tillsammans med vår nya sponsor ta tävlingen till nya höjder.`,image:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg",fullImage:"/images/AIM_Hemsedal_2024_AnkiGrothe_45cm_300dpi_094.jpg"}];L.useEffect(()=>{if(s){const p=h.find(_=>_.id===parseInt(s));p&&r(p),u(!1)}},[s]);const m=()=>{e("/senaste-nytt")};return l?f.jsx("div",{className:"flex flex_col flex_a_C flex_j_C",style:{minHeight:"50vh"},children:f.jsx("p",{className:"fonts_large",children:"Laddar..."})}):t?f.jsxs("div",{className:"flex flex_col",children:[f.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:f.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:f.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:f.jsx("p",{className:"font_blue fonts_huge font_white",children:"NYHETER"})})})}),f.jsx("section",{style:{padding:"50px 0",backgroundColor:"#f5f5f5",width:"100vw"},children:f.jsxs("div",{className:"MaxWH",style:{padding:"0 20px",maxWidth:"1000px",margin:"0 auto"},children:[f.jsxs("button",{onClick:m,className:"navbbutton button font_blue",style:{marginBottom:"20px",padding:"10px 30px 10px 20px",display:"flex",alignItems:"center",gap:"5px",minWidth:"120px"},children:[f.jsx("span",{children:"←"})," ",f.jsx("span",{children:"Tillbaka"})]}),f.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[f.jsx("div",{style:{height:"400px",backgroundImage:`url(${t.fullImage||t.image})`,backgroundSize:"cover",backgroundPosition:"center"}}),f.jsxs("div",{style:{padding:"30px"},children:[f.jsx("h1",{className:"fonts_large font_blue",style:{marginBottom:"10px"},children:t.title}),f.jsx("p",{className:"fonts_small",style:{color:"#666",marginBottom:"30px"},children:t.date}),t.content.split(`

`).map((p,_)=>f.jsx("p",{className:"fonts_small",style:{marginBottom:"20px"},children:p},_))]})]}),f.jsx("div",{style:{marginTop:"30px",textAlign:"center"},children:f.jsxs("button",{onClick:m,className:"navbbutton button font_blue",style:{padding:"10px 30px 10px 20px",display:"flex",alignItems:"center",gap:"5px",minWidth:"120px"},children:[f.jsx("span",{children:"←"})," ",f.jsx("span",{children:"Tillbaka"})]})})]})}),f.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",style:{height:"50vh",width:"100vw"}})]}):f.jsxs("div",{className:"flex flex_col flex_a_C flex_j_C",style:{minHeight:"50vh"},children:[f.jsx("p",{className:"fonts_large",children:"Nyheten kunde inte hittas"}),f.jsx("button",{onClick:m,className:"navbbutton button font_blue",style:{marginTop:"20px",padding:"10px 20px"},children:"Tillbaka till nyheter"})]})},R0=()=>{const[s,e]=L.useState(""),[t,r]=L.useState(""),[l,u]=L.useState(""),[h,m]=L.useState(!1),p=Il(),{login:_,isAuthenticated:E}=yi();L.useEffect(()=>{E&&p("/")},[E,p]);const T=async A=>{A.preventDefault(),m(!0),u("");try{const k=await _(s,t);k.success?(console.log("Login successful"),console.log("Current user after login:",{email:s,role:"admin"}),p("/")):u(k.message||"Ogiltigt e-post eller lösenord")}catch(k){console.error("Login error:",k),u("Ett fel uppstod vid inloggning. Försök igen.")}finally{m(!1)}};return f.jsxs("div",{className:"flex flex_col",children:[f.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:f.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:f.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:f.jsx("p",{className:"font_blue fonts_huge font_white",children:"LOGGA IN"})})})}),f.jsx("section",{style:{padding:"50px 0",backgroundColor:"#f5f5f5",width:"100vw",minHeight:"60vh"},children:f.jsx("div",{className:"MaxWH",style:{padding:"0 20px",maxWidth:"500px",margin:"0 auto"},children:f.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",padding:"30px"},children:[f.jsx("h2",{className:"fonts_medium font_blue",style:{marginBottom:"20px",textAlign:"center"},children:"Administratörsinloggning"}),l&&f.jsx("div",{style:{backgroundColor:"rgba(255, 0, 0, 0.1)",color:"#d32f2f",padding:"10px",borderRadius:"4px",marginBottom:"20px",textAlign:"center"},children:l}),f.jsxs("form",{onSubmit:T,children:[f.jsxs("div",{style:{marginBottom:"20px"},children:[f.jsx("label",{htmlFor:"email",className:"fonts_small",style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"E-post"}),f.jsx("input",{type:"email",id:"email",value:s,onChange:A=>e(A.target.value),required:!0,style:{width:"80%",padding:"10px 12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"16px"}})]}),f.jsxs("div",{style:{marginBottom:"30px"},children:[f.jsx("label",{htmlFor:"password",className:"fonts_small",style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Lösenord"}),f.jsx("input",{type:"password",id:"password",value:t,onChange:A=>r(A.target.value),required:!0,style:{width:"80%",padding:"10px 12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"16px"}})]}),f.jsx("button",{type:"submit",className:"navbbutton button font_blue",style:{width:"80%",padding:"10px 15px",fontSize:"16px",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center"},disabled:h,children:h?"Loggar in...":"Logga in"})]}),f.jsxs("div",{style:{marginTop:"20px",textAlign:"center"},children:[f.jsx("p",{className:"fonts_small",style:{color:"#666"},children:"Detta är en inloggning endast för administratörer."}),f.jsx("p",{className:"fonts_small",style:{color:"#666",marginTop:"5px"},children:"Standard: admin@example.com / password123"})]})]})})}),f.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",style:{height:"30vh",width:"100vw"}})]})},XD=()=>{const{textContent:s,resetAllContent:e,removeContentItem:t,isAdmin:r}=Tr(),{isAuthenticated:l}=yi(),[u,h]=L.useState(!1),[m,p]=L.useState(null),[_,E]=L.useState("all"),T=Il();if(L.useEffect(()=>{(!l||!r)&&T("/")},[l,r,T]),!l||!r)return null;const A=()=>{h(!0),p(null)},k=Z=>{h(!0),p(Z)},j=()=>{m?t(m):e(),h(!1),p(null)},q=()=>{h(!1),p(null)},$=(()=>{const Z={text:{},image:{},background:{}};return Object.entries(s).forEach(([J,ae])=>{ae.startsWith("data:image")||ae.startsWith("http")||ae.startsWith("/")?J.includes("-bg")||J.includes("background")?Z.background[J]=ae:Z.image[J]=ae:Z.text[J]=ae}),Z})(),G=_==="all"?s:$[_]||{};return f.jsxs("div",{className:"flex flex_col",style:{minHeight:"100vh"},children:[f.jsx("section",{className:"page_01 dynamic-background flex flex_col flex_j_E",children:f.jsx("div",{className:"trans-background page_01box flex flex_col flex_j_SA",children:f.jsx("div",{className:"om-oss-title flex flex_j_C flex_a_C",children:f.jsx("p",{className:"font_blue fonts_huge",children:"Innehållshanterare"})})})}),f.jsxs("section",{style:{padding:"40px",maxWidth:"1200px",margin:"0 auto"},children:[f.jsxs("div",{style:{marginBottom:"30px",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"20px"},children:[f.jsx("h2",{className:"font_blue fonts_large",children:"Alla redigerbara innehåll"}),f.jsx("button",{onClick:A,style:{padding:"10px 20px",backgroundColor:"#ff4d4d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Återställ allt innehåll"})]}),f.jsxs("div",{style:{marginBottom:"30px",display:"flex",gap:"10px",flexWrap:"wrap"},children:[f.jsxs("button",{onClick:()=>E("all"),style:{padding:"8px 16px",backgroundColor:_==="all"?"#00a6fb":"#f0f0f0",color:_==="all"?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:["Alla (",Object.keys(s).length,")"]}),f.jsxs("button",{onClick:()=>E("text"),style:{padding:"8px 16px",backgroundColor:_==="text"?"#00a6fb":"#f0f0f0",color:_==="text"?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:["Texter (",Object.keys($.text).length,")"]}),f.jsxs("button",{onClick:()=>E("image"),style:{padding:"8px 16px",backgroundColor:_==="image"?"#00a6fb":"#f0f0f0",color:_==="image"?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:["Bilder (",Object.keys($.image).length,")"]}),f.jsxs("button",{onClick:()=>E("background"),style:{padding:"8px 16px",backgroundColor:_==="background"?"#00a6fb":"#f0f0f0",color:_==="background"?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:["Bakgrundsbilder (",Object.keys($.background).length,")"]})]}),u&&f.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},children:f.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"8px",maxWidth:"500px",width:"90%",textAlign:"center"},children:[f.jsx("h3",{style:{marginBottom:"20px",color:"#00a6fb"},children:"Bekräfta åtgärd"}),f.jsx("p",{style:{marginBottom:"30px"},children:m?`Är du säker på att du vill ta bort innehållet med nyckeln "${m}"?`:"Är du säker på att du vill återställa allt innehåll? Detta kan inte ångras."}),f.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"20px"},children:[f.jsx("button",{onClick:j,style:{padding:"10px 20px",backgroundColor:"#ff4d4d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:m?"Ta bort":"Återställ allt"}),f.jsx("button",{onClick:q,style:{padding:"10px 20px",backgroundColor:"#ccc",color:"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Avbryt"})]})]})}),Object.keys(G).length===0?f.jsxs("p",{children:["Inga redigerade ",_==="text"?"texter":_==="image"?"bilder":_==="background"?"bakgrundsbilder":"innehåll"," ännu."]}):f.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:Object.entries(G).map(([Z,J])=>{const ae=J.startsWith("data:image")||J.startsWith("http")||J.startsWith("/"),O=Z.includes("-bg")||Z.includes("background");return f.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"15px",backgroundColor:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[f.jsx("h3",{className:"font_blue fonts_medium",style:{wordBreak:"break-all",fontSize:"16px"},children:Z}),f.jsx("span",{style:{padding:"3px 8px",borderRadius:"4px",fontSize:"12px",backgroundColor:O?"#6c5ce7":ae?"#00b894":"#0984e3",color:"white"},children:O?"Bakgrund":ae?"Bild":"Text"})]}),f.jsx("div",{style:{marginBottom:"10px"},children:ae?f.jsxs("div",{children:[f.jsx("img",{src:J,alt:Z,style:{width:"100%",height:O?"150px":"auto",maxHeight:"150px",objectFit:O?"cover":"contain",borderRadius:"4px",border:"1px solid #eee"}}),O&&f.jsx("div",{style:{marginTop:"5px",fontSize:"12px",color:"#666",textAlign:"center"},children:"Bakgrundsbild"})]}):f.jsx("p",{style:{maxHeight:"100px",overflow:"auto",backgroundColor:"#f5f5f5",padding:"10px",borderRadius:"4px",fontSize:"14px"},children:J})}),f.jsx("button",{onClick:()=>k(Z),style:{width:"100%",padding:"8px",backgroundColor:"#ff4d4d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Ta bort"})]},Z)})})]})]})},ZD=({children:s,requireAdmin:e=!1})=>{const{isAuthenticated:t,currentUser:r}=yi();return t?e&&(r==null?void 0:r.role)!=="admin"?f.jsx(Kv,{to:"/"}):s:f.jsx(Kv,{to:"/login"})},JD=()=>{const{isAdmin:s,getText:e}=Tr();return L.useEffect(()=>{if(s)return document.body.classList.add("admin-editing-mode"),()=>{document.body.classList.remove("admin-editing-mode")}},[s]),L.useEffect(()=>{const t=()=>{const r=JSON.parse(localStorage.getItem("textContent")||"{}"),l=Object.keys(r).filter(h=>h.startsWith("bg-")&&(h.endsWith("-type")||h.endsWith("-image"))),u={};l.forEach(h=>{const m=h.split("-type")[0].split("-image")[0];u[m]||(u[m]={}),h.endsWith("-type")?u[m].type=r[h]:h.endsWith("-image")&&(u[m].image=r[h])}),Object.keys(u).forEach(h=>{const m=document.getElementById(h);if(!m)return;const p=u[h];p.type&&(m.classList.remove("simple-background","locked-background"),m.classList.add(`${p.type}-background`),p.type==="locked"?m.style.backgroundAttachment="fixed":m.style.backgroundAttachment="scroll"),p.image&&(m.style.backgroundImage=`url('${p.image}')`,m.style.backgroundSize="cover",m.style.backgroundPosition="center",m.style.backgroundRepeat="no-repeat")})};return t(),window.addEventListener("storage",t),()=>{window.removeEventListener("storage",t)}},[]),null},eO=()=>{const{isAdmin:s,getText:e,updateText:t}=Tr(),[r,l]=L.useState(null),[u,h]=L.useState(null),[m,p]=L.useState(!1),[_,E]=L.useState("simple"),[T,A]=L.useState("type"),[k,j]=L.useState(""),q=L.useRef(null);L.useEffect(()=>{if(!s)return;const Z=J=>{if(J.target.classList.contains("simple-background")||J.target.classList.contains("locked-background")||J.target.classList.contains("dynamic-background")||[...J.target.classList].some(O=>O.includes("-bg"))){J.stopPropagation(),l(J.target);let O=J.target.id;O||(O=`bg-${Date.now()}`,J.target.id=O),h(O);const R=e(`${O}-type`,null);R?E(R):J.target.classList.contains("locked-background")?E("locked"):E("simple");const S=e(`${O}-image`,null);if(S)j(S);else{let C=window.getComputedStyle(J.target).backgroundImage;C&&C!=="none"?(C=C.replace(/url\(['"]?(.*?)['"]?\)/i,"$1"),j(C)):j("")}p(!0)}};return document.addEventListener("click",Z),()=>{document.removeEventListener("click",Z)}},[s,e]);const V=()=>{!r||!u||(r.classList.remove("simple-background","locked-background"),r.classList.add(`${_}-background`),_==="locked"?r.style.backgroundAttachment="fixed":r.style.backgroundAttachment="scroll",t(`${u}-type`,_))},$=()=>{!r||!k||!u||(r.style.backgroundImage=`url('${k}')`,r.style.backgroundSize="cover",r.style.backgroundPosition="center",r.style.backgroundRepeat="no-repeat",t(`${u}-image`,k))},H=Z=>{const J=Z.target.files[0];if(!J)return;const ae=URL.createObjectURL(J);j(ae);const O=new FileReader;O.onloadend=()=>{j(O.result)},O.readAsDataURL(J)},G=()=>{V(),$(),p(!1)};return!s||!m?null:f.jsx("div",{className:"background-settings-modal",onClick:()=>p(!1),children:f.jsxs("div",{className:"background-settings-content",onClick:Z=>Z.stopPropagation(),children:[f.jsx("h3",{children:"Background Settings"}),f.jsxs("div",{className:"settings-tabs",children:[f.jsx("button",{className:`tab-button ${T==="type"?"active":""}`,onClick:()=>A("type"),children:"Background Type"}),f.jsx("button",{className:`tab-button ${T==="image"?"active":""}`,onClick:()=>A("image"),children:"Background Image"})]}),T==="type"&&f.jsxs("div",{className:"background-type-options",children:[f.jsx("div",{className:"form-group",children:f.jsxs("label",{children:[f.jsx("input",{type:"radio",name:"backgroundType",value:"simple",checked:_==="simple",onChange:()=>E("simple")}),"Simple (Scrolls with content)"]})}),f.jsx("div",{className:"form-group",children:f.jsxs("label",{children:[f.jsx("input",{type:"radio",name:"backgroundType",value:"locked",checked:_==="locked",onChange:()=>E("locked")}),"Locked (Fixed when scrolling)"]})})]}),T==="image"&&f.jsxs("div",{className:"background-image-options",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"imageUrl",children:"Image URL:"}),f.jsx("input",{type:"text",id:"imageUrl",value:k,onChange:Z=>j(Z.target.value),placeholder:"Enter image URL",className:"image-url-input"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Or upload an image:"}),f.jsx("input",{type:"file",accept:"image/*",onChange:H,ref:q,className:"file-input"}),f.jsx("button",{className:"upload-button",onClick:()=>q.current.click(),children:"Choose File"})]}),k&&f.jsxs("div",{className:"image-preview",children:[f.jsx("p",{children:"Preview:"}),f.jsx("img",{src:k,alt:"Background preview"})]})]}),f.jsxs("div",{className:"button-group",children:[f.jsx("button",{className:"cancel-button",onClick:()=>p(!1),children:"Cancel"}),f.jsx("button",{className:"apply-button",onClick:G,children:"Apply"})]})]})})},tO=async(s,e,t="Admin")=>{try{const l=(await t2(vl,s,e)).user;return await a2(l,{displayName:t}),await Ru(_r(fa,"users",l.uid),{email:s,displayName:t,role:"admin",createdAt:new Date}),{success:!0,user:{uid:l.uid,email:l.email,displayName:t,role:"admin"}}}catch(r){return console.error("Error creating admin user:",r),{success:!1,error:r.message}}},nO=async()=>{try{(await up(_r(fa,"settings","admin"))).exists()||(await tO("admin@example.com","password123")).success&&(await Ru(_r(fa,"settings","admin"),{initialized:!0,adminEmail:"admin@example.com",createdAt:new Date}),console.log("Admin user initialized successfully"))}catch(s){console.error("Error initializing admin user:",s)}},sO=()=>(L.useEffect(()=>{nO().then(()=>console.log("Admin user initialized")).catch(s=>console.error("Error initializing admin user:",s))},[]),f.jsx(TD,{children:f.jsx(RD,{children:f.jsx(Uw,{children:f.jsxs("div",{className:"flex flex_col MaxWH location",style:{width:"100%",maxWidth:"100%",overflow:"hidden",margin:0,padding:0,display:"flex",flexDirection:"column",position:"relative"},children:[f.jsx(ND,{}),f.jsx(JD,{}),f.jsx(eO,{}),f.jsx("div",{style:{margin:0,padding:0,width:"100%",position:"relative",top:0},children:f.jsxs(gw,{children:[f.jsx(bt,{path:"/",element:f.jsx(CD,{})}),f.jsx(bt,{path:"/competitions",element:f.jsx(ID,{})}),f.jsx(bt,{path:"/ulricehamn",element:f.jsx(jD,{})}),f.jsx(bt,{path:"/salen",element:f.jsx(DD,{})}),f.jsx(bt,{path:"/hemsedal",element:f.jsx(OD,{})}),f.jsx(bt,{path:"/kolmarden",element:f.jsx(MD,{})}),f.jsx(bt,{path:"/trippeln",element:f.jsx(LD,{})}),f.jsx(bt,{path:"/trippeln-results",element:f.jsx(PD,{})}),f.jsx(bt,{path:"/results",element:f.jsx(VD,{})}),f.jsx(bt,{path:"/gallery",element:f.jsxs(f.Fragment,{children:[f.jsx(UD,{}),f.jsx(HD,{})]})}),f.jsx(bt,{path:"/om-oss",element:f.jsx(BD,{})}),f.jsx(bt,{path:"/regler",element:f.jsx(zD,{})}),f.jsx(bt,{path:"/faq",element:f.jsx(KD,{})}),f.jsx(bt,{path:"/historien-om-aim",element:f.jsx(FD,{})}),f.jsx(bt,{path:"/senaste-nytt",element:f.jsx(WD,{})}),f.jsx(bt,{path:"/news/:id",element:f.jsx(YD,{})}),f.jsx(bt,{path:"/login",element:f.jsx(R0,{})}),f.jsx(bt,{path:"login",element:f.jsx(R0,{})}),f.jsx(bt,{path:"/content-manager",element:f.jsx(ZD,{requireAdmin:!0,children:f.jsx(XD,{})})})]})}),f.jsx(kD,{})]})})})}));(function(){const s=sessionStorage.redirect;delete sessionStorage.redirect,s&&s!==location.href&&history.replaceState(null,null,s)})();const aO=document.getElementById("root");AS.createRoot(aO).render(f.jsx(pS.StrictMode,{children:f.jsx(sO,{})}));
//# sourceMappingURL=index-DmZPlPYf.js.map
